import{s as Vo,n as ma,b as zo,o as Go,r as Ho}from"../chunks/scheduler.zMJaRgub.js";import{S as qo,i as Wo,e as On,c as Ln,d as Mt,g as lt,o as Ye,j as pr,y as Fn,b as Xo,s as _a,z as Ht,f as Zo,h as xa,A as qt,p as wi,k as er,B as ya,C as Rn,m as ba}from"../chunks/index.8O7eJNAN.js";import{p as Yo}from"../chunks/stores.PYueDRhC.js";import{b as jo}from"../chunks/entry.RB7-4Czp.js";function si(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const Ko=!0,Qo=!1,Jo=!0,Rc=Object.freeze(Object.defineProperty({__proto__:null,csr:Ko,prerender:Jo,ssr:Qo},Symbol.toStringTag,{value:"Module"})),$o=""+new URL("../assets/TTNormsPro-ExtraBlack.k1n_K5Rv.woff",import.meta.url).href,eu=""+new URL("../assets/circles_white.27ZnRvV0.svg",import.meta.url).href;var gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tu(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var n=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),n}function ru(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ms={exports:{}};const iu={},nu=Object.freeze(Object.defineProperty({__proto__:null,default:iu},Symbol.toStringTag,{value:"Module"})),Sa=tu(nu);var Wi={exports:{}},wa;function au(){return wa||(wa=1,function(t,i){(function(n,o){o(i)})(gs,function(n){var o=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],l=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],h="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",m="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",b={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},y="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",z={5:y,"5module":y+" export import",6:y+" const class extends export import super"},V=/^in(stanceof)?$/,K=new RegExp("["+m+"]"),X=new RegExp("["+m+h+"]");function D(a,p){for(var E=65536,N=0;N<p.length;N+=2){if(E+=p[N],E>a)return!1;if(E+=p[N+1],E>=a)return!0}return!1}function le(a,p){return a<65?a===36:a<91?!0:a<97?a===95:a<123?!0:a<=65535?a>=170&&K.test(String.fromCharCode(a)):p===!1?!1:D(a,l)}function ie(a,p){return a<48?a===36:a<58?!0:a<65?!1:a<91?!0:a<97?a===95:a<123?!0:a<=65535?a>=170&&X.test(String.fromCharCode(a)):p===!1?!1:D(a,l)||D(a,o)}var fe=function(p,E){E===void 0&&(E={}),this.label=p,this.keyword=E.keyword,this.beforeExpr=!!E.beforeExpr,this.startsExpr=!!E.startsExpr,this.isLoop=!!E.isLoop,this.isAssign=!!E.isAssign,this.prefix=!!E.prefix,this.postfix=!!E.postfix,this.binop=E.binop||null,this.updateContext=null};function ne(a,p){return new fe(a,{beforeExpr:!0,binop:p})}var Oe={beforeExpr:!0},pe={startsExpr:!0},Ne={};function me(a,p){return p===void 0&&(p={}),p.keyword=a,Ne[a]=new fe(a,p)}var M={num:new fe("num",pe),regexp:new fe("regexp",pe),string:new fe("string",pe),name:new fe("name",pe),privateId:new fe("privateId",pe),eof:new fe("eof"),bracketL:new fe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new fe("]"),braceL:new fe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new fe("}"),parenL:new fe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new fe(")"),comma:new fe(",",Oe),semi:new fe(";",Oe),colon:new fe(":",Oe),dot:new fe("."),question:new fe("?",Oe),questionDot:new fe("?."),arrow:new fe("=>",Oe),template:new fe("template"),invalidTemplate:new fe("invalidTemplate"),ellipsis:new fe("...",Oe),backQuote:new fe("`",pe),dollarBraceL:new fe("${",{beforeExpr:!0,startsExpr:!0}),eq:new fe("=",{beforeExpr:!0,isAssign:!0}),assign:new fe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new fe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new fe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ne("||",1),logicalAND:ne("&&",2),bitwiseOR:ne("|",3),bitwiseXOR:ne("^",4),bitwiseAND:ne("&",5),equality:ne("==/!=/===/!==",6),relational:ne("</>/<=/>=",7),bitShift:ne("<</>>/>>>",8),plusMin:new fe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ne("%",10),star:ne("*",10),slash:ne("/",10),starstar:new fe("**",{beforeExpr:!0}),coalesce:ne("??",1),_break:me("break"),_case:me("case",Oe),_catch:me("catch"),_continue:me("continue"),_debugger:me("debugger"),_default:me("default",Oe),_do:me("do",{isLoop:!0,beforeExpr:!0}),_else:me("else",Oe),_finally:me("finally"),_for:me("for",{isLoop:!0}),_function:me("function",pe),_if:me("if"),_return:me("return",Oe),_switch:me("switch"),_throw:me("throw",Oe),_try:me("try"),_var:me("var"),_const:me("const"),_while:me("while",{isLoop:!0}),_with:me("with"),_new:me("new",{beforeExpr:!0,startsExpr:!0}),_this:me("this",pe),_super:me("super",pe),_class:me("class",pe),_extends:me("extends",Oe),_export:me("export"),_import:me("import",pe),_null:me("null",pe),_true:me("true",pe),_false:me("false",pe),_in:me("in",{beforeExpr:!0,binop:7}),_instanceof:me("instanceof",{beforeExpr:!0,binop:7}),_typeof:me("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:me("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:me("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},be=/\r\n?|\n|\u2028|\u2029/,ve=new RegExp(be.source,"g");function Ue(a){return a===10||a===13||a===8232||a===8233}function Le(a,p,E){E===void 0&&(E=a.length);for(var N=p;N<E;N++){var q=a.charCodeAt(N);if(Ue(q))return N<E-1&&q===13&&a.charCodeAt(N+1)===10?N+2:N+1}return-1}var it=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ot=Object.prototype,ke=ot.hasOwnProperty,ct=ot.toString,ge=Object.hasOwn||function(a,p){return ke.call(a,p)},et=Array.isArray||function(a){return ct.call(a)==="[object Array]"},pt=Object.create(null);function Me(a){return pt[a]||(pt[a]=new RegExp("^(?:"+a.replace(/ /g,"|")+")$"))}function rt(a){return a<=65535?String.fromCharCode(a):(a-=65536,String.fromCharCode((a>>10)+55296,(a&1023)+56320))}var ut=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,vt=function(p,E){this.line=p,this.column=E};vt.prototype.offset=function(p){return new vt(this.line,this.column+p)};var Wt=function(p,E,N){this.start=E,this.end=N,p.sourceFile!==null&&(this.source=p.sourceFile)};function Nr(a,p){for(var E=1,N=0;;){var q=Le(a,N,p);if(q<0)return new vt(E,p-N);++E,N=q}}var gt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tr=!1;function wr(a){var p={};for(var E in gt)p[E]=a&&ge(a,E)?a[E]:gt[E];if(p.ecmaVersion==="latest"?p.ecmaVersion=1e8:p.ecmaVersion==null?(!tr&&typeof console=="object"&&console.warn&&(tr=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),p.ecmaVersion=11):p.ecmaVersion>=2015&&(p.ecmaVersion-=2009),p.allowReserved==null&&(p.allowReserved=p.ecmaVersion<5),(!a||a.allowHashBang==null)&&(p.allowHashBang=p.ecmaVersion>=14),et(p.onToken)){var N=p.onToken;p.onToken=function(q){return N.push(q)}}return et(p.onComment)&&(p.onComment=hr(p,p.onComment)),p}function hr(a,p){return function(E,N,q,te,ae,xe){var Ce={type:E?"Block":"Line",value:N,start:q,end:te};a.locations&&(Ce.loc=new Wt(this,ae,xe)),a.ranges&&(Ce.range=[q,te]),p.push(Ce)}}var dt=1,mt=2,_t=4,Mi=8,Ur=16,Ni=32,$r=64,Ui=128,Dr=256,fi=dt|mt|Dr;function ci(a,p){return mt|(a?_t:0)|(p?Mi:0)}var Br=0,St=1,Xt=2,xt=3,pi=4,Ke=5,e=function(p,E,N){this.options=p=wr(p),this.sourceFile=p.sourceFile,this.keywords=Me(z[p.ecmaVersion>=6?6:p.sourceType==="module"?"5module":5]);var q="";p.allowReserved!==!0&&(q=b[p.ecmaVersion>=6?6:p.ecmaVersion===5?5:3],p.sourceType==="module"&&(q+=" await")),this.reservedWords=Me(q);var te=(q?q+" ":"")+b.strict;this.reservedWordsStrict=Me(te),this.reservedWordsStrictBind=Me(te+" "+b.strictBind),this.input=String(E),this.containsEsc=!1,N?(this.pos=N,this.lineStart=this.input.lastIndexOf(`
`,N-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(be).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=M.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=p.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&p.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(dt),this.regexpState=null,this.privateNameStack=[]},r={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};e.prototype.parse=function(){var p=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(p)},r.inFunction.get=function(){return(this.currentVarScope().flags&mt)>0},r.inGenerator.get=function(){return(this.currentVarScope().flags&Mi)>0&&!this.currentVarScope().inClassFieldInit},r.inAsync.get=function(){return(this.currentVarScope().flags&_t)>0&&!this.currentVarScope().inClassFieldInit},r.canAwait.get=function(){for(var a=this.scopeStack.length-1;a>=0;a--){var p=this.scopeStack[a];if(p.inClassFieldInit||p.flags&Dr)return!1;if(p.flags&mt)return(p.flags&_t)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},r.allowSuper.get=function(){var a=this.currentThisScope(),p=a.flags,E=a.inClassFieldInit;return(p&$r)>0||E||this.options.allowSuperOutsideMethod},r.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Ui)>0},r.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},r.allowNewDotTarget.get=function(){var a=this.currentThisScope(),p=a.flags,E=a.inClassFieldInit;return(p&(mt|Dr))>0||E},r.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Dr)>0},e.extend=function(){for(var p=[],E=arguments.length;E--;)p[E]=arguments[E];for(var N=this,q=0;q<p.length;q++)N=p[q](N);return N},e.parse=function(p,E){return new this(E,p).parse()},e.parseExpressionAt=function(p,E,N){var q=new this(N,p,E);return q.nextToken(),q.parseExpression()},e.tokenizer=function(p,E){return new this(E,p)},Object.defineProperties(e.prototype,r);var s=e.prototype,u=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;s.strictDirective=function(a){if(this.options.ecmaVersion<5)return!1;for(;;){tt.lastIndex=a,a+=tt.exec(this.input)[0].length;var p=u.exec(this.input.slice(a));if(!p)return!1;if((p[1]||p[2])==="use strict"){tt.lastIndex=a+p[0].length;var E=tt.exec(this.input),N=E.index+E[0].length,q=this.input.charAt(N);return q===";"||q==="}"||be.test(E[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(q)||q==="!"&&this.input.charAt(N+1)==="=")}a+=p[0].length,tt.lastIndex=a,a+=tt.exec(this.input)[0].length,this.input[a]===";"&&a++}},s.eat=function(a){return this.type===a?(this.next(),!0):!1},s.isContextual=function(a){return this.type===M.name&&this.value===a&&!this.containsEsc},s.eatContextual=function(a){return this.isContextual(a)?(this.next(),!0):!1},s.expectContextual=function(a){this.eatContextual(a)||this.unexpected()},s.canInsertSemicolon=function(){return this.type===M.eof||this.type===M.braceR||be.test(this.input.slice(this.lastTokEnd,this.start))},s.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},s.semicolon=function(){!this.eat(M.semi)&&!this.insertSemicolon()&&this.unexpected()},s.afterTrailingComma=function(a,p){if(this.type===a)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),p||this.next(),!0},s.expect=function(a){this.eat(a)||this.unexpected()},s.unexpected=function(a){this.raise(a??this.start,"Unexpected token")};var f=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};s.checkPatternErrors=function(a,p){if(a){a.trailingComma>-1&&this.raiseRecoverable(a.trailingComma,"Comma is not permitted after the rest element");var E=p?a.parenthesizedAssign:a.parenthesizedBind;E>-1&&this.raiseRecoverable(E,p?"Assigning to rvalue":"Parenthesized pattern")}},s.checkExpressionErrors=function(a,p){if(!a)return!1;var E=a.shorthandAssign,N=a.doubleProto;if(!p)return E>=0||N>=0;E>=0&&this.raise(E,"Shorthand property assignments are valid only in destructuring patterns"),N>=0&&this.raiseRecoverable(N,"Redefinition of __proto__ property")},s.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},s.isSimpleAssignTarget=function(a){return a.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(a.expression):a.type==="Identifier"||a.type==="MemberExpression"};var c=e.prototype;c.parseTopLevel=function(a){var p=Object.create(null);for(a.body||(a.body=[]);this.type!==M.eof;){var E=this.parseStatement(null,!0,p);a.body.push(E)}if(this.inModule)for(var N=0,q=Object.keys(this.undefinedExports);N<q.length;N+=1){var te=q[N];this.raiseRecoverable(this.undefinedExports[te].start,"Export '"+te+"' is not defined")}return this.adaptDirectivePrologue(a.body),this.next(),a.sourceType=this.options.sourceType,this.finishNode(a,"Program")};var v={kind:"loop"},d={kind:"switch"};c.isLet=function(a){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;tt.lastIndex=this.pos;var p=tt.exec(this.input),E=this.pos+p[0].length,N=this.input.charCodeAt(E);if(N===91||N===92)return!0;if(a)return!1;if(N===123||N>55295&&N<56320)return!0;if(le(N,!0)){for(var q=E+1;ie(N=this.input.charCodeAt(q),!0);)++q;if(N===92||N>55295&&N<56320)return!0;var te=this.input.slice(E,q);if(!V.test(te))return!0}return!1},c.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;tt.lastIndex=this.pos;var a=tt.exec(this.input),p=this.pos+a[0].length,E;return!be.test(this.input.slice(this.pos,p))&&this.input.slice(p,p+8)==="function"&&(p+8===this.input.length||!(ie(E=this.input.charCodeAt(p+8))||E>55295&&E<56320))},c.parseStatement=function(a,p,E){var N=this.type,q=this.startNode(),te;switch(this.isLet(a)&&(N=M._var,te="let"),N){case M._break:case M._continue:return this.parseBreakContinueStatement(q,N.keyword);case M._debugger:return this.parseDebuggerStatement(q);case M._do:return this.parseDoStatement(q);case M._for:return this.parseForStatement(q);case M._function:return a&&(this.strict||a!=="if"&&a!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(q,!1,!a);case M._class:return a&&this.unexpected(),this.parseClass(q,!0);case M._if:return this.parseIfStatement(q);case M._return:return this.parseReturnStatement(q);case M._switch:return this.parseSwitchStatement(q);case M._throw:return this.parseThrowStatement(q);case M._try:return this.parseTryStatement(q);case M._const:case M._var:return te=te||this.value,a&&te!=="var"&&this.unexpected(),this.parseVarStatement(q,te);case M._while:return this.parseWhileStatement(q);case M._with:return this.parseWithStatement(q);case M.braceL:return this.parseBlock(!0,q);case M.semi:return this.parseEmptyStatement(q);case M._export:case M._import:if(this.options.ecmaVersion>10&&N===M._import){tt.lastIndex=this.pos;var ae=tt.exec(this.input),xe=this.pos+ae[0].length,Ce=this.input.charCodeAt(xe);if(Ce===40||Ce===46)return this.parseExpressionStatement(q,this.parseExpression())}return this.options.allowImportExportEverywhere||(p||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),N===M._import?this.parseImport(q):this.parseExport(q,E);default:if(this.isAsyncFunction())return a&&this.unexpected(),this.next(),this.parseFunctionStatement(q,!0,!a);var je=this.value,Je=this.parseExpression();return N===M.name&&Je.type==="Identifier"&&this.eat(M.colon)?this.parseLabeledStatement(q,je,Je,a):this.parseExpressionStatement(q,Je)}},c.parseBreakContinueStatement=function(a,p){var E=p==="break";this.next(),this.eat(M.semi)||this.insertSemicolon()?a.label=null:this.type!==M.name?this.unexpected():(a.label=this.parseIdent(),this.semicolon());for(var N=0;N<this.labels.length;++N){var q=this.labels[N];if((a.label==null||q.name===a.label.name)&&(q.kind!=null&&(E||q.kind==="loop")||a.label&&E))break}return N===this.labels.length&&this.raise(a.start,"Unsyntactic "+p),this.finishNode(a,E?"BreakStatement":"ContinueStatement")},c.parseDebuggerStatement=function(a){return this.next(),this.semicolon(),this.finishNode(a,"DebuggerStatement")},c.parseDoStatement=function(a){return this.next(),this.labels.push(v),a.body=this.parseStatement("do"),this.labels.pop(),this.expect(M._while),a.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(M.semi):this.semicolon(),this.finishNode(a,"DoWhileStatement")},c.parseForStatement=function(a){this.next();var p=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(v),this.enterScope(0),this.expect(M.parenL),this.type===M.semi)return p>-1&&this.unexpected(p),this.parseFor(a,null);var E=this.isLet();if(this.type===M._var||this.type===M._const||E){var N=this.startNode(),q=E?"let":this.value;return this.next(),this.parseVar(N,!0,q),this.finishNode(N,"VariableDeclaration"),(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&N.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===M._in?p>-1&&this.unexpected(p):a.await=p>-1),this.parseForIn(a,N)):(p>-1&&this.unexpected(p),this.parseFor(a,N))}var te=this.isContextual("let"),ae=!1,xe=new f,Ce=this.parseExpression(p>-1?"await":!0,xe);return this.type===M._in||(ae=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===M._in?p>-1&&this.unexpected(p):a.await=p>-1),te&&ae&&this.raise(Ce.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Ce,!1,xe),this.checkLValPattern(Ce),this.parseForIn(a,Ce)):(this.checkExpressionErrors(xe,!0),p>-1&&this.unexpected(p),this.parseFor(a,Ce))},c.parseFunctionStatement=function(a,p,E){return this.next(),this.parseFunction(a,_|(E?0:C),!1,p)},c.parseIfStatement=function(a){return this.next(),a.test=this.parseParenExpression(),a.consequent=this.parseStatement("if"),a.alternate=this.eat(M._else)?this.parseStatement("if"):null,this.finishNode(a,"IfStatement")},c.parseReturnStatement=function(a){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(M.semi)||this.insertSemicolon()?a.argument=null:(a.argument=this.parseExpression(),this.semicolon()),this.finishNode(a,"ReturnStatement")},c.parseSwitchStatement=function(a){this.next(),a.discriminant=this.parseParenExpression(),a.cases=[],this.expect(M.braceL),this.labels.push(d),this.enterScope(0);for(var p,E=!1;this.type!==M.braceR;)if(this.type===M._case||this.type===M._default){var N=this.type===M._case;p&&this.finishNode(p,"SwitchCase"),a.cases.push(p=this.startNode()),p.consequent=[],this.next(),N?p.test=this.parseExpression():(E&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),E=!0,p.test=null),this.expect(M.colon)}else p||this.unexpected(),p.consequent.push(this.parseStatement(null));return this.exitScope(),p&&this.finishNode(p,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(a,"SwitchStatement")},c.parseThrowStatement=function(a){return this.next(),be.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),a.argument=this.parseExpression(),this.semicolon(),this.finishNode(a,"ThrowStatement")};var g=[];c.parseCatchClauseParam=function(){var a=this.parseBindingAtom(),p=a.type==="Identifier";return this.enterScope(p?Ni:0),this.checkLValPattern(a,p?pi:Xt),this.expect(M.parenR),a},c.parseTryStatement=function(a){if(this.next(),a.block=this.parseBlock(),a.handler=null,this.type===M._catch){var p=this.startNode();this.next(),this.eat(M.parenL)?p.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),p.param=null,this.enterScope(0)),p.body=this.parseBlock(!1),this.exitScope(),a.handler=this.finishNode(p,"CatchClause")}return a.finalizer=this.eat(M._finally)?this.parseBlock():null,!a.handler&&!a.finalizer&&this.raise(a.start,"Missing catch or finally clause"),this.finishNode(a,"TryStatement")},c.parseVarStatement=function(a,p,E){return this.next(),this.parseVar(a,!1,p,E),this.semicolon(),this.finishNode(a,"VariableDeclaration")},c.parseWhileStatement=function(a){return this.next(),a.test=this.parseParenExpression(),this.labels.push(v),a.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(a,"WhileStatement")},c.parseWithStatement=function(a){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),a.object=this.parseParenExpression(),a.body=this.parseStatement("with"),this.finishNode(a,"WithStatement")},c.parseEmptyStatement=function(a){return this.next(),this.finishNode(a,"EmptyStatement")},c.parseLabeledStatement=function(a,p,E,N){for(var q=0,te=this.labels;q<te.length;q+=1){var ae=te[q];ae.name===p&&this.raise(E.start,"Label '"+p+"' is already declared")}for(var xe=this.type.isLoop?"loop":this.type===M._switch?"switch":null,Ce=this.labels.length-1;Ce>=0;Ce--){var je=this.labels[Ce];if(je.statementStart===a.start)je.statementStart=this.start,je.kind=xe;else break}return this.labels.push({name:p,kind:xe,statementStart:this.start}),a.body=this.parseStatement(N?N.indexOf("label")===-1?N+"label":N:"label"),this.labels.pop(),a.label=E,this.finishNode(a,"LabeledStatement")},c.parseExpressionStatement=function(a,p){return a.expression=p,this.semicolon(),this.finishNode(a,"ExpressionStatement")},c.parseBlock=function(a,p,E){for(a===void 0&&(a=!0),p===void 0&&(p=this.startNode()),p.body=[],this.expect(M.braceL),a&&this.enterScope(0);this.type!==M.braceR;){var N=this.parseStatement(null);p.body.push(N)}return E&&(this.strict=!1),this.next(),a&&this.exitScope(),this.finishNode(p,"BlockStatement")},c.parseFor=function(a,p){return a.init=p,this.expect(M.semi),a.test=this.type===M.semi?null:this.parseExpression(),this.expect(M.semi),a.update=this.type===M.parenR?null:this.parseExpression(),this.expect(M.parenR),a.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(a,"ForStatement")},c.parseForIn=function(a,p){var E=this.type===M._in;return this.next(),p.type==="VariableDeclaration"&&p.declarations[0].init!=null&&(!E||this.options.ecmaVersion<8||this.strict||p.kind!=="var"||p.declarations[0].id.type!=="Identifier")&&this.raise(p.start,(E?"for-in":"for-of")+" loop variable declaration may not have an initializer"),a.left=p,a.right=E?this.parseExpression():this.parseMaybeAssign(),this.expect(M.parenR),a.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(a,E?"ForInStatement":"ForOfStatement")},c.parseVar=function(a,p,E,N){for(a.declarations=[],a.kind=E;;){var q=this.startNode();if(this.parseVarId(q,E),this.eat(M.eq)?q.init=this.parseMaybeAssign(p):!N&&E==="const"&&!(this.type===M._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!N&&q.id.type!=="Identifier"&&!(p&&(this.type===M._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):q.init=null,a.declarations.push(this.finishNode(q,"VariableDeclarator")),!this.eat(M.comma))break}return a},c.parseVarId=function(a,p){a.id=this.parseBindingAtom(),this.checkLValPattern(a.id,p==="var"?St:Xt,!1)};var _=1,C=2,T=4;c.parseFunction=function(a,p,E,N,q){this.initFunction(a),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!N)&&(this.type===M.star&&p&C&&this.unexpected(),a.generator=this.eat(M.star)),this.options.ecmaVersion>=8&&(a.async=!!N),p&_&&(a.id=p&T&&this.type!==M.name?null:this.parseIdent(),a.id&&!(p&C)&&this.checkLValSimple(a.id,this.strict||a.generator||a.async?this.treatFunctionsAsVar?St:Xt:xt));var te=this.yieldPos,ae=this.awaitPos,xe=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ci(a.async,a.generator)),p&_||(a.id=this.type===M.name?this.parseIdent():null),this.parseFunctionParams(a),this.parseFunctionBody(a,E,!1,q),this.yieldPos=te,this.awaitPos=ae,this.awaitIdentPos=xe,this.finishNode(a,p&_?"FunctionDeclaration":"FunctionExpression")},c.parseFunctionParams=function(a){this.expect(M.parenL),a.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},c.parseClass=function(a,p){this.next();var E=this.strict;this.strict=!0,this.parseClassId(a,p),this.parseClassSuper(a);var N=this.enterClassBody(),q=this.startNode(),te=!1;for(q.body=[],this.expect(M.braceL);this.type!==M.braceR;){var ae=this.parseClassElement(a.superClass!==null);ae&&(q.body.push(ae),ae.type==="MethodDefinition"&&ae.kind==="constructor"?(te&&this.raiseRecoverable(ae.start,"Duplicate constructor in the same class"),te=!0):ae.key&&ae.key.type==="PrivateIdentifier"&&w(N,ae)&&this.raiseRecoverable(ae.key.start,"Identifier '#"+ae.key.name+"' has already been declared"))}return this.strict=E,this.next(),a.body=this.finishNode(q,"ClassBody"),this.exitClassBody(),this.finishNode(a,p?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(a){if(this.eat(M.semi))return null;var p=this.options.ecmaVersion,E=this.startNode(),N="",q=!1,te=!1,ae="method",xe=!1;if(this.eatContextual("static")){if(p>=13&&this.eat(M.braceL))return this.parseClassStaticBlock(E),E;this.isClassElementNameStart()||this.type===M.star?xe=!0:N="static"}if(E.static=xe,!N&&p>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===M.star)&&!this.canInsertSemicolon()?te=!0:N="async"),!N&&(p>=9||!te)&&this.eat(M.star)&&(q=!0),!N&&!te&&!q){var Ce=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?ae=Ce:N=Ce)}if(N?(E.computed=!1,E.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),E.key.name=N,this.finishNode(E.key,"Identifier")):this.parseClassElementName(E),p<13||this.type===M.parenL||ae!=="method"||q||te){var je=!E.static&&S(E,"constructor"),Je=je&&a;je&&ae!=="method"&&this.raise(E.key.start,"Constructor can't have get/set modifier"),E.kind=je?"constructor":ae,this.parseClassMethod(E,q,te,Je)}else this.parseClassField(E);return E},c.isClassElementNameStart=function(){return this.type===M.name||this.type===M.privateId||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword},c.parseClassElementName=function(a){this.type===M.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),a.computed=!1,a.key=this.parsePrivateIdent()):this.parsePropertyName(a)},c.parseClassMethod=function(a,p,E,N){var q=a.key;a.kind==="constructor"?(p&&this.raise(q.start,"Constructor can't be a generator"),E&&this.raise(q.start,"Constructor can't be an async method")):a.static&&S(a,"prototype")&&this.raise(q.start,"Classes may not have a static property named prototype");var te=a.value=this.parseMethod(p,E,N);return a.kind==="get"&&te.params.length!==0&&this.raiseRecoverable(te.start,"getter should have no params"),a.kind==="set"&&te.params.length!==1&&this.raiseRecoverable(te.start,"setter should have exactly one param"),a.kind==="set"&&te.params[0].type==="RestElement"&&this.raiseRecoverable(te.params[0].start,"Setter cannot use rest params"),this.finishNode(a,"MethodDefinition")},c.parseClassField=function(a){if(S(a,"constructor")?this.raise(a.key.start,"Classes can't have a field named 'constructor'"):a.static&&S(a,"prototype")&&this.raise(a.key.start,"Classes can't have a static field named 'prototype'"),this.eat(M.eq)){var p=this.currentThisScope(),E=p.inClassFieldInit;p.inClassFieldInit=!0,a.value=this.parseMaybeAssign(),p.inClassFieldInit=E}else a.value=null;return this.semicolon(),this.finishNode(a,"PropertyDefinition")},c.parseClassStaticBlock=function(a){a.body=[];var p=this.labels;for(this.labels=[],this.enterScope(Dr|$r);this.type!==M.braceR;){var E=this.parseStatement(null);a.body.push(E)}return this.next(),this.exitScope(),this.labels=p,this.finishNode(a,"StaticBlock")},c.parseClassId=function(a,p){this.type===M.name?(a.id=this.parseIdent(),p&&this.checkLValSimple(a.id,Xt,!1)):(p===!0&&this.unexpected(),a.id=null)},c.parseClassSuper=function(a){a.superClass=this.eat(M._extends)?this.parseExprSubscripts(null,!1):null},c.enterClassBody=function(){var a={declared:Object.create(null),used:[]};return this.privateNameStack.push(a),a.declared},c.exitClassBody=function(){var a=this.privateNameStack.pop(),p=a.declared,E=a.used;if(this.options.checkPrivateFields)for(var N=this.privateNameStack.length,q=N===0?null:this.privateNameStack[N-1],te=0;te<E.length;++te){var ae=E[te];ge(p,ae.name)||(q?q.used.push(ae):this.raiseRecoverable(ae.start,"Private field '#"+ae.name+"' must be declared in an enclosing class"))}};function w(a,p){var E=p.key.name,N=a[E],q="true";return p.type==="MethodDefinition"&&(p.kind==="get"||p.kind==="set")&&(q=(p.static?"s":"i")+p.kind),N==="iget"&&q==="iset"||N==="iset"&&q==="iget"||N==="sget"&&q==="sset"||N==="sset"&&q==="sget"?(a[E]="true",!1):N?!0:(a[E]=q,!1)}function S(a,p){var E=a.computed,N=a.key;return!E&&(N.type==="Identifier"&&N.name===p||N.type==="Literal"&&N.value===p)}c.parseExportAllDeclaration=function(a,p){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(a.exported=this.parseModuleExportName(),this.checkExport(p,a.exported,this.lastTokStart)):a.exported=null),this.expectContextual("from"),this.type!==M.string&&this.unexpected(),a.source=this.parseExprAtom(),this.semicolon(),this.finishNode(a,"ExportAllDeclaration")},c.parseExport=function(a,p){if(this.next(),this.eat(M.star))return this.parseExportAllDeclaration(a,p);if(this.eat(M._default))return this.checkExport(p,"default",this.lastTokStart),a.declaration=this.parseExportDefaultDeclaration(),this.finishNode(a,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())a.declaration=this.parseExportDeclaration(a),a.declaration.type==="VariableDeclaration"?this.checkVariableExport(p,a.declaration.declarations):this.checkExport(p,a.declaration.id,a.declaration.id.start),a.specifiers=[],a.source=null;else{if(a.declaration=null,a.specifiers=this.parseExportSpecifiers(p),this.eatContextual("from"))this.type!==M.string&&this.unexpected(),a.source=this.parseExprAtom();else{for(var E=0,N=a.specifiers;E<N.length;E+=1){var q=N[E];this.checkUnreserved(q.local),this.checkLocalExport(q.local),q.local.type==="Literal"&&this.raise(q.local.start,"A string literal cannot be used as an exported binding without `from`.")}a.source=null}this.semicolon()}return this.finishNode(a,"ExportNamedDeclaration")},c.parseExportDeclaration=function(a){return this.parseStatement(null)},c.parseExportDefaultDeclaration=function(){var a;if(this.type===M._function||(a=this.isAsyncFunction())){var p=this.startNode();return this.next(),a&&this.next(),this.parseFunction(p,_|T,!1,a)}else if(this.type===M._class){var E=this.startNode();return this.parseClass(E,"nullableID")}else{var N=this.parseMaybeAssign();return this.semicolon(),N}},c.checkExport=function(a,p,E){a&&(typeof p!="string"&&(p=p.type==="Identifier"?p.name:p.value),ge(a,p)&&this.raiseRecoverable(E,"Duplicate export '"+p+"'"),a[p]=!0)},c.checkPatternExport=function(a,p){var E=p.type;if(E==="Identifier")this.checkExport(a,p,p.start);else if(E==="ObjectPattern")for(var N=0,q=p.properties;N<q.length;N+=1){var te=q[N];this.checkPatternExport(a,te)}else if(E==="ArrayPattern")for(var ae=0,xe=p.elements;ae<xe.length;ae+=1){var Ce=xe[ae];Ce&&this.checkPatternExport(a,Ce)}else E==="Property"?this.checkPatternExport(a,p.value):E==="AssignmentPattern"?this.checkPatternExport(a,p.left):E==="RestElement"&&this.checkPatternExport(a,p.argument)},c.checkVariableExport=function(a,p){if(a)for(var E=0,N=p;E<N.length;E+=1){var q=N[E];this.checkPatternExport(a,q.id)}},c.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},c.parseExportSpecifier=function(a){var p=this.startNode();return p.local=this.parseModuleExportName(),p.exported=this.eatContextual("as")?this.parseModuleExportName():p.local,this.checkExport(a,p.exported,p.exported.start),this.finishNode(p,"ExportSpecifier")},c.parseExportSpecifiers=function(a){var p=[],E=!0;for(this.expect(M.braceL);!this.eat(M.braceR);){if(E)E=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;p.push(this.parseExportSpecifier(a))}return p},c.parseImport=function(a){return this.next(),this.type===M.string?(a.specifiers=g,a.source=this.parseExprAtom()):(a.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),a.source=this.type===M.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(a,"ImportDeclaration")},c.parseImportSpecifier=function(){var a=this.startNode();return a.imported=this.parseModuleExportName(),this.eatContextual("as")?a.local=this.parseIdent():(this.checkUnreserved(a.imported),a.local=a.imported),this.checkLValSimple(a.local,Xt),this.finishNode(a,"ImportSpecifier")},c.parseImportDefaultSpecifier=function(){var a=this.startNode();return a.local=this.parseIdent(),this.checkLValSimple(a.local,Xt),this.finishNode(a,"ImportDefaultSpecifier")},c.parseImportNamespaceSpecifier=function(){var a=this.startNode();return this.next(),this.expectContextual("as"),a.local=this.parseIdent(),this.checkLValSimple(a.local,Xt),this.finishNode(a,"ImportNamespaceSpecifier")},c.parseImportSpecifiers=function(){var a=[],p=!0;if(this.type===M.name&&(a.push(this.parseImportDefaultSpecifier()),!this.eat(M.comma)))return a;if(this.type===M.star)return a.push(this.parseImportNamespaceSpecifier()),a;for(this.expect(M.braceL);!this.eat(M.braceR);){if(p)p=!1;else if(this.expect(M.comma),this.afterTrailingComma(M.braceR))break;a.push(this.parseImportSpecifier())}return a},c.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===M.string){var a=this.parseLiteral(this.value);return ut.test(a.value)&&this.raise(a.start,"An export name cannot include a lone surrogate."),a}return this.parseIdent(!0)},c.adaptDirectivePrologue=function(a){for(var p=0;p<a.length&&this.isDirectiveCandidate(a[p]);++p)a[p].directive=a[p].expression.raw.slice(1,-1)},c.isDirectiveCandidate=function(a){return this.options.ecmaVersion>=5&&a.type==="ExpressionStatement"&&a.expression.type==="Literal"&&typeof a.expression.value=="string"&&(this.input[a.start]==='"'||this.input[a.start]==="'")};var L=e.prototype;L.toAssignable=function(a,p,E){if(this.options.ecmaVersion>=6&&a)switch(a.type){case"Identifier":this.inAsync&&a.name==="await"&&this.raise(a.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":a.type="ObjectPattern",E&&this.checkPatternErrors(E,!0);for(var N=0,q=a.properties;N<q.length;N+=1){var te=q[N];this.toAssignable(te,p),te.type==="RestElement"&&(te.argument.type==="ArrayPattern"||te.argument.type==="ObjectPattern")&&this.raise(te.argument.start,"Unexpected token")}break;case"Property":a.kind!=="init"&&this.raise(a.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(a.value,p);break;case"ArrayExpression":a.type="ArrayPattern",E&&this.checkPatternErrors(E,!0),this.toAssignableList(a.elements,p);break;case"SpreadElement":a.type="RestElement",this.toAssignable(a.argument,p),a.argument.type==="AssignmentPattern"&&this.raise(a.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":a.operator!=="="&&this.raise(a.left.end,"Only '=' operator can be used for specifying default value."),a.type="AssignmentPattern",delete a.operator,this.toAssignable(a.left,p);break;case"ParenthesizedExpression":this.toAssignable(a.expression,p,E);break;case"ChainExpression":this.raiseRecoverable(a.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!p)break;default:this.raise(a.start,"Assigning to rvalue")}else E&&this.checkPatternErrors(E,!0);return a},L.toAssignableList=function(a,p){for(var E=a.length,N=0;N<E;N++){var q=a[N];q&&this.toAssignable(q,p)}if(E){var te=a[E-1];this.options.ecmaVersion===6&&p&&te&&te.type==="RestElement"&&te.argument.type!=="Identifier"&&this.unexpected(te.argument.start)}return a},L.parseSpread=function(a){var p=this.startNode();return this.next(),p.argument=this.parseMaybeAssign(!1,a),this.finishNode(p,"SpreadElement")},L.parseRestBinding=function(){var a=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==M.name&&this.unexpected(),a.argument=this.parseBindingAtom(),this.finishNode(a,"RestElement")},L.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case M.bracketL:var a=this.startNode();return this.next(),a.elements=this.parseBindingList(M.bracketR,!0,!0),this.finishNode(a,"ArrayPattern");case M.braceL:return this.parseObj(!0)}return this.parseIdent()},L.parseBindingList=function(a,p,E,N){for(var q=[],te=!0;!this.eat(a);)if(te?te=!1:this.expect(M.comma),p&&this.type===M.comma)q.push(null);else{if(E&&this.afterTrailingComma(a))break;if(this.type===M.ellipsis){var ae=this.parseRestBinding();this.parseBindingListItem(ae),q.push(ae),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(a);break}else q.push(this.parseAssignableListItem(N))}return q},L.parseAssignableListItem=function(a){var p=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(p),p},L.parseBindingListItem=function(a){return a},L.parseMaybeDefault=function(a,p,E){if(E=E||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(M.eq))return E;var N=this.startNodeAt(a,p);return N.left=E,N.right=this.parseMaybeAssign(),this.finishNode(N,"AssignmentPattern")},L.checkLValSimple=function(a,p,E){p===void 0&&(p=Br);var N=p!==Br;switch(a.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(a.name)&&this.raiseRecoverable(a.start,(N?"Binding ":"Assigning to ")+a.name+" in strict mode"),N&&(p===Xt&&a.name==="let"&&this.raiseRecoverable(a.start,"let is disallowed as a lexically bound name"),E&&(ge(E,a.name)&&this.raiseRecoverable(a.start,"Argument name clash"),E[a.name]=!0),p!==Ke&&this.declareName(a.name,p,a.start));break;case"ChainExpression":this.raiseRecoverable(a.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":N&&this.raiseRecoverable(a.start,"Binding member expression");break;case"ParenthesizedExpression":return N&&this.raiseRecoverable(a.start,"Binding parenthesized expression"),this.checkLValSimple(a.expression,p,E);default:this.raise(a.start,(N?"Binding":"Assigning to")+" rvalue")}},L.checkLValPattern=function(a,p,E){switch(p===void 0&&(p=Br),a.type){case"ObjectPattern":for(var N=0,q=a.properties;N<q.length;N+=1){var te=q[N];this.checkLValInnerPattern(te,p,E)}break;case"ArrayPattern":for(var ae=0,xe=a.elements;ae<xe.length;ae+=1){var Ce=xe[ae];Ce&&this.checkLValInnerPattern(Ce,p,E)}break;default:this.checkLValSimple(a,p,E)}},L.checkLValInnerPattern=function(a,p,E){switch(p===void 0&&(p=Br),a.type){case"Property":this.checkLValInnerPattern(a.value,p,E);break;case"AssignmentPattern":this.checkLValPattern(a.left,p,E);break;case"RestElement":this.checkLValPattern(a.argument,p,E);break;default:this.checkLValPattern(a,p,E)}};var P=function(p,E,N,q,te){this.token=p,this.isExpr=!!E,this.preserveSpace=!!N,this.override=q,this.generator=!!te},O={b_stat:new P("{",!1),b_expr:new P("{",!0),b_tmpl:new P("${",!1),p_stat:new P("(",!1),p_expr:new P("(",!0),q_tmpl:new P("`",!0,!0,function(a){return a.tryReadTemplateToken()}),f_stat:new P("function",!1),f_expr:new P("function",!0),f_expr_gen:new P("function",!0,!1,null,!0),f_gen:new P("function",!1,!1,null,!0)},k=e.prototype;k.initialContext=function(){return[O.b_stat]},k.curContext=function(){return this.context[this.context.length-1]},k.braceIsBlock=function(a){var p=this.curContext();return p===O.f_expr||p===O.f_stat?!0:a===M.colon&&(p===O.b_stat||p===O.b_expr)?!p.isExpr:a===M._return||a===M.name&&this.exprAllowed?be.test(this.input.slice(this.lastTokEnd,this.start)):a===M._else||a===M.semi||a===M.eof||a===M.parenR||a===M.arrow?!0:a===M.braceL?p===O.b_stat:a===M._var||a===M._const||a===M.name?!1:!this.exprAllowed},k.inGeneratorContext=function(){for(var a=this.context.length-1;a>=1;a--){var p=this.context[a];if(p.token==="function")return p.generator}return!1},k.updateContext=function(a){var p,E=this.type;E.keyword&&a===M.dot?this.exprAllowed=!1:(p=E.updateContext)?p.call(this,a):this.exprAllowed=E.beforeExpr},k.overrideContext=function(a){this.curContext()!==a&&(this.context[this.context.length-1]=a)},M.parenR.updateContext=M.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var a=this.context.pop();a===O.b_stat&&this.curContext().token==="function"&&(a=this.context.pop()),this.exprAllowed=!a.isExpr},M.braceL.updateContext=function(a){this.context.push(this.braceIsBlock(a)?O.b_stat:O.b_expr),this.exprAllowed=!0},M.dollarBraceL.updateContext=function(){this.context.push(O.b_tmpl),this.exprAllowed=!0},M.parenL.updateContext=function(a){var p=a===M._if||a===M._for||a===M._with||a===M._while;this.context.push(p?O.p_stat:O.p_expr),this.exprAllowed=!0},M.incDec.updateContext=function(){},M._function.updateContext=M._class.updateContext=function(a){a.beforeExpr&&a!==M._else&&!(a===M.semi&&this.curContext()!==O.p_stat)&&!(a===M._return&&be.test(this.input.slice(this.lastTokEnd,this.start)))&&!((a===M.colon||a===M.braceL)&&this.curContext()===O.b_stat)?this.context.push(O.f_expr):this.context.push(O.f_stat),this.exprAllowed=!1},M.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},M.backQuote.updateContext=function(){this.curContext()===O.q_tmpl?this.context.pop():this.context.push(O.q_tmpl),this.exprAllowed=!1},M.star.updateContext=function(a){if(a===M._function){var p=this.context.length-1;this.context[p]===O.f_expr?this.context[p]=O.f_expr_gen:this.context[p]=O.f_gen}this.exprAllowed=!0},M.name.updateContext=function(a){var p=!1;this.options.ecmaVersion>=6&&a!==M.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(p=!0),this.exprAllowed=p};var I=e.prototype;I.checkPropClash=function(a,p,E){if(!(this.options.ecmaVersion>=9&&a.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(a.computed||a.method||a.shorthand))){var N=a.key,q;switch(N.type){case"Identifier":q=N.name;break;case"Literal":q=String(N.value);break;default:return}var te=a.kind;if(this.options.ecmaVersion>=6){q==="__proto__"&&te==="init"&&(p.proto&&(E?E.doubleProto<0&&(E.doubleProto=N.start):this.raiseRecoverable(N.start,"Redefinition of __proto__ property")),p.proto=!0);return}q="$"+q;var ae=p[q];if(ae){var xe;te==="init"?xe=this.strict&&ae.init||ae.get||ae.set:xe=ae.init||ae[te],xe&&this.raiseRecoverable(N.start,"Redefinition of property")}else ae=p[q]={init:!1,get:!1,set:!1};ae[te]=!0}},I.parseExpression=function(a,p){var E=this.start,N=this.startLoc,q=this.parseMaybeAssign(a,p);if(this.type===M.comma){var te=this.startNodeAt(E,N);for(te.expressions=[q];this.eat(M.comma);)te.expressions.push(this.parseMaybeAssign(a,p));return this.finishNode(te,"SequenceExpression")}return q},I.parseMaybeAssign=function(a,p,E){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(a);this.exprAllowed=!1}var N=!1,q=-1,te=-1,ae=-1;p?(q=p.parenthesizedAssign,te=p.trailingComma,ae=p.doubleProto,p.parenthesizedAssign=p.trailingComma=-1):(p=new f,N=!0);var xe=this.start,Ce=this.startLoc;(this.type===M.parenL||this.type===M.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=a==="await");var je=this.parseMaybeConditional(a,p);if(E&&(je=E.call(this,je,xe,Ce)),this.type.isAssign){var Je=this.startNodeAt(xe,Ce);return Je.operator=this.value,this.type===M.eq&&(je=this.toAssignable(je,!1,p)),N||(p.parenthesizedAssign=p.trailingComma=p.doubleProto=-1),p.shorthandAssign>=je.start&&(p.shorthandAssign=-1),this.type===M.eq?this.checkLValPattern(je):this.checkLValSimple(je),Je.left=je,this.next(),Je.right=this.parseMaybeAssign(a),ae>-1&&(p.doubleProto=ae),this.finishNode(Je,"AssignmentExpression")}else N&&this.checkExpressionErrors(p,!0);return q>-1&&(p.parenthesizedAssign=q),te>-1&&(p.trailingComma=te),je},I.parseMaybeConditional=function(a,p){var E=this.start,N=this.startLoc,q=this.parseExprOps(a,p);if(this.checkExpressionErrors(p))return q;if(this.eat(M.question)){var te=this.startNodeAt(E,N);return te.test=q,te.consequent=this.parseMaybeAssign(),this.expect(M.colon),te.alternate=this.parseMaybeAssign(a),this.finishNode(te,"ConditionalExpression")}return q},I.parseExprOps=function(a,p){var E=this.start,N=this.startLoc,q=this.parseMaybeUnary(p,!1,!1,a);return this.checkExpressionErrors(p)||q.start===E&&q.type==="ArrowFunctionExpression"?q:this.parseExprOp(q,E,N,-1,a)},I.parseExprOp=function(a,p,E,N,q){var te=this.type.binop;if(te!=null&&(!q||this.type!==M._in)&&te>N){var ae=this.type===M.logicalOR||this.type===M.logicalAND,xe=this.type===M.coalesce;xe&&(te=M.logicalAND.binop);var Ce=this.value;this.next();var je=this.start,Je=this.startLoc,kt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,q),je,Je,te,q),_r=this.buildBinary(p,E,a,kt,Ce,ae||xe);return(ae&&this.type===M.coalesce||xe&&(this.type===M.logicalOR||this.type===M.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(_r,p,E,N,q)}return a},I.buildBinary=function(a,p,E,N,q,te){N.type==="PrivateIdentifier"&&this.raise(N.start,"Private identifier can only be left side of binary expression");var ae=this.startNodeAt(a,p);return ae.left=E,ae.operator=q,ae.right=N,this.finishNode(ae,te?"LogicalExpression":"BinaryExpression")},I.parseMaybeUnary=function(a,p,E,N){var q=this.start,te=this.startLoc,ae;if(this.isContextual("await")&&this.canAwait)ae=this.parseAwait(N),p=!0;else if(this.type.prefix){var xe=this.startNode(),Ce=this.type===M.incDec;xe.operator=this.value,xe.prefix=!0,this.next(),xe.argument=this.parseMaybeUnary(null,!0,Ce,N),this.checkExpressionErrors(a,!0),Ce?this.checkLValSimple(xe.argument):this.strict&&xe.operator==="delete"&&xe.argument.type==="Identifier"?this.raiseRecoverable(xe.start,"Deleting local variable in strict mode"):xe.operator==="delete"&&x(xe.argument)?this.raiseRecoverable(xe.start,"Private fields can not be deleted"):p=!0,ae=this.finishNode(xe,Ce?"UpdateExpression":"UnaryExpression")}else if(!p&&this.type===M.privateId)(N||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),ae=this.parsePrivateIdent(),this.type!==M._in&&this.unexpected();else{if(ae=this.parseExprSubscripts(a,N),this.checkExpressionErrors(a))return ae;for(;this.type.postfix&&!this.canInsertSemicolon();){var je=this.startNodeAt(q,te);je.operator=this.value,je.prefix=!1,je.argument=ae,this.checkLValSimple(ae),this.next(),ae=this.finishNode(je,"UpdateExpression")}}if(!E&&this.eat(M.starstar))if(p)this.unexpected(this.lastTokStart);else return this.buildBinary(q,te,ae,this.parseMaybeUnary(null,!1,!1,N),"**",!1);else return ae};function x(a){return a.type==="MemberExpression"&&a.property.type==="PrivateIdentifier"||a.type==="ChainExpression"&&x(a.expression)}I.parseExprSubscripts=function(a,p){var E=this.start,N=this.startLoc,q=this.parseExprAtom(a,p);if(q.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return q;var te=this.parseSubscripts(q,E,N,!1,p);return a&&te.type==="MemberExpression"&&(a.parenthesizedAssign>=te.start&&(a.parenthesizedAssign=-1),a.parenthesizedBind>=te.start&&(a.parenthesizedBind=-1),a.trailingComma>=te.start&&(a.trailingComma=-1)),te},I.parseSubscripts=function(a,p,E,N,q){for(var te=this.options.ecmaVersion>=8&&a.type==="Identifier"&&a.name==="async"&&this.lastTokEnd===a.end&&!this.canInsertSemicolon()&&a.end-a.start===5&&this.potentialArrowAt===a.start,ae=!1;;){var xe=this.parseSubscript(a,p,E,N,te,ae,q);if(xe.optional&&(ae=!0),xe===a||xe.type==="ArrowFunctionExpression"){if(ae){var Ce=this.startNodeAt(p,E);Ce.expression=xe,xe=this.finishNode(Ce,"ChainExpression")}return xe}a=xe}},I.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(M.arrow)},I.parseSubscriptAsyncArrow=function(a,p,E,N){return this.parseArrowExpression(this.startNodeAt(a,p),E,!0,N)},I.parseSubscript=function(a,p,E,N,q,te,ae){var xe=this.options.ecmaVersion>=11,Ce=xe&&this.eat(M.questionDot);N&&Ce&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var je=this.eat(M.bracketL);if(je||Ce&&this.type!==M.parenL&&this.type!==M.backQuote||this.eat(M.dot)){var Je=this.startNodeAt(p,E);Je.object=a,je?(Je.property=this.parseExpression(),this.expect(M.bracketR)):this.type===M.privateId&&a.type!=="Super"?Je.property=this.parsePrivateIdent():Je.property=this.parseIdent(this.options.allowReserved!=="never"),Je.computed=!!je,xe&&(Je.optional=Ce),a=this.finishNode(Je,"MemberExpression")}else if(!N&&this.eat(M.parenL)){var kt=new f,_r=this.yieldPos,qr=this.awaitPos,Cr=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ti=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1,kt);if(q&&!Ce&&this.shouldParseAsyncArrow())return this.checkPatternErrors(kt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=_r,this.awaitPos=qr,this.awaitIdentPos=Cr,this.parseSubscriptAsyncArrow(p,E,ti,ae);this.checkExpressionErrors(kt,!0),this.yieldPos=_r||this.yieldPos,this.awaitPos=qr||this.awaitPos,this.awaitIdentPos=Cr||this.awaitIdentPos;var kr=this.startNodeAt(p,E);kr.callee=a,kr.arguments=ti,xe&&(kr.optional=Ce),a=this.finishNode(kr,"CallExpression")}else if(this.type===M.backQuote){(Ce||te)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Tr=this.startNodeAt(p,E);Tr.tag=a,Tr.quasi=this.parseTemplate({isTagged:!0}),a=this.finishNode(Tr,"TaggedTemplateExpression")}return a},I.parseExprAtom=function(a,p,E){this.type===M.slash&&this.readRegexp();var N,q=this.potentialArrowAt===this.start;switch(this.type){case M._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),N=this.startNode(),this.next(),this.type===M.parenL&&!this.allowDirectSuper&&this.raise(N.start,"super() call outside constructor of a subclass"),this.type!==M.dot&&this.type!==M.bracketL&&this.type!==M.parenL&&this.unexpected(),this.finishNode(N,"Super");case M._this:return N=this.startNode(),this.next(),this.finishNode(N,"ThisExpression");case M.name:var te=this.start,ae=this.startLoc,xe=this.containsEsc,Ce=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!xe&&Ce.name==="async"&&!this.canInsertSemicolon()&&this.eat(M._function))return this.overrideContext(O.f_expr),this.parseFunction(this.startNodeAt(te,ae),0,!1,!0,p);if(q&&!this.canInsertSemicolon()){if(this.eat(M.arrow))return this.parseArrowExpression(this.startNodeAt(te,ae),[Ce],!1,p);if(this.options.ecmaVersion>=8&&Ce.name==="async"&&this.type===M.name&&!xe&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Ce=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(M.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(te,ae),[Ce],!0,p)}return Ce;case M.regexp:var je=this.value;return N=this.parseLiteral(je.value),N.regex={pattern:je.pattern,flags:je.flags},N;case M.num:case M.string:return this.parseLiteral(this.value);case M._null:case M._true:case M._false:return N=this.startNode(),N.value=this.type===M._null?null:this.type===M._true,N.raw=this.type.keyword,this.next(),this.finishNode(N,"Literal");case M.parenL:var Je=this.start,kt=this.parseParenAndDistinguishExpression(q,p);return a&&(a.parenthesizedAssign<0&&!this.isSimpleAssignTarget(kt)&&(a.parenthesizedAssign=Je),a.parenthesizedBind<0&&(a.parenthesizedBind=Je)),kt;case M.bracketL:return N=this.startNode(),this.next(),N.elements=this.parseExprList(M.bracketR,!0,!0,a),this.finishNode(N,"ArrayExpression");case M.braceL:return this.overrideContext(O.b_expr),this.parseObj(!1,a);case M._function:return N=this.startNode(),this.next(),this.parseFunction(N,0);case M._class:return this.parseClass(this.startNode(),!1);case M._new:return this.parseNew();case M.backQuote:return this.parseTemplate();case M._import:return this.options.ecmaVersion>=11?this.parseExprImport(E):this.unexpected();default:return this.parseExprAtomDefault()}},I.parseExprAtomDefault=function(){this.unexpected()},I.parseExprImport=function(a){var p=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===M.parenL&&!a)return this.parseDynamicImport(p);if(this.type===M.dot){var E=this.startNodeAt(p.start,p.loc&&p.loc.start);return E.name="import",p.meta=this.finishNode(E,"Identifier"),this.parseImportMeta(p)}else this.unexpected()},I.parseDynamicImport=function(a){if(this.next(),a.source=this.parseMaybeAssign(),!this.eat(M.parenR)){var p=this.start;this.eat(M.comma)&&this.eat(M.parenR)?this.raiseRecoverable(p,"Trailing comma is not allowed in import()"):this.unexpected(p)}return this.finishNode(a,"ImportExpression")},I.parseImportMeta=function(a){this.next();var p=this.containsEsc;return a.property=this.parseIdent(!0),a.property.name!=="meta"&&this.raiseRecoverable(a.property.start,"The only valid meta property for import is 'import.meta'"),p&&this.raiseRecoverable(a.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(a.start,"Cannot use 'import.meta' outside a module"),this.finishNode(a,"MetaProperty")},I.parseLiteral=function(a){var p=this.startNode();return p.value=a,p.raw=this.input.slice(this.start,this.end),p.raw.charCodeAt(p.raw.length-1)===110&&(p.bigint=p.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(p,"Literal")},I.parseParenExpression=function(){this.expect(M.parenL);var a=this.parseExpression();return this.expect(M.parenR),a},I.shouldParseArrow=function(a){return!this.canInsertSemicolon()},I.parseParenAndDistinguishExpression=function(a,p){var E=this.start,N=this.startLoc,q,te=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ae=this.start,xe=this.startLoc,Ce=[],je=!0,Je=!1,kt=new f,_r=this.yieldPos,qr=this.awaitPos,Cr;for(this.yieldPos=0,this.awaitPos=0;this.type!==M.parenR;)if(je?je=!1:this.expect(M.comma),te&&this.afterTrailingComma(M.parenR,!0)){Je=!0;break}else if(this.type===M.ellipsis){Cr=this.start,Ce.push(this.parseParenItem(this.parseRestBinding())),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Ce.push(this.parseMaybeAssign(!1,kt,this.parseParenItem));var ti=this.lastTokEnd,kr=this.lastTokEndLoc;if(this.expect(M.parenR),a&&this.shouldParseArrow(Ce)&&this.eat(M.arrow))return this.checkPatternErrors(kt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=_r,this.awaitPos=qr,this.parseParenArrowList(E,N,Ce,p);(!Ce.length||Je)&&this.unexpected(this.lastTokStart),Cr&&this.unexpected(Cr),this.checkExpressionErrors(kt,!0),this.yieldPos=_r||this.yieldPos,this.awaitPos=qr||this.awaitPos,Ce.length>1?(q=this.startNodeAt(ae,xe),q.expressions=Ce,this.finishNodeAt(q,"SequenceExpression",ti,kr)):q=Ce[0]}else q=this.parseParenExpression();if(this.options.preserveParens){var Tr=this.startNodeAt(E,N);return Tr.expression=q,this.finishNode(Tr,"ParenthesizedExpression")}else return q},I.parseParenItem=function(a){return a},I.parseParenArrowList=function(a,p,E,N){return this.parseArrowExpression(this.startNodeAt(a,p),E,!1,N)};var A=[];I.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var a=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===M.dot){var p=this.startNodeAt(a.start,a.loc&&a.loc.start);p.name="new",a.meta=this.finishNode(p,"Identifier"),this.next();var E=this.containsEsc;return a.property=this.parseIdent(!0),a.property.name!=="target"&&this.raiseRecoverable(a.property.start,"The only valid meta property for new is 'new.target'"),E&&this.raiseRecoverable(a.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(a.start,"'new.target' can only be used in functions and class static block"),this.finishNode(a,"MetaProperty")}var N=this.start,q=this.startLoc;return a.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),N,q,!0,!1),this.eat(M.parenL)?a.arguments=this.parseExprList(M.parenR,this.options.ecmaVersion>=8,!1):a.arguments=A,this.finishNode(a,"NewExpression")},I.parseTemplateElement=function(a){var p=a.isTagged,E=this.startNode();return this.type===M.invalidTemplate?(p||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),E.value={raw:this.value,cooked:null}):E.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),E.tail=this.type===M.backQuote,this.finishNode(E,"TemplateElement")},I.parseTemplate=function(a){a===void 0&&(a={});var p=a.isTagged;p===void 0&&(p=!1);var E=this.startNode();this.next(),E.expressions=[];var N=this.parseTemplateElement({isTagged:p});for(E.quasis=[N];!N.tail;)this.type===M.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(M.dollarBraceL),E.expressions.push(this.parseExpression()),this.expect(M.braceR),E.quasis.push(N=this.parseTemplateElement({isTagged:p}));return this.next(),this.finishNode(E,"TemplateLiteral")},I.isAsyncProp=function(a){return!a.computed&&a.key.type==="Identifier"&&a.key.name==="async"&&(this.type===M.name||this.type===M.num||this.type===M.string||this.type===M.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===M.star)&&!be.test(this.input.slice(this.lastTokEnd,this.start))},I.parseObj=function(a,p){var E=this.startNode(),N=!0,q={};for(E.properties=[],this.next();!this.eat(M.braceR);){if(N)N=!1;else if(this.expect(M.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(M.braceR))break;var te=this.parseProperty(a,p);a||this.checkPropClash(te,q,p),E.properties.push(te)}return this.finishNode(E,a?"ObjectPattern":"ObjectExpression")},I.parseProperty=function(a,p){var E=this.startNode(),N,q,te,ae;if(this.options.ecmaVersion>=9&&this.eat(M.ellipsis))return a?(E.argument=this.parseIdent(!1),this.type===M.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(E,"RestElement")):(E.argument=this.parseMaybeAssign(!1,p),this.type===M.comma&&p&&p.trailingComma<0&&(p.trailingComma=this.start),this.finishNode(E,"SpreadElement"));this.options.ecmaVersion>=6&&(E.method=!1,E.shorthand=!1,(a||p)&&(te=this.start,ae=this.startLoc),a||(N=this.eat(M.star)));var xe=this.containsEsc;return this.parsePropertyName(E),!a&&!xe&&this.options.ecmaVersion>=8&&!N&&this.isAsyncProp(E)?(q=!0,N=this.options.ecmaVersion>=9&&this.eat(M.star),this.parsePropertyName(E)):q=!1,this.parsePropertyValue(E,a,N,q,te,ae,p,xe),this.finishNode(E,"Property")},I.parseGetterSetter=function(a){a.kind=a.key.name,this.parsePropertyName(a),a.value=this.parseMethod(!1);var p=a.kind==="get"?0:1;if(a.value.params.length!==p){var E=a.value.start;a.kind==="get"?this.raiseRecoverable(E,"getter should have no params"):this.raiseRecoverable(E,"setter should have exactly one param")}else a.kind==="set"&&a.value.params[0].type==="RestElement"&&this.raiseRecoverable(a.value.params[0].start,"Setter cannot use rest params")},I.parsePropertyValue=function(a,p,E,N,q,te,ae,xe){(E||N)&&this.type===M.colon&&this.unexpected(),this.eat(M.colon)?(a.value=p?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ae),a.kind="init"):this.options.ecmaVersion>=6&&this.type===M.parenL?(p&&this.unexpected(),a.kind="init",a.method=!0,a.value=this.parseMethod(E,N)):!p&&!xe&&this.options.ecmaVersion>=5&&!a.computed&&a.key.type==="Identifier"&&(a.key.name==="get"||a.key.name==="set")&&this.type!==M.comma&&this.type!==M.braceR&&this.type!==M.eq?((E||N)&&this.unexpected(),this.parseGetterSetter(a)):this.options.ecmaVersion>=6&&!a.computed&&a.key.type==="Identifier"?((E||N)&&this.unexpected(),this.checkUnreserved(a.key),a.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=q),a.kind="init",p?a.value=this.parseMaybeDefault(q,te,this.copyNode(a.key)):this.type===M.eq&&ae?(ae.shorthandAssign<0&&(ae.shorthandAssign=this.start),a.value=this.parseMaybeDefault(q,te,this.copyNode(a.key))):a.value=this.copyNode(a.key),a.shorthand=!0):this.unexpected()},I.parsePropertyName=function(a){if(this.options.ecmaVersion>=6){if(this.eat(M.bracketL))return a.computed=!0,a.key=this.parseMaybeAssign(),this.expect(M.bracketR),a.key;a.computed=!1}return a.key=this.type===M.num||this.type===M.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},I.initFunction=function(a){a.id=null,this.options.ecmaVersion>=6&&(a.generator=a.expression=!1),this.options.ecmaVersion>=8&&(a.async=!1)},I.parseMethod=function(a,p,E){var N=this.startNode(),q=this.yieldPos,te=this.awaitPos,ae=this.awaitIdentPos;return this.initFunction(N),this.options.ecmaVersion>=6&&(N.generator=a),this.options.ecmaVersion>=8&&(N.async=!!p),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ci(p,N.generator)|$r|(E?Ui:0)),this.expect(M.parenL),N.params=this.parseBindingList(M.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(N,!1,!0,!1),this.yieldPos=q,this.awaitPos=te,this.awaitIdentPos=ae,this.finishNode(N,"FunctionExpression")},I.parseArrowExpression=function(a,p,E,N){var q=this.yieldPos,te=this.awaitPos,ae=this.awaitIdentPos;return this.enterScope(ci(E,!1)|Ur),this.initFunction(a),this.options.ecmaVersion>=8&&(a.async=!!E),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,a.params=this.toAssignableList(p,!0),this.parseFunctionBody(a,!0,!1,N),this.yieldPos=q,this.awaitPos=te,this.awaitIdentPos=ae,this.finishNode(a,"ArrowFunctionExpression")},I.parseFunctionBody=function(a,p,E,N){var q=p&&this.type!==M.braceL,te=this.strict,ae=!1;if(q)a.body=this.parseMaybeAssign(N),a.expression=!0,this.checkParams(a,!1);else{var xe=this.options.ecmaVersion>=7&&!this.isSimpleParamList(a.params);(!te||xe)&&(ae=this.strictDirective(this.end),ae&&xe&&this.raiseRecoverable(a.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Ce=this.labels;this.labels=[],ae&&(this.strict=!0),this.checkParams(a,!te&&!ae&&!p&&!E&&this.isSimpleParamList(a.params)),this.strict&&a.id&&this.checkLValSimple(a.id,Ke),a.body=this.parseBlock(!1,void 0,ae&&!te),a.expression=!1,this.adaptDirectivePrologue(a.body.body),this.labels=Ce}this.exitScope()},I.isSimpleParamList=function(a){for(var p=0,E=a;p<E.length;p+=1){var N=E[p];if(N.type!=="Identifier")return!1}return!0},I.checkParams=function(a,p){for(var E=Object.create(null),N=0,q=a.params;N<q.length;N+=1){var te=q[N];this.checkLValInnerPattern(te,St,p?null:E)}},I.parseExprList=function(a,p,E,N){for(var q=[],te=!0;!this.eat(a);){if(te)te=!1;else if(this.expect(M.comma),p&&this.afterTrailingComma(a))break;var ae=void 0;E&&this.type===M.comma?ae=null:this.type===M.ellipsis?(ae=this.parseSpread(N),N&&this.type===M.comma&&N.trailingComma<0&&(N.trailingComma=this.start)):ae=this.parseMaybeAssign(!1,N),q.push(ae)}return q},I.checkUnreserved=function(a){var p=a.start,E=a.end,N=a.name;if(this.inGenerator&&N==="yield"&&this.raiseRecoverable(p,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&N==="await"&&this.raiseRecoverable(p,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&N==="arguments"&&this.raiseRecoverable(p,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(N==="arguments"||N==="await")&&this.raise(p,"Cannot use "+N+" in class static initialization block"),this.keywords.test(N)&&this.raise(p,"Unexpected keyword '"+N+"'"),!(this.options.ecmaVersion<6&&this.input.slice(p,E).indexOf("\\")!==-1)){var q=this.strict?this.reservedWordsStrict:this.reservedWords;q.test(N)&&(!this.inAsync&&N==="await"&&this.raiseRecoverable(p,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(p,"The keyword '"+N+"' is reserved"))}},I.parseIdent=function(a){var p=this.parseIdentNode();return this.next(!!a),this.finishNode(p,"Identifier"),a||(this.checkUnreserved(p),p.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=p.start)),p},I.parseIdentNode=function(){var a=this.startNode();return this.type===M.name?a.name=this.value:this.type.keyword?(a.name=this.type.keyword,(a.name==="class"||a.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=M.name):this.unexpected(),a},I.parsePrivateIdent=function(){var a=this.startNode();return this.type===M.privateId?a.name=this.value:this.unexpected(),this.next(),this.finishNode(a,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(a)),a},I.parseYield=function(a){this.yieldPos||(this.yieldPos=this.start);var p=this.startNode();return this.next(),this.type===M.semi||this.canInsertSemicolon()||this.type!==M.star&&!this.type.startsExpr?(p.delegate=!1,p.argument=null):(p.delegate=this.eat(M.star),p.argument=this.parseMaybeAssign(a)),this.finishNode(p,"YieldExpression")},I.parseAwait=function(a){this.awaitPos||(this.awaitPos=this.start);var p=this.startNode();return this.next(),p.argument=this.parseMaybeUnary(null,!0,!1,a),this.finishNode(p,"AwaitExpression")};var R=e.prototype;R.raise=function(a,p){var E=Nr(this.input,a);p+=" ("+E.line+":"+E.column+")";var N=new SyntaxError(p);throw N.pos=a,N.loc=E,N.raisedAt=this.pos,N},R.raiseRecoverable=R.raise,R.curPosition=function(){if(this.options.locations)return new vt(this.curLine,this.pos-this.lineStart)};var U=e.prototype,F=function(p){this.flags=p,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};U.enterScope=function(a){this.scopeStack.push(new F(a))},U.exitScope=function(){this.scopeStack.pop()},U.treatFunctionsAsVarInScope=function(a){return a.flags&mt||!this.inModule&&a.flags&dt},U.declareName=function(a,p,E){var N=!1;if(p===Xt){var q=this.currentScope();N=q.lexical.indexOf(a)>-1||q.functions.indexOf(a)>-1||q.var.indexOf(a)>-1,q.lexical.push(a),this.inModule&&q.flags&dt&&delete this.undefinedExports[a]}else if(p===pi){var te=this.currentScope();te.lexical.push(a)}else if(p===xt){var ae=this.currentScope();this.treatFunctionsAsVar?N=ae.lexical.indexOf(a)>-1:N=ae.lexical.indexOf(a)>-1||ae.var.indexOf(a)>-1,ae.functions.push(a)}else for(var xe=this.scopeStack.length-1;xe>=0;--xe){var Ce=this.scopeStack[xe];if(Ce.lexical.indexOf(a)>-1&&!(Ce.flags&Ni&&Ce.lexical[0]===a)||!this.treatFunctionsAsVarInScope(Ce)&&Ce.functions.indexOf(a)>-1){N=!0;break}if(Ce.var.push(a),this.inModule&&Ce.flags&dt&&delete this.undefinedExports[a],Ce.flags&fi)break}N&&this.raiseRecoverable(E,"Identifier '"+a+"' has already been declared")},U.checkLocalExport=function(a){this.scopeStack[0].lexical.indexOf(a.name)===-1&&this.scopeStack[0].var.indexOf(a.name)===-1&&(this.undefinedExports[a.name]=a)},U.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},U.currentVarScope=function(){for(var a=this.scopeStack.length-1;;a--){var p=this.scopeStack[a];if(p.flags&fi)return p}},U.currentThisScope=function(){for(var a=this.scopeStack.length-1;;a--){var p=this.scopeStack[a];if(p.flags&fi&&!(p.flags&Ur))return p}};var B=function(p,E,N){this.type="",this.start=E,this.end=0,p.options.locations&&(this.loc=new Wt(p,N)),p.options.directSourceFile&&(this.sourceFile=p.options.directSourceFile),p.options.ranges&&(this.range=[E,0])},G=e.prototype;G.startNode=function(){return new B(this,this.start,this.startLoc)},G.startNodeAt=function(a,p){return new B(this,a,p)};function W(a,p,E,N){return a.type=p,a.end=E,this.options.locations&&(a.loc.end=N),this.options.ranges&&(a.range[1]=E),a}G.finishNode=function(a,p){return W.call(this,a,p,this.lastTokEnd,this.lastTokEndLoc)},G.finishNodeAt=function(a,p,E,N){return W.call(this,a,p,E,N)},G.copyNode=function(a){var p=new B(this,a.start,this.startLoc);for(var E in a)p[E]=a[E];return p};var j="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",H=j+" Extended_Pictographic",Y=H,Q=Y+" EBase EComp EMod EPres ExtPict",$=Q,ee=$,re={9:j,10:H,11:Y,12:Q,13:$,14:ee},de="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",_e={9:"",10:"",11:"",12:"",13:"",14:de},ye="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Te="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ue=Te+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",he=ue+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Se=he+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ie=Se+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Pe=Ie+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Be={9:Te,10:ue,11:he,12:Se,13:Ie,14:Pe},De={};function He(a){var p=De[a]={binary:Me(re[a]+" "+ye),binaryOfStrings:Me(_e[a]),nonBinary:{General_Category:Me(ye),Script:Me(Be[a])}};p.nonBinary.Script_Extensions=p.nonBinary.Script,p.nonBinary.gc=p.nonBinary.General_Category,p.nonBinary.sc=p.nonBinary.Script,p.nonBinary.scx=p.nonBinary.Script_Extensions}for(var We=0,Ve=[9,10,11,12,13,14];We<Ve.length;We+=1){var Et=Ve[We];He(Et)}var we=e.prototype,ht=function(p){this.parser=p,this.validFlags="gim"+(p.options.ecmaVersion>=6?"uy":"")+(p.options.ecmaVersion>=9?"s":"")+(p.options.ecmaVersion>=13?"d":"")+(p.options.ecmaVersion>=15?"v":""),this.unicodeProperties=De[p.options.ecmaVersion>=14?14:p.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};ht.prototype.reset=function(p,E,N){var q=N.indexOf("v")!==-1,te=N.indexOf("u")!==-1;this.start=p|0,this.source=E+"",this.flags=N,q&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=te&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=te&&this.parser.options.ecmaVersion>=9)},ht.prototype.raise=function(p){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+p)},ht.prototype.at=function(p,E){E===void 0&&(E=!1);var N=this.source,q=N.length;if(p>=q)return-1;var te=N.charCodeAt(p);if(!(E||this.switchU)||te<=55295||te>=57344||p+1>=q)return te;var ae=N.charCodeAt(p+1);return ae>=56320&&ae<=57343?(te<<10)+ae-56613888:te},ht.prototype.nextIndex=function(p,E){E===void 0&&(E=!1);var N=this.source,q=N.length;if(p>=q)return q;var te=N.charCodeAt(p),ae;return!(E||this.switchU)||te<=55295||te>=57344||p+1>=q||(ae=N.charCodeAt(p+1))<56320||ae>57343?p+1:p+2},ht.prototype.current=function(p){return p===void 0&&(p=!1),this.at(this.pos,p)},ht.prototype.lookahead=function(p){return p===void 0&&(p=!1),this.at(this.nextIndex(this.pos,p),p)},ht.prototype.advance=function(p){p===void 0&&(p=!1),this.pos=this.nextIndex(this.pos,p)},ht.prototype.eat=function(p,E){return E===void 0&&(E=!1),this.current(E)===p?(this.advance(E),!0):!1},ht.prototype.eatChars=function(p,E){E===void 0&&(E=!1);for(var N=this.pos,q=0,te=p;q<te.length;q+=1){var ae=te[q],xe=this.at(N,E);if(xe===-1||xe!==ae)return!1;N=this.nextIndex(N,E)}return this.pos=N,!0},we.validateRegExpFlags=function(a){for(var p=a.validFlags,E=a.flags,N=!1,q=!1,te=0;te<E.length;te++){var ae=E.charAt(te);p.indexOf(ae)===-1&&this.raise(a.start,"Invalid regular expression flag"),E.indexOf(ae,te+1)>-1&&this.raise(a.start,"Duplicate regular expression flag"),ae==="u"&&(N=!0),ae==="v"&&(q=!0)}this.options.ecmaVersion>=15&&N&&q&&this.raise(a.start,"Invalid regular expression flag")},we.validateRegExpPattern=function(a){this.regexp_pattern(a),!a.switchN&&this.options.ecmaVersion>=9&&a.groupNames.length>0&&(a.switchN=!0,this.regexp_pattern(a))},we.regexp_pattern=function(a){a.pos=0,a.lastIntValue=0,a.lastStringValue="",a.lastAssertionIsQuantifiable=!1,a.numCapturingParens=0,a.maxBackReference=0,a.groupNames.length=0,a.backReferenceNames.length=0,this.regexp_disjunction(a),a.pos!==a.source.length&&(a.eat(41)&&a.raise("Unmatched ')'"),(a.eat(93)||a.eat(125))&&a.raise("Lone quantifier brackets")),a.maxBackReference>a.numCapturingParens&&a.raise("Invalid escape");for(var p=0,E=a.backReferenceNames;p<E.length;p+=1){var N=E[p];a.groupNames.indexOf(N)===-1&&a.raise("Invalid named capture referenced")}},we.regexp_disjunction=function(a){for(this.regexp_alternative(a);a.eat(124);)this.regexp_alternative(a);this.regexp_eatQuantifier(a,!0)&&a.raise("Nothing to repeat"),a.eat(123)&&a.raise("Lone quantifier brackets")},we.regexp_alternative=function(a){for(;a.pos<a.source.length&&this.regexp_eatTerm(a););},we.regexp_eatTerm=function(a){return this.regexp_eatAssertion(a)?(a.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(a)&&a.switchU&&a.raise("Invalid quantifier"),!0):(a.switchU?this.regexp_eatAtom(a):this.regexp_eatExtendedAtom(a))?(this.regexp_eatQuantifier(a),!0):!1},we.regexp_eatAssertion=function(a){var p=a.pos;if(a.lastAssertionIsQuantifiable=!1,a.eat(94)||a.eat(36))return!0;if(a.eat(92)){if(a.eat(66)||a.eat(98))return!0;a.pos=p}if(a.eat(40)&&a.eat(63)){var E=!1;if(this.options.ecmaVersion>=9&&(E=a.eat(60)),a.eat(61)||a.eat(33))return this.regexp_disjunction(a),a.eat(41)||a.raise("Unterminated group"),a.lastAssertionIsQuantifiable=!E,!0}return a.pos=p,!1},we.regexp_eatQuantifier=function(a,p){return p===void 0&&(p=!1),this.regexp_eatQuantifierPrefix(a,p)?(a.eat(63),!0):!1},we.regexp_eatQuantifierPrefix=function(a,p){return a.eat(42)||a.eat(43)||a.eat(63)||this.regexp_eatBracedQuantifier(a,p)},we.regexp_eatBracedQuantifier=function(a,p){var E=a.pos;if(a.eat(123)){var N=0,q=-1;if(this.regexp_eatDecimalDigits(a)&&(N=a.lastIntValue,a.eat(44)&&this.regexp_eatDecimalDigits(a)&&(q=a.lastIntValue),a.eat(125)))return q!==-1&&q<N&&!p&&a.raise("numbers out of order in {} quantifier"),!0;a.switchU&&!p&&a.raise("Incomplete quantifier"),a.pos=E}return!1},we.regexp_eatAtom=function(a){return this.regexp_eatPatternCharacters(a)||a.eat(46)||this.regexp_eatReverseSolidusAtomEscape(a)||this.regexp_eatCharacterClass(a)||this.regexp_eatUncapturingGroup(a)||this.regexp_eatCapturingGroup(a)},we.regexp_eatReverseSolidusAtomEscape=function(a){var p=a.pos;if(a.eat(92)){if(this.regexp_eatAtomEscape(a))return!0;a.pos=p}return!1},we.regexp_eatUncapturingGroup=function(a){var p=a.pos;if(a.eat(40)){if(a.eat(63)&&a.eat(58)){if(this.regexp_disjunction(a),a.eat(41))return!0;a.raise("Unterminated group")}a.pos=p}return!1},we.regexp_eatCapturingGroup=function(a){if(a.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(a):a.current()===63&&a.raise("Invalid group"),this.regexp_disjunction(a),a.eat(41))return a.numCapturingParens+=1,!0;a.raise("Unterminated group")}return!1},we.regexp_eatExtendedAtom=function(a){return a.eat(46)||this.regexp_eatReverseSolidusAtomEscape(a)||this.regexp_eatCharacterClass(a)||this.regexp_eatUncapturingGroup(a)||this.regexp_eatCapturingGroup(a)||this.regexp_eatInvalidBracedQuantifier(a)||this.regexp_eatExtendedPatternCharacter(a)},we.regexp_eatInvalidBracedQuantifier=function(a){return this.regexp_eatBracedQuantifier(a,!0)&&a.raise("Nothing to repeat"),!1},we.regexp_eatSyntaxCharacter=function(a){var p=a.current();return yt(p)?(a.lastIntValue=p,a.advance(),!0):!1};function yt(a){return a===36||a>=40&&a<=43||a===46||a===63||a>=91&&a<=94||a>=123&&a<=125}we.regexp_eatPatternCharacters=function(a){for(var p=a.pos,E=0;(E=a.current())!==-1&&!yt(E);)a.advance();return a.pos!==p},we.regexp_eatExtendedPatternCharacter=function(a){var p=a.current();return p!==-1&&p!==36&&!(p>=40&&p<=43)&&p!==46&&p!==63&&p!==91&&p!==94&&p!==124?(a.advance(),!0):!1},we.regexp_groupSpecifier=function(a){if(a.eat(63)){if(this.regexp_eatGroupName(a)){a.groupNames.indexOf(a.lastStringValue)!==-1&&a.raise("Duplicate capture group name"),a.groupNames.push(a.lastStringValue);return}a.raise("Invalid group")}},we.regexp_eatGroupName=function(a){if(a.lastStringValue="",a.eat(60)){if(this.regexp_eatRegExpIdentifierName(a)&&a.eat(62))return!0;a.raise("Invalid capture group name")}return!1},we.regexp_eatRegExpIdentifierName=function(a){if(a.lastStringValue="",this.regexp_eatRegExpIdentifierStart(a)){for(a.lastStringValue+=rt(a.lastIntValue);this.regexp_eatRegExpIdentifierPart(a);)a.lastStringValue+=rt(a.lastIntValue);return!0}return!1},we.regexp_eatRegExpIdentifierStart=function(a){var p=a.pos,E=this.options.ecmaVersion>=11,N=a.current(E);return a.advance(E),N===92&&this.regexp_eatRegExpUnicodeEscapeSequence(a,E)&&(N=a.lastIntValue),at(N)?(a.lastIntValue=N,!0):(a.pos=p,!1)};function at(a){return le(a,!0)||a===36||a===95}we.regexp_eatRegExpIdentifierPart=function(a){var p=a.pos,E=this.options.ecmaVersion>=11,N=a.current(E);return a.advance(E),N===92&&this.regexp_eatRegExpUnicodeEscapeSequence(a,E)&&(N=a.lastIntValue),wt(N)?(a.lastIntValue=N,!0):(a.pos=p,!1)};function wt(a){return ie(a,!0)||a===36||a===95||a===8204||a===8205}we.regexp_eatAtomEscape=function(a){return this.regexp_eatBackReference(a)||this.regexp_eatCharacterClassEscape(a)||this.regexp_eatCharacterEscape(a)||a.switchN&&this.regexp_eatKGroupName(a)?!0:(a.switchU&&(a.current()===99&&a.raise("Invalid unicode escape"),a.raise("Invalid escape")),!1)},we.regexp_eatBackReference=function(a){var p=a.pos;if(this.regexp_eatDecimalEscape(a)){var E=a.lastIntValue;if(a.switchU)return E>a.maxBackReference&&(a.maxBackReference=E),!0;if(E<=a.numCapturingParens)return!0;a.pos=p}return!1},we.regexp_eatKGroupName=function(a){if(a.eat(107)){if(this.regexp_eatGroupName(a))return a.backReferenceNames.push(a.lastStringValue),!0;a.raise("Invalid named reference")}return!1},we.regexp_eatCharacterEscape=function(a){return this.regexp_eatControlEscape(a)||this.regexp_eatCControlLetter(a)||this.regexp_eatZero(a)||this.regexp_eatHexEscapeSequence(a)||this.regexp_eatRegExpUnicodeEscapeSequence(a,!1)||!a.switchU&&this.regexp_eatLegacyOctalEscapeSequence(a)||this.regexp_eatIdentityEscape(a)},we.regexp_eatCControlLetter=function(a){var p=a.pos;if(a.eat(99)){if(this.regexp_eatControlLetter(a))return!0;a.pos=p}return!1},we.regexp_eatZero=function(a){return a.current()===48&&!Vr(a.lookahead())?(a.lastIntValue=0,a.advance(),!0):!1},we.regexp_eatControlEscape=function(a){var p=a.current();return p===116?(a.lastIntValue=9,a.advance(),!0):p===110?(a.lastIntValue=10,a.advance(),!0):p===118?(a.lastIntValue=11,a.advance(),!0):p===102?(a.lastIntValue=12,a.advance(),!0):p===114?(a.lastIntValue=13,a.advance(),!0):!1},we.regexp_eatControlLetter=function(a){var p=a.current();return Ut(p)?(a.lastIntValue=p%32,a.advance(),!0):!1};function Ut(a){return a>=65&&a<=90||a>=97&&a<=122}we.regexp_eatRegExpUnicodeEscapeSequence=function(a,p){p===void 0&&(p=!1);var E=a.pos,N=p||a.switchU;if(a.eat(117)){if(this.regexp_eatFixedHexDigits(a,4)){var q=a.lastIntValue;if(N&&q>=55296&&q<=56319){var te=a.pos;if(a.eat(92)&&a.eat(117)&&this.regexp_eatFixedHexDigits(a,4)){var ae=a.lastIntValue;if(ae>=56320&&ae<=57343)return a.lastIntValue=(q-55296)*1024+(ae-56320)+65536,!0}a.pos=te,a.lastIntValue=q}return!0}if(N&&a.eat(123)&&this.regexp_eatHexDigits(a)&&a.eat(125)&&It(a.lastIntValue))return!0;N&&a.raise("Invalid unicode escape"),a.pos=E}return!1};function It(a){return a>=0&&a<=1114111}we.regexp_eatIdentityEscape=function(a){if(a.switchU)return this.regexp_eatSyntaxCharacter(a)?!0:a.eat(47)?(a.lastIntValue=47,!0):!1;var p=a.current();return p!==99&&(!a.switchN||p!==107)?(a.lastIntValue=p,a.advance(),!0):!1},we.regexp_eatDecimalEscape=function(a){a.lastIntValue=0;var p=a.current();if(p>=49&&p<=57){do a.lastIntValue=10*a.lastIntValue+(p-48),a.advance();while((p=a.current())>=48&&p<=57);return!0}return!1};var zt=0,Lt=1,bt=2;we.regexp_eatCharacterClassEscape=function(a){var p=a.current();if(Zt(p))return a.lastIntValue=-1,a.advance(),Lt;var E=!1;if(a.switchU&&this.options.ecmaVersion>=9&&((E=p===80)||p===112)){a.lastIntValue=-1,a.advance();var N;if(a.eat(123)&&(N=this.regexp_eatUnicodePropertyValueExpression(a))&&a.eat(125))return E&&N===bt&&a.raise("Invalid property name"),N;a.raise("Invalid property name")}return zt};function Zt(a){return a===100||a===68||a===115||a===83||a===119||a===87}we.regexp_eatUnicodePropertyValueExpression=function(a){var p=a.pos;if(this.regexp_eatUnicodePropertyName(a)&&a.eat(61)){var E=a.lastStringValue;if(this.regexp_eatUnicodePropertyValue(a)){var N=a.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(a,E,N),Lt}}if(a.pos=p,this.regexp_eatLoneUnicodePropertyNameOrValue(a)){var q=a.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(a,q)}return zt},we.regexp_validateUnicodePropertyNameAndValue=function(a,p,E){ge(a.unicodeProperties.nonBinary,p)||a.raise("Invalid property name"),a.unicodeProperties.nonBinary[p].test(E)||a.raise("Invalid property value")},we.regexp_validateUnicodePropertyNameOrValue=function(a,p){if(a.unicodeProperties.binary.test(p))return Lt;if(a.switchV&&a.unicodeProperties.binaryOfStrings.test(p))return bt;a.raise("Invalid property name")},we.regexp_eatUnicodePropertyName=function(a){var p=0;for(a.lastStringValue="";Dt(p=a.current());)a.lastStringValue+=rt(p),a.advance();return a.lastStringValue!==""};function Dt(a){return Ut(a)||a===95}we.regexp_eatUnicodePropertyValue=function(a){var p=0;for(a.lastStringValue="";Gt(p=a.current());)a.lastStringValue+=rt(p),a.advance();return a.lastStringValue!==""};function Gt(a){return Dt(a)||Vr(a)}we.regexp_eatLoneUnicodePropertyNameOrValue=function(a){return this.regexp_eatUnicodePropertyValue(a)},we.regexp_eatCharacterClass=function(a){if(a.eat(91)){var p=a.eat(94),E=this.regexp_classContents(a);return a.eat(93)||a.raise("Unterminated character class"),p&&E===bt&&a.raise("Negated character class may contain strings"),!0}return!1},we.regexp_classContents=function(a){return a.current()===93?Lt:a.switchV?this.regexp_classSetExpression(a):(this.regexp_nonEmptyClassRanges(a),Lt)},we.regexp_nonEmptyClassRanges=function(a){for(;this.regexp_eatClassAtom(a);){var p=a.lastIntValue;if(a.eat(45)&&this.regexp_eatClassAtom(a)){var E=a.lastIntValue;a.switchU&&(p===-1||E===-1)&&a.raise("Invalid character class"),p!==-1&&E!==-1&&p>E&&a.raise("Range out of order in character class")}}},we.regexp_eatClassAtom=function(a){var p=a.pos;if(a.eat(92)){if(this.regexp_eatClassEscape(a))return!0;if(a.switchU){var E=a.current();(E===99||gi(E))&&a.raise("Invalid class escape"),a.raise("Invalid escape")}a.pos=p}var N=a.current();return N!==93?(a.lastIntValue=N,a.advance(),!0):!1},we.regexp_eatClassEscape=function(a){var p=a.pos;if(a.eat(98))return a.lastIntValue=8,!0;if(a.switchU&&a.eat(45))return a.lastIntValue=45,!0;if(!a.switchU&&a.eat(99)){if(this.regexp_eatClassControlLetter(a))return!0;a.pos=p}return this.regexp_eatCharacterClassEscape(a)||this.regexp_eatCharacterEscape(a)},we.regexp_classSetExpression=function(a){var p=Lt,E;if(!this.regexp_eatClassSetRange(a))if(E=this.regexp_eatClassSetOperand(a)){E===bt&&(p=bt);for(var N=a.pos;a.eatChars([38,38]);){if(a.current()!==38&&(E=this.regexp_eatClassSetOperand(a))){E!==bt&&(p=Lt);continue}a.raise("Invalid character in character class")}if(N!==a.pos)return p;for(;a.eatChars([45,45]);)this.regexp_eatClassSetOperand(a)||a.raise("Invalid character in character class");if(N!==a.pos)return p}else a.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(a)){if(E=this.regexp_eatClassSetOperand(a),!E)return p;E===bt&&(p=bt)}},we.regexp_eatClassSetRange=function(a){var p=a.pos;if(this.regexp_eatClassSetCharacter(a)){var E=a.lastIntValue;if(a.eat(45)&&this.regexp_eatClassSetCharacter(a)){var N=a.lastIntValue;return E!==-1&&N!==-1&&E>N&&a.raise("Range out of order in character class"),!0}a.pos=p}return!1},we.regexp_eatClassSetOperand=function(a){return this.regexp_eatClassSetCharacter(a)?Lt:this.regexp_eatClassStringDisjunction(a)||this.regexp_eatNestedClass(a)},we.regexp_eatNestedClass=function(a){var p=a.pos;if(a.eat(91)){var E=a.eat(94),N=this.regexp_classContents(a);if(a.eat(93))return E&&N===bt&&a.raise("Negated character class may contain strings"),N;a.pos=p}if(a.eat(92)){var q=this.regexp_eatCharacterClassEscape(a);if(q)return q;a.pos=p}return null},we.regexp_eatClassStringDisjunction=function(a){var p=a.pos;if(a.eatChars([92,113])){if(a.eat(123)){var E=this.regexp_classStringDisjunctionContents(a);if(a.eat(125))return E}else a.raise("Invalid escape");a.pos=p}return null},we.regexp_classStringDisjunctionContents=function(a){for(var p=this.regexp_classString(a);a.eat(124);)this.regexp_classString(a)===bt&&(p=bt);return p},we.regexp_classString=function(a){for(var p=0;this.regexp_eatClassSetCharacter(a);)p++;return p===1?Lt:bt},we.regexp_eatClassSetCharacter=function(a){var p=a.pos;if(a.eat(92))return this.regexp_eatCharacterEscape(a)||this.regexp_eatClassSetReservedPunctuator(a)?!0:a.eat(98)?(a.lastIntValue=8,!0):(a.pos=p,!1);var E=a.current();return E<0||E===a.lookahead()&&lr(E)||Yt(E)?!1:(a.advance(),a.lastIntValue=E,!0)};function lr(a){return a===33||a>=35&&a<=38||a>=42&&a<=44||a===46||a>=58&&a<=64||a===94||a===96||a===126}function Yt(a){return a===40||a===41||a===45||a===47||a>=91&&a<=93||a>=123&&a<=125}we.regexp_eatClassSetReservedPunctuator=function(a){var p=a.current();return ei(p)?(a.lastIntValue=p,a.advance(),!0):!1};function ei(a){return a===33||a===35||a===37||a===38||a===44||a===45||a>=58&&a<=62||a===64||a===96||a===126}we.regexp_eatClassControlLetter=function(a){var p=a.current();return Vr(p)||p===95?(a.lastIntValue=p%32,a.advance(),!0):!1},we.regexp_eatHexEscapeSequence=function(a){var p=a.pos;if(a.eat(120)){if(this.regexp_eatFixedHexDigits(a,2))return!0;a.switchU&&a.raise("Invalid escape"),a.pos=p}return!1},we.regexp_eatDecimalDigits=function(a){var p=a.pos,E=0;for(a.lastIntValue=0;Vr(E=a.current());)a.lastIntValue=10*a.lastIntValue+(E-48),a.advance();return a.pos!==p};function Vr(a){return a>=48&&a<=57}we.regexp_eatHexDigits=function(a){var p=a.pos,E=0;for(a.lastIntValue=0;di(E=a.current());)a.lastIntValue=16*a.lastIntValue+vi(E),a.advance();return a.pos!==p};function di(a){return a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102}function vi(a){return a>=65&&a<=70?10+(a-65):a>=97&&a<=102?10+(a-97):a-48}we.regexp_eatLegacyOctalEscapeSequence=function(a){if(this.regexp_eatOctalDigit(a)){var p=a.lastIntValue;if(this.regexp_eatOctalDigit(a)){var E=a.lastIntValue;p<=3&&this.regexp_eatOctalDigit(a)?a.lastIntValue=p*64+E*8+a.lastIntValue:a.lastIntValue=p*8+E}else a.lastIntValue=p;return!0}return!1},we.regexp_eatOctalDigit=function(a){var p=a.current();return gi(p)?(a.lastIntValue=p-48,a.advance(),!0):(a.lastIntValue=0,!1)};function gi(a){return a>=48&&a<=55}we.regexp_eatFixedHexDigits=function(a,p){var E=a.pos;a.lastIntValue=0;for(var N=0;N<p;++N){var q=a.current();if(!di(q))return a.pos=E,!1;a.lastIntValue=16*a.lastIntValue+vi(q),a.advance()}return!0};var zr=function(p){this.type=p.type,this.value=p.value,this.start=p.start,this.end=p.end,p.options.locations&&(this.loc=new Wt(p,p.startLoc,p.endLoc)),p.options.ranges&&(this.range=[p.start,p.end])},Qe=e.prototype;Qe.next=function(a){!a&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new zr(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Qe.getToken=function(){return this.next(),new zr(this)},typeof Symbol<"u"&&(Qe[Symbol.iterator]=function(){var a=this;return{next:function(){var p=a.getToken();return{done:p.type===M.eof,value:p}}}}),Qe.nextToken=function(){var a=this.curContext();if((!a||!a.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(M.eof);if(a.override)return a.override(this);this.readToken(this.fullCharCodeAtPos())},Qe.readToken=function(a){return le(a,this.options.ecmaVersion>=6)||a===92?this.readWord():this.getTokenFromCode(a)},Qe.fullCharCodeAtPos=function(){var a=this.input.charCodeAt(this.pos);if(a<=55295||a>=56320)return a;var p=this.input.charCodeAt(this.pos+1);return p<=56319||p>=57344?a:(a<<10)+p-56613888},Qe.skipBlockComment=function(){var a=this.options.onComment&&this.curPosition(),p=this.pos,E=this.input.indexOf("*/",this.pos+=2);if(E===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=E+2,this.options.locations)for(var N=void 0,q=p;(N=Le(this.input,q,this.pos))>-1;)++this.curLine,q=this.lineStart=N;this.options.onComment&&this.options.onComment(!0,this.input.slice(p+2,E),p,this.pos,a,this.curPosition())},Qe.skipLineComment=function(a){for(var p=this.pos,E=this.options.onComment&&this.curPosition(),N=this.input.charCodeAt(this.pos+=a);this.pos<this.input.length&&!Ue(N);)N=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(p+a,this.pos),p,this.pos,E,this.curPosition())},Qe.skipSpace=function(){e:for(;this.pos<this.input.length;){var a=this.input.charCodeAt(this.pos);switch(a){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(a>8&&a<14||a>=5760&&it.test(String.fromCharCode(a)))++this.pos;else break e}}},Qe.finishToken=function(a,p){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var E=this.type;this.type=a,this.value=p,this.updateContext(E)},Qe.readToken_dot=function(){var a=this.input.charCodeAt(this.pos+1);if(a>=48&&a<=57)return this.readNumber(!0);var p=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&a===46&&p===46?(this.pos+=3,this.finishToken(M.ellipsis)):(++this.pos,this.finishToken(M.dot))},Qe.readToken_slash=function(){var a=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):a===61?this.finishOp(M.assign,2):this.finishOp(M.slash,1)},Qe.readToken_mult_modulo_exp=function(a){var p=this.input.charCodeAt(this.pos+1),E=1,N=a===42?M.star:M.modulo;return this.options.ecmaVersion>=7&&a===42&&p===42&&(++E,N=M.starstar,p=this.input.charCodeAt(this.pos+2)),p===61?this.finishOp(M.assign,E+1):this.finishOp(N,E)},Qe.readToken_pipe_amp=function(a){var p=this.input.charCodeAt(this.pos+1);if(p===a){if(this.options.ecmaVersion>=12){var E=this.input.charCodeAt(this.pos+2);if(E===61)return this.finishOp(M.assign,3)}return this.finishOp(a===124?M.logicalOR:M.logicalAND,2)}return p===61?this.finishOp(M.assign,2):this.finishOp(a===124?M.bitwiseOR:M.bitwiseAND,1)},Qe.readToken_caret=function(){var a=this.input.charCodeAt(this.pos+1);return a===61?this.finishOp(M.assign,2):this.finishOp(M.bitwiseXOR,1)},Qe.readToken_plus_min=function(a){var p=this.input.charCodeAt(this.pos+1);return p===a?p===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||be.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(M.incDec,2):p===61?this.finishOp(M.assign,2):this.finishOp(M.plusMin,1)},Qe.readToken_lt_gt=function(a){var p=this.input.charCodeAt(this.pos+1),E=1;return p===a?(E=a===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+E)===61?this.finishOp(M.assign,E+1):this.finishOp(M.bitShift,E)):p===33&&a===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(p===61&&(E=2),this.finishOp(M.relational,E))},Qe.readToken_eq_excl=function(a){var p=this.input.charCodeAt(this.pos+1);return p===61?this.finishOp(M.equality,this.input.charCodeAt(this.pos+2)===61?3:2):a===61&&p===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(M.arrow)):this.finishOp(a===61?M.eq:M.prefix,1)},Qe.readToken_question=function(){var a=this.options.ecmaVersion;if(a>=11){var p=this.input.charCodeAt(this.pos+1);if(p===46){var E=this.input.charCodeAt(this.pos+2);if(E<48||E>57)return this.finishOp(M.questionDot,2)}if(p===63){if(a>=12){var N=this.input.charCodeAt(this.pos+2);if(N===61)return this.finishOp(M.assign,3)}return this.finishOp(M.coalesce,2)}}return this.finishOp(M.question,1)},Qe.readToken_numberSign=function(){var a=this.options.ecmaVersion,p=35;if(a>=13&&(++this.pos,p=this.fullCharCodeAtPos(),le(p,!0)||p===92))return this.finishToken(M.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+rt(p)+"'")},Qe.getTokenFromCode=function(a){switch(a){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(M.parenL);case 41:return++this.pos,this.finishToken(M.parenR);case 59:return++this.pos,this.finishToken(M.semi);case 44:return++this.pos,this.finishToken(M.comma);case 91:return++this.pos,this.finishToken(M.bracketL);case 93:return++this.pos,this.finishToken(M.bracketR);case 123:return++this.pos,this.finishToken(M.braceL);case 125:return++this.pos,this.finishToken(M.braceR);case 58:return++this.pos,this.finishToken(M.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(M.backQuote);case 48:var p=this.input.charCodeAt(this.pos+1);if(p===120||p===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(p===111||p===79)return this.readRadixNumber(8);if(p===98||p===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(a);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(a);case 124:case 38:return this.readToken_pipe_amp(a);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(a);case 60:case 62:return this.readToken_lt_gt(a);case 61:case 33:return this.readToken_eq_excl(a);case 63:return this.readToken_question();case 126:return this.finishOp(M.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+rt(a)+"'")},Qe.finishOp=function(a,p){var E=this.input.slice(this.pos,this.pos+p);return this.pos+=p,this.finishToken(a,E)},Qe.readRegexp=function(){for(var a,p,E=this.pos;;){this.pos>=this.input.length&&this.raise(E,"Unterminated regular expression");var N=this.input.charAt(this.pos);if(be.test(N)&&this.raise(E,"Unterminated regular expression"),a)a=!1;else{if(N==="[")p=!0;else if(N==="]"&&p)p=!1;else if(N==="/"&&!p)break;a=N==="\\"}++this.pos}var q=this.input.slice(E,this.pos);++this.pos;var te=this.pos,ae=this.readWord1();this.containsEsc&&this.unexpected(te);var xe=this.regexpState||(this.regexpState=new ht(this));xe.reset(E,q,ae),this.validateRegExpFlags(xe),this.validateRegExpPattern(xe);var Ce=null;try{Ce=new RegExp(q,ae)}catch{}return this.finishToken(M.regexp,{pattern:q,flags:ae,value:Ce})},Qe.readInt=function(a,p,E){for(var N=this.options.ecmaVersion>=12&&p===void 0,q=E&&this.input.charCodeAt(this.pos)===48,te=this.pos,ae=0,xe=0,Ce=0,je=p??1/0;Ce<je;++Ce,++this.pos){var Je=this.input.charCodeAt(this.pos),kt=void 0;if(N&&Je===95){q&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),xe===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Ce===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),xe=Je;continue}if(Je>=97?kt=Je-97+10:Je>=65?kt=Je-65+10:Je>=48&&Je<=57?kt=Je-48:kt=1/0,kt>=a)break;xe=Je,ae=ae*a+kt}return N&&xe===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===te||p!=null&&this.pos-te!==p?null:ae};function mi(a,p){return p?parseInt(a,8):parseFloat(a.replace(/_/g,""))}function Gr(a){return typeof BigInt!="function"?null:BigInt(a.replace(/_/g,""))}Qe.readRadixNumber=function(a){var p=this.pos;this.pos+=2;var E=this.readInt(a);return E==null&&this.raise(this.start+2,"Expected number in radix "+a),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(E=Gr(this.input.slice(p,this.pos)),++this.pos):le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,E)},Qe.readNumber=function(a){var p=this.pos;!a&&this.readInt(10,void 0,!0)===null&&this.raise(p,"Invalid number");var E=this.pos-p>=2&&this.input.charCodeAt(p)===48;E&&this.strict&&this.raise(p,"Invalid number");var N=this.input.charCodeAt(this.pos);if(!E&&!a&&this.options.ecmaVersion>=11&&N===110){var q=Gr(this.input.slice(p,this.pos));return++this.pos,le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(M.num,q)}E&&/[89]/.test(this.input.slice(p,this.pos))&&(E=!1),N===46&&!E&&(++this.pos,this.readInt(10),N=this.input.charCodeAt(this.pos)),(N===69||N===101)&&!E&&(N=this.input.charCodeAt(++this.pos),(N===43||N===45)&&++this.pos,this.readInt(10)===null&&this.raise(p,"Invalid number")),le(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var te=mi(this.input.slice(p,this.pos),E);return this.finishToken(M.num,te)},Qe.readCodePoint=function(){var a=this.input.charCodeAt(this.pos),p;if(a===123){this.options.ecmaVersion<6&&this.unexpected();var E=++this.pos;p=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,p>1114111&&this.invalidStringToken(E,"Code point out of bounds")}else p=this.readHexChar(4);return p},Qe.readString=function(a){for(var p="",E=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var N=this.input.charCodeAt(this.pos);if(N===a)break;N===92?(p+=this.input.slice(E,this.pos),p+=this.readEscapedChar(!1),E=this.pos):N===8232||N===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ue(N)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return p+=this.input.slice(E,this.pos++),this.finishToken(M.string,p)};var Hr={};Qe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(a){if(a===Hr)this.readInvalidTemplateToken();else throw a}this.inTemplateElement=!1},Qe.invalidStringToken=function(a,p){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Hr;this.raise(a,p)},Qe.readTmplToken=function(){for(var a="",p=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var E=this.input.charCodeAt(this.pos);if(E===96||E===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===M.template||this.type===M.invalidTemplate)?E===36?(this.pos+=2,this.finishToken(M.dollarBraceL)):(++this.pos,this.finishToken(M.backQuote)):(a+=this.input.slice(p,this.pos),this.finishToken(M.template,a));if(E===92)a+=this.input.slice(p,this.pos),a+=this.readEscapedChar(!0),p=this.pos;else if(Ue(E)){switch(a+=this.input.slice(p,this.pos),++this.pos,E){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:a+=`
`;break;default:a+=String.fromCharCode(E);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),p=this.pos}else++this.pos}},Qe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(M.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Qe.readEscapedChar=function(a){var p=this.input.charCodeAt(++this.pos);switch(++this.pos,p){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return rt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),a){var E=this.pos-1;this.invalidStringToken(E,"Invalid escape sequence in template string")}default:if(p>=48&&p<=55){var N=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],q=parseInt(N,8);return q>255&&(N=N.slice(0,-1),q=parseInt(N,8)),this.pos+=N.length-1,p=this.input.charCodeAt(this.pos),(N!=="0"||p===56||p===57)&&(this.strict||a)&&this.invalidStringToken(this.pos-1-N.length,a?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(q)}return Ue(p)?"":String.fromCharCode(p)}},Qe.readHexChar=function(a){var p=this.pos,E=this.readInt(16,a);return E===null&&this.invalidStringToken(p,"Bad character escape sequence"),E},Qe.readWord1=function(){this.containsEsc=!1;for(var a="",p=!0,E=this.pos,N=this.options.ecmaVersion>=6;this.pos<this.input.length;){var q=this.fullCharCodeAtPos();if(ie(q,N))this.pos+=q<=65535?1:2;else if(q===92){this.containsEsc=!0,a+=this.input.slice(E,this.pos);var te=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var ae=this.readCodePoint();(p?le:ie)(ae,N)||this.invalidStringToken(te,"Invalid Unicode escape"),a+=rt(ae),E=this.pos}else break;p=!1}return a+this.input.slice(E,this.pos)},Qe.readWord=function(){var a=this.readWord1(),p=M.name;return this.keywords.test(a)&&(p=Ne[a]),this.finishToken(p,a)};var gr="8.11.3";e.acorn={Parser:e,version:gr,defaultOptions:gt,Position:vt,SourceLocation:Wt,getLineInfo:Nr,Node:B,TokenType:fe,tokTypes:M,keywordTypes:Ne,TokContext:P,tokContexts:O,isIdentifierChar:ie,isIdentifierStart:le,Token:zr,isNewLine:Ue,lineBreak:be,lineBreakG:ve,nonASCIIwhitespace:it};function mr(a,p){return e.parse(a,p)}function $t(a,p,E){return e.parseExpressionAt(a,p,E)}function jt(a,p){return e.tokenizer(a,p)}n.Node=B,n.Parser=e,n.Position=vt,n.SourceLocation=Wt,n.TokContext=P,n.Token=zr,n.TokenType=fe,n.defaultOptions=gt,n.getLineInfo=Nr,n.isIdentifierChar=ie,n.isIdentifierStart=le,n.isNewLine=Ue,n.keywordTypes=Ne,n.lineBreak=be,n.lineBreakG=ve,n.nonASCIIwhitespace=it,n.parse=mr,n.parseExpressionAt=$t,n.tokContexts=O,n.tokTypes=M,n.tokenizer=jt,n.version=gr})}(Wi,Wi.exports)),Wi.exports}/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(t){(function(i,n){i=i||Sa;var o=i.window,l=i.document,h=new function(){var e=/^(statics|enumerable|beans|preserve)$/,r=[],s=r.slice,u=Object.create,f=Object.getOwnPropertyDescriptor,c=Object.defineProperty,v=r.forEach||function(w,S){for(var L=0,P=this.length;L<P;L++)w.call(S,this[L],L,this)},d=function(w,S){for(var L in this)this.hasOwnProperty(L)&&w.call(S,this[L],L,this)},g=Object.assign||function(w){for(var S=1,L=arguments.length;S<L;S++){var P=arguments[S];for(var O in P)P.hasOwnProperty(O)&&(w[O]=P[O])}return w},_=function(w,S,L){if(w){var P=f(w,"length");(P&&typeof P.value=="number"?v:d).call(w,S,L=L||w)}return L};function C(w,S,L,P,O){var k={};function I(F,B){B=B||(B=f(S,F))&&(B.get?B:B.value),typeof B=="string"&&B[0]==="#"&&(B=w[B.substring(1)]||B);var G=typeof B=="function",W=B,j=O||G&&!B.base?B&&B.get?F in w:w[F]:null,H;(!O||!j)&&(G&&j&&(B.base=j),G&&P!==!1&&(H=F.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(k[H[3].toLowerCase()+H[4]]=H[2]),(!W||G||!W.get||typeof W.get!="function"||!T.isPlainObject(W))&&(W={value:W,writable:!0}),(f(w,F)||{configurable:!0}).configurable&&(W.configurable=!0,W.enumerable=L??!H),c(w,F,W))}if(S){for(var x in S)S.hasOwnProperty(x)&&!e.test(x)&&I(x);for(var x in k){var A=k[x],R=w["set"+A],U=w["get"+A]||R&&w["is"+A];U&&(P===!0||U.length===0)&&I(x,{get:U,set:R})}}return w}function T(){for(var w=0,S=arguments.length;w<S;w++){var L=arguments[w];L&&g(this,L)}return this}return C(T,{inject:function(w){if(w){var S=w.statics===!0?w:w.statics,L=w.beans,P=w.preserve;S!==w&&C(this.prototype,w,w.enumerable,L,P),C(this,S,null,L,P)}for(var O=1,k=arguments.length;O<k;O++)this.inject(arguments[O]);return this},extend:function(){for(var w=this,S,L,P=0,O,k=arguments.length;P<k&&!(S&&L);P++)O=arguments[P],S=S||O.initialize,L=L||O.prototype;return S=S||function(){w.apply(this,arguments)},L=S.prototype=L||u(this.prototype),c(L,"constructor",{value:S,writable:!0,configurable:!0}),C(S,this),arguments.length&&this.inject.apply(S,arguments),S.base=w,S}}).inject({enumerable:!1,initialize:T,set:T,inject:function(){for(var w=0,S=arguments.length;w<S;w++){var L=arguments[w];L&&C(this,L,L.enumerable,L.beans,L.preserve)}return this},extend:function(){var w=u(this);return w.inject.apply(w,arguments)},each:function(w,S){return _(this,w,S)},clone:function(){return new this.constructor(this)},statics:{set:g,each:_,create:u,define:c,describe:f,clone:function(w){return g(new w.constructor,w)},isPlainObject:function(w){var S=w!=null&&w.constructor;return S&&(S===Object||S===T||S.name==="Object")},pick:function(w,S){return w!==n?w:S},slice:function(w,S,L){return s.call(w,S,L)}}})};t.exports=h,h.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+h.each(this,function(e,r){if(!/^_/.test(r)){var s=typeof e;this.push(r+": "+(s==="number"?V.instance.number(e):s==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return h.importJSON(e,this)},exportJSON:function(e){return h.exportJSON(this,e)},toJSON:function(){return h.serialize(this)},set:function(e,r){return e&&h.filter(this,e,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var r=e.base.apply(this,arguments),s=r.prototype._class;return s&&!h.exports[s]&&(h.exports[s]=r),r},equals:function(e,r){if(e===r)return!0;if(e&&e.equals)return e.equals(r);if(r&&r.equals)return r.equals(e);if(e&&r&&typeof e=="object"&&typeof r=="object"){if(Array.isArray(e)&&Array.isArray(r)){var s=e.length;if(s!==r.length)return!1;for(;s--;)if(!h.equals(e[s],r[s]))return!1}else{var u=Object.keys(e),s=u.length;if(s!==Object.keys(r).length)return!1;for(;s--;){var f=u[s];if(!(r.hasOwnProperty(f)&&h.equals(e[f],r[f])))return!1}}return!0}return!1},read:function(e,r,s,u){if(this===h){var f=this.peek(e,r);return e.__index++,f}var c=this.prototype,v=c._readIndex,d=r||v&&e.__index||0,g=e.length,_=e[d];if(u=u||g-d,_ instanceof this||s&&s.readNull&&_==null&&u<=1)return v&&(e.__index=d+1),_&&s&&s.clone?_.clone():_;if(_=h.create(c),v&&(_.__read=!0),_=_.initialize.apply(_,d>0||d+u<g?h.slice(e,d,d+u):e)||_,v){e.__index=d+_.__read;var C=_.__filtered;C&&(e.__filtered=C,_.__filtered=n),_.__read=n}return _},peek:function(e,r){return e[e.__index=r||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,r,s,u){for(var f=[],c,v=r||0,d=u?v+u:e.length,g=v;g<d;g++)f.push(Array.isArray(c=e[g])?this.read(c,0,s):this.read(e,g,s,1));return f},readNamed:function(e,r,s,u,f){var c=this.getNamed(e,r),v=c!==n;if(v){var d=e.__filtered;if(!d){var g=this.getSource(e);d=e.__filtered=h.create(g),d.__unfiltered=g}d[r]=n}return this.read(v?[c]:e,s,u,f)},readSupported:function(e,r){var s=this.getSource(e),u=this,f=!1;return s&&Object.keys(s).forEach(function(c){if(c in r){var v=u.readNamed(e,c);v!==n&&(r[c]=v),f=!0}}),f},getSource:function(e){var r=e.__source;if(r===n){var s=e.length===1&&e[0];r=e.__source=s&&h.isPlainObject(s)?s:null}return r},getNamed:function(e,r){var s=this.getSource(e);if(s)return r?s[r]:e.__filtered||s},hasNamed:function(e,r){return!!this.getNamed(e,r)},filter:function(e,r,s,u){var f;function c(C){if(!(s&&C in s)&&!(f&&C in f)){var T=r[C];T!==n&&(e[C]=T)}}if(u){for(var v={},d=0,g,_=u.length;d<_;d++)(g=u[d])in r&&(c(g),v[g]=!0);f=v}return Object.keys(r.__unfiltered||r).forEach(c),e},isPlainValue:function(e,r){return h.isPlainObject(e)||Array.isArray(e)||r&&typeof e=="string"},serialize:function(e,r,s,u){r=r||{};var f=!u,c;if(f&&(r.formatter=new V(r.precision),u={length:0,definitions:{},references:{},add:function(T,w){var S="#"+T._id,L=this.references[S];if(!L){this.length++;var P=w.call(T),O=T._class;O&&P[0]!==O&&P.unshift(O),this.definitions[S]=P,L=this.references[S]=[S]}return L}}),e&&e._serialize){c=e._serialize(r,u);var v=e._class;v&&!e._compactSerialize&&(f||!s)&&c[0]!==v&&c.unshift(v)}else if(Array.isArray(e)){c=[];for(var d=0,g=e.length;d<g;d++)c[d]=h.serialize(e[d],r,s,u)}else if(h.isPlainObject(e)){c={};for(var _=Object.keys(e),d=0,g=_.length;d<g;d++){var C=_[d];c[C]=h.serialize(e[C],r,s,u)}}else typeof e=="number"?c=r.formatter.number(e,r.precision):c=e;return f&&u.length>0?[["dictionary",u.definitions],c]:c},deserialize:function(e,r,s,u,f){var c=e,v=!s,d=v&&e&&e.length&&e[0][0]==="dictionary";if(s=s||{},Array.isArray(e)){var g=e[0],_=g==="dictionary";if(e.length==1&&/^#/.test(g))return s.dictionary[g];g=h.exports[g],c=[];for(var C=g?1:0,T=e.length;C<T;C++)c.push(h.deserialize(e[C],r,s,_,d));if(g){var w=c;r?c=r(g,w,v||f):c=new g(w)}}else if(h.isPlainObject(e)){c={},u&&(s.dictionary=c);for(var S in e)c[S]=h.deserialize(e[S],r,s)}return d?c[1]:c},exportJSON:function(e,r){var s=h.serialize(e,r);return r&&r.asString==!1?s:JSON.stringify(s)},importJSON:function(e,r){return h.deserialize(typeof e=="string"?JSON.parse(e):e,function(s,u,f){var c=f&&r&&r.constructor===s,v=c?r:h.create(s.prototype);if(u.length===1&&v instanceof M&&(c||!(v instanceof ve))){var d=u[0];h.isPlainObject(d)&&(d.insert=!1,c&&(u=u.concat([M.INSERT])))}return(c?v.set:s).apply(v,u),c&&(r=null),v})},push:function(e,r){var s=r.length;if(s<4096)e.push.apply(e,r);else{var u=e.length;e.length+=s;for(var f=0;f<s;f++)e[u+f]=r[f]}return e},splice:function(e,r,s,u){var f=r&&r.length,c=s===n;s=c?e.length:s,s>e.length&&(s=e.length);for(var v=0;v<f;v++)r[v]._index=s+v;if(c)return h.push(e,r),[];var d=[s,u];r&&h.push(d,r);for(var g=e.splice.apply(e,d),v=0,_=g.length;v<_;v++)g[v]._index=n;for(var v=s+f,_=e.length;v<_;v++)e[v]._index=v;return g},capitalize:function(e){return e.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(r,s){return s.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var m={on:function(e,r){if(typeof e!="string")h.each(e,function(c,v){this.on(v,c)},this);else{var s=this._eventTypes,u=s&&s[e],f=this._callbacks=this._callbacks||{};f=f[e]=f[e]||[],f.indexOf(r)===-1&&(f.push(r),u&&u.install&&f.length===1&&u.install.call(this,e))}return this},off:function(e,r){if(typeof e!="string"){h.each(e,function(v,d){this.off(d,v)},this);return}var s=this._eventTypes,u=s&&s[e],f=this._callbacks&&this._callbacks[e],c;return f&&(!r||(c=f.indexOf(r))!==-1&&f.length===1?(u&&u.uninstall&&u.uninstall.call(this,e),delete this._callbacks[e]):c!==-1&&f.splice(c,1)),this},once:function(e,r){return this.on(e,function s(){r.apply(this,arguments),this.off(e,s)})},emit:function(e,r){var s=this._callbacks&&this._callbacks[e];if(!s)return!1;var u=h.slice(arguments,1),f=r&&r.target&&!r.currentTarget;s=s.slice(),f&&(r.currentTarget=this);for(var c=0,v=s.length;c<v;c++)if(s[c].apply(this,u)==!1){r&&r.stop&&r.stop();break}return f&&delete r.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var r=this._eventTypes,s=this._callbacks,u=e?"install":"uninstall";if(r){for(var f in s)if(s[f].length>0){var c=r[f],v=c&&c[u];v&&v.call(this,f)}}},statics:{inject:function e(r){var s=r._events;if(s){var u={};h.each(s,function(f,c){var v=typeof f=="string",d=v?f:c,g=h.capitalize(d),_=d.substring(2).toLowerCase();u[_]=v?{}:f,d="_"+d,r["get"+g]=function(){return this[d]},r["set"+g]=function(C){var T=this[d];T&&this.off(_,T),C&&this.on(_,C),this[d]=C}}),r._eventTypes=u}return e.base.apply(this,arguments)}}},b=h.extend({_class:"PaperScope",initialize:function e(){Ke=this,this.settings=new h({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var r=e.prototype;if(!this.support){var s=St.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:Xt.nativeModes},St.release(s)}if(!this.agent){var u=i.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(u)||[])[0],c=f==="darwin"?"mac":f,v=r.agent=r.browser={platform:c};c&&(v[c]=!0),u.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(d,g,_,C,T){if(!v.chrome){var w=g==="opera"?C:/^(node|trident)$/.test(g)?T:_;v.version=w,v.versionNumber=parseFloat(w),g={trident:"msie",jsdom:"node"}[g]||g,v.name=g,v[g]=!0}}),v.chrome&&delete v.webkit,v.atom&&delete v.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,r){var s=Ke.PaperScript.execute(e,this,r);return _t.updateFocus(),s},install:function(e){var r=this;h.each(["project","view","tool"],function(u){h.define(e,u,{configurable:!0,get:function(){return r[u]}})});for(var s in this)!/^_/.test(s)&&this[s]&&(e[s]=this[s])},setup:function(e){return Ke=this,this.project=new me(e),this},createCanvas:function(e,r){return St.getCanvas(e,r)},activate:function(){Ke=this},clear:function(){for(var e=this.projects,r=this.tools,s=e.length-1;s>=0;s--)e[s].remove();for(var s=r.length-1;s>=0;s--)r[s].remove()},remove:function(){this.clear(),delete b._scopes[this._id]},statics:new function(){function e(r){return r+="Attribute",function(s,u){return s[r](u)||s[r]("data-paper-"+u)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),y=h.extend(m,{initialize:function(e){this._scope=Ke,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(h.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),z={findItemBoundsCollisions:function(e,r,s){function u(v){for(var d=new Array(v.length),g=0;g<v.length;g++){var _=v[g].getBounds();d[g]=[_.left,_.top,_.right,_.bottom]}return d}var f=u(e),c=!r||r===e?f:u(r);return this.findBoundsCollisions(f,c,s||0)},findCurveBoundsCollisions:function(e,r,s,u){function f(w){for(var S=Math.min,L=Math.max,P=new Array(w.length),O=0;O<w.length;O++){var k=w[O];P[O]=[S(k[0],k[2],k[4],k[6]),S(k[1],k[3],k[5],k[7]),L(k[0],k[2],k[4],k[6]),L(k[1],k[3],k[5],k[7])]}return P}var c=f(e),v=!r||r===e?c:f(r);if(u){for(var d=this.findBoundsCollisions(c,v,s||0,!1,!0),g=this.findBoundsCollisions(c,v,s||0,!0,!0),_=[],C=0,T=d.length;C<T;C++)_[C]={hor:d[C],ver:g[C]};return _}return this.findBoundsCollisions(c,v,s||0)},findBoundsCollisions:function(e,r,s,u,f){var c=!r||e===r,v=c?e:e.concat(r),d=e.length,g=v.length;function _(_e,ye,Te){for(var ue=0,he=_e.length;ue<he;){var Se=he+ue>>>1;v[_e[Se]][ye]<Te?ue=Se+1:he=Se}return ue-1}for(var C=u?1:0,T=C+2,w=u?0:1,S=w+2,L=new Array(g),P=0;P<g;P++)L[P]=P;L.sort(function(_e,ye){return v[_e][C]-v[ye][C]});for(var O=[],k=new Array(d),P=0;P<g;P++){var I=L[P],x=v[I],A=c?I:I-d,R=I<d,U=c||!R,F=R?[]:null;if(O.length){var B=_(O,T,x[C]-s)+1;if(O.splice(0,B),c&&f){F=F.concat(O);for(var G=0;G<O.length;G++){var W=O[G];k[W].push(A)}}else for(var j=x[S],H=x[w],G=0;G<O.length;G++){var W=O[G],Y=v[W],Q=W<d,$=c||W>=d;(f||(R&&$||U&&Q)&&j>=Y[w]-s&&H<=Y[S]+s)&&(R&&$&&F.push(c?W:W-d),U&&Q&&k[W].push(A))}}if(R&&(e===r&&F.push(I),k[I]=F),O.length){var ee=x[T],re=_(O,T,ee);O.splice(re+1,0,I)}else O.push(I)}for(var P=0;P<k.length;P++){var de=k[P];de&&de.sort(function(ye,Te){return ye-Te})}return k}},V=h.extend({initialize:function(e){this.precision=h.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,r,s){return this.number(e)+(s||",")+this.number(r)},point:function(e,r){return this.number(e.x)+(r||",")+this.number(e.y)},size:function(e,r){return this.number(e.width)+(r||",")+this.number(e.height)},rectangle:function(e,r){return this.point(e,r)+(r||",")+this.size(e,r)}});V.instance=new V;var K=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,u=Math.sqrt,f=Math.pow,c=Math.log2||function(T){return Math.log(T)*Math.LOG2E},v=1e-12,d=112e-18;function g(T,w,S){return T<w?w:T>S?S:T}function _(T,w,S){function L(B){var G=B*134217729,W=B-G,j=W+G,H=B-j;return[j,H]}var P=w*w-T*S,O=w*w+T*S;if(s(P)*3<O){var k=L(T),I=L(w),x=L(S),A=w*w,R=I[0]*I[0]-A+2*I[0]*I[1]+I[1]*I[1],U=T*S,F=k[0]*x[0]-U+k[0]*x[1]+k[1]*x[0]+k[1]*x[1];P=A-U+(R-F)}return P}function C(){var T=Math.max.apply(Math,arguments);return T&&(T<1e-8||T>1e8)?f(2,-Math.round(c(T))):0}return{EPSILON:v,MACHINE_EPSILON:d,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(u(2)-1)/3,isZero:function(T){return T>=-v&&T<=v},isMachineZero:function(T){return T>=-d&&T<=d},clamp:g,integrate:function(T,w,S,L){for(var P=e[L-2],O=r[L-2],k=(S-w)*.5,I=k+w,x=0,A=L+1>>1,R=L&1?O[x++]*T(I):0;x<A;){var U=k*P[x];R+=O[x++]*(T(I+U)+T(I-U))}return k*R},findRoot:function(T,w,S,L,P,O,k){for(var I=0;I<O;I++){var x=T(S),A=x/w(S),R=S-A;if(s(A)<k){S=R;break}x>0?(P=S,S=R<=L?(L+P)*.5:R):(L=S,S=R>=P?(L+P)*.5:R)}return g(S,L,P)},solveQuadratic:function(T,w,S,L,P,O){var k,I=1/0;if(s(T)<v){if(s(w)<v)return s(S)<v?-1:0;k=-S/w}else{w*=-.5;var x=_(T,w,S);if(x&&s(x)<d){var A=C(s(T),s(w),s(S));A&&(T*=A,w*=A,S*=A,x=_(T,w,S))}if(x>=-d){var R=x<0?0:u(x),U=w+(w<0?-R:R);U===0?(k=S/T,I=-k):(k=U/T,I=S/U)}}var F=0,B=P==null,G=P-v,W=O+v;return isFinite(k)&&(B||k>G&&k<W)&&(L[F++]=B?k:g(k,P,O)),I!==k&&isFinite(I)&&(B||I>G&&I<W)&&(L[F++]=B?I:g(I,P,O)),F},solveCubic:function(T,w,S,L,P,O,k){var I=C(s(T),s(w),s(S),s(L)),x,A,R,U,F;I&&(T*=I,w*=I,S*=I,L*=I);function B(re){x=re;var de=T*x;A=de+w,R=A*x+S,U=(de+A)*x+R,F=R*x+L}if(s(T)<v)T=w,A=S,R=L,x=1/0;else if(s(L)<v)A=w,R=S,x=0;else{B(-(w/T)/3);var G=F/T,W=f(s(G),1/3),j=G<0?-1:1,H=-U/T,Y=H>0?1.324717957244746*Math.max(W,u(H)):W,Q=x-j*Y;if(Q!==x){do B(Q),Q=U===0?x:x-F/U/(1+d);while(j*Q>j*x);s(T)*x*x>s(L/x)&&(R=-L/x,A=(R-S)/x)}}var $=K.solveQuadratic(T,A,R,P,O,k),ee=O==null;return isFinite(x)&&($===0||$>0&&x!==P[0]&&x!==P[1])&&(ee||x>O-v&&x<k+v)&&(P[$++]=ee?x:g(x,O,k)),$}}},X={_id:1,_pools:{},get:function(e){if(e){var r=this._pools[e];return r||(r=this._pools[e]={_id:1}),r._id++}else return this._id++}},D=h.extend({_class:"Point",_readIndex:!0,initialize:function(r,s){var u=typeof r,f=this.__read,c=0;if(u==="number"){var v=typeof s=="number";this._set(r,v?s:r),f&&(c=v?2:1)}else if(u==="undefined"||r===null)this._set(0,0),f&&(c=r===null?1:0);else{var d=u==="string"?r.split(/[\s,]+/)||[]:r;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"x"in d?this._set(d.x||0,d.y||0):"width"in d?this._set(d.width||0,d.height||0):"angle"in d?(this._set(d.length||0,0),this.setAngle(d.angle||0)):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(e,r){return this.x=e,this.y=r,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new D(this.x,this.y)},toString:function(){var e=V.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*e,Math.sin(r)*e)}else{var s=e/this.getLength();K.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=D.read(arguments),r=this.getLength()*e.getLength();if(K.isZero(r))return NaN;var s=this.dot(e)/r;return Math.acos(s<-1?-1:s>1?1:s)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var r=this.getLength();this._set(Math.cos(e)*r,Math.sin(e)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=D.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,r=D.read(e),s=r.x-this.x,u=r.y-this.y,f=s*s+u*u,c=h.read(e);return c?f:Math.sqrt(f)},normalize:function(e){e===n&&(e=1);var r=this.getLength(),s=r!==0?e/r:0,u=new D(this.x*s,this.y*s);return s>=0&&(u._angle=this._angle),u},rotate:function(e,r){if(e===0)return this.clone();e=e*Math.PI/180;var s=r?this.subtract(r):this,u=Math.sin(e),f=Math.cos(e);return s=new D(s.x*f-s.y*u,s.x*u+s.y*f),r?s.add(r):s},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=D.read(arguments);return new D(this.x+e.x,this.y+e.y)},subtract:function(){var e=D.read(arguments);return new D(this.x-e.x,this.y-e.y)},multiply:function(){var e=D.read(arguments);return new D(this.x*e.x,this.y*e.y)},divide:function(){var e=D.read(arguments);return new D(this.x/e.x,this.y/e.y)},modulo:function(){var e=D.read(arguments);return new D(this.x%e.x,this.y%e.y)},negate:function(){return new D(-this.x,-this.y)},isInside:function(){return ne.read(arguments).contains(this)},isClose:function(){var e=arguments,r=D.read(e),s=h.read(e);return this.getDistance(r)<=s},isCollinear:function(){var e=D.read(arguments);return D.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=D.read(arguments);return D.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=K.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=D.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=D.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=D.read(arguments),r=e.isZero()?0:this.dot(e)/e.dot(e);return new D(e.x*r,e.y*r)},statics:{min:function(){var e=arguments,r=D.read(e),s=D.read(e);return new D(Math.min(r.x,s.x),Math.min(r.y,s.y))},max:function(){var e=arguments,r=D.read(e),s=D.read(e);return new D(Math.max(r.x,s.x),Math.max(r.y,s.y))},random:function(){return new D(Math.random(),Math.random())},isCollinear:function(e,r,s,u){return Math.abs(e*u-r*s)<=Math.sqrt((e*e+r*r)*(s*s+u*u))*1e-8},isOrthogonal:function(e,r,s,u){return Math.abs(e*s+r*u)<=Math.sqrt((e*e+r*r)*(s*s+u*u))*1e-8}}},h.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new D(r(this.x),r(this.y))}},{})),le=D.extend({initialize:function(r,s,u,f){this._x=r,this._y=s,this._owner=u,this._setter=f},_set:function(e,r,s){return this._x=e,this._y=r,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ie=h.extend({_class:"Size",_readIndex:!0,initialize:function(r,s){var u=typeof r,f=this.__read,c=0;if(u==="number"){var v=typeof s=="number";this._set(r,v?s:r),f&&(c=v?2:1)}else if(u==="undefined"||r===null)this._set(0,0),f&&(c=r===null?1:0);else{var d=u==="string"?r.split(/[\s,]+/)||[]:r;c=1,Array.isArray(d)?this._set(+d[0],+(d.length>1?d[1]:d[0])):"width"in d?this._set(d.width||0,d.height||0):"x"in d?this._set(d.x||0,d.y||0):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(e,r){return this.width=e,this.height=r,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new ie(this.width,this.height)},toString:function(){var e=V.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var e=ie.read(arguments);return new ie(this.width+e.width,this.height+e.height)},subtract:function(){var e=ie.read(arguments);return new ie(this.width-e.width,this.height-e.height)},multiply:function(){var e=ie.read(arguments);return new ie(this.width*e.width,this.height*e.height)},divide:function(){var e=ie.read(arguments);return new ie(this.width/e.width,this.height/e.height)},modulo:function(){var e=ie.read(arguments);return new ie(this.width%e.width,this.height%e.height)},negate:function(){return new ie(-this.width,-this.height)},isZero:function(){var e=K.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,r){return new ie(Math.min(e.width,r.width),Math.min(e.height,r.height))},max:function(e,r){return new ie(Math.max(e.width,r.width),Math.max(e.height,r.height))},random:function(){return new ie(Math.random(),Math.random())}}},h.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new ie(r(this.width),r(this.height))}},{})),fe=ie.extend({initialize:function(r,s,u,f){this._width=r,this._height=s,this._owner=u,this._setter=f},_set:function(e,r,s){return this._width=e,this._height=r,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),ne=h.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,s,u,f){var c=arguments,v=typeof r,d;if(v==="number"?(this._set(r,s,u,f),d=4):v==="undefined"||r===null?(this._set(0,0,0,0),d=r===null?1:0):c.length===1&&(Array.isArray(r)?(this._set.apply(this,r),d=1):r.x!==n||r.width!==n?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),d=1):r.from===n&&r.to===n&&(this._set(0,0,0,0),h.readSupported(c,this)&&(d=1))),d===n){var g=D.readNamed(c,"from"),_=h.peek(c),C=g.x,T=g.y,w,S;if(_&&_.x!==n||h.hasNamed(c,"to")){var L=D.readNamed(c,"to");w=L.x-C,S=L.y-T,w<0&&(C=L.x,w=-w),S<0&&(T=L.y,S=-S)}else{var P=ie.read(c);w=P.width,S=P.height}this._set(C,T,w,S),d=c.__index}var O=c.__filtered;return O&&(this.__filtered=O),this.__read&&(this.__read=d),this},set:"#initialize",_set:function(e,r,s,u){return this.x=e,this.y=r,this.width=s,this.height=u,this},clone:function(){return new ne(this.x,this.y,this.width,this.height)},equals:function(e){var r=h.isPlainValue(e)?ne.read(arguments):e;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var e=V.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(e){var r=e?D:le;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var e=D.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var r=e?ie:fe;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=ie.read(arguments),r=this._sx,s=this._sy,u=e.width,f=e.height;r&&(this.x+=(this.width-u)*r),s&&(this.y+=(this.height-f)*s),this.width=u,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var r=e-this.x;this.width-=this._sx===.5?r*2:r}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var r=e-this.y;this.height-=this._sy===.5?r*2:r}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var r=e-this.x;this.width=this._sx===.5?r*2:r}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var r=e-this.y;this.height=this._sy===.5?r*2:r}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var r=e?D:le;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=D.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==n||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(ne.read(arguments)):this._containsPoint(D.read(arguments))},_containsPoint:function(e){var r=e.x,s=e.y;return r>=this.x&&s>=this.y&&r<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(e){var r=e.x,s=e.y;return r>=this.x&&s>=this.y&&r+e.width<=this.x+this.width&&s+e.height<=this.y+this.height},intersects:function(){var e=ne.read(arguments),r=h.read(arguments)||0;return e.x+e.width>this.x-r&&e.y+e.height>this.y-r&&e.x<this.x+this.width+r&&e.y<this.y+this.height+r},intersect:function(){var e=ne.read(arguments),r=Math.max(this.x,e.x),s=Math.max(this.y,e.y),u=Math.min(this.x+this.width,e.x+e.width),f=Math.min(this.y+this.height,e.y+e.height);return new ne(r,s,u-r,f-s)},unite:function(){var e=ne.read(arguments),r=Math.min(this.x,e.x),s=Math.min(this.y,e.y),u=Math.max(this.x+this.width,e.x+e.width),f=Math.max(this.y+this.height,e.y+e.height);return new ne(r,s,u-r,f-s)},include:function(){var e=D.read(arguments),r=Math.min(this.x,e.x),s=Math.min(this.y,e.y),u=Math.max(this.x+this.width,e.x),f=Math.max(this.y+this.height,e.y);return new ne(r,s,u-r,f-s)},expand:function(){var e=ie.read(arguments),r=e.width,s=e.height;return new ne(this.x-r/2,this.y-s/2,this.width+r,this.height+s)},scale:function(e,r){return this.expand(this.width*e-this.width,this.height*(r===n?e:r)-this.height)}},h.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,r){var s=e.join(""),u=/^[RL]/.test(s);r>=4&&(e[1]+=u?"Y":"X");var f=e[u?0:1],c=e[u?1:0],v="get"+f,d="get"+c,g="set"+f,_="set"+c,C="get"+s,T="set"+s;this[C]=function(w){var S=w?D:le;return new S(this[v](),this[d](),this,T)},this[T]=function(){var w=D.read(arguments);this[g](w.x),this[_](w.y)}},{beans:!0})),Oe=ne.extend({initialize:function(r,s,u,f,c,v){this._set(r,s,u,f,!0),this._owner=c,this._setter=v},_set:function(e,r,s,u,f){return this._x=e,this._y=r,this._width=s,this._height=u,f||this._owner[this._setter](this),this}},new function(){var e=ne.prototype;return h.each(["x","y","width","height"],function(r){var s=h.capitalize(r),u="_"+r;this["get"+s]=function(){return this[u]},this["set"+s]=function(f){this[u]=f,this._dontNotify||this._owner[this._setter](this)}},h.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var s="set"+r;this[s]=function(){this._dontNotify=!0,e[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var s=this._owner;s._changeSelection&&s._changeSelection(2,r)}}))}),pe=h.extend({_class:"Matrix",initialize:function e(r,s){var u=arguments,f=u.length,c=!0;if(f>=6?this._set.apply(this,u):f===1||f===2?r instanceof e?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,s):Array.isArray(r)?this._set.apply(this,s?r.concat([s]):r):c=!1:f?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,r,s,u,f,c,v){return this._a=e,this._b=r,this._c=s,this._d=u,this._tx=f,this._ty=c,v||this._changed(),this},_serialize:function(e,r){return h.serialize(this.getValues(),e,!0,r)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new pe(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=V.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,r){var s=this._owner;return s?(s.transform(null,h.pick(e,!0),r),this.isIdentity()):!1},translate:function(){var e=D.read(arguments),r=e.x,s=e.y;return this._tx+=r*this._a+s*this._c,this._ty+=r*this._b+s*this._d,this._changed(),this},scale:function(){var e=arguments,r=D.read(e),s=D.read(e,0,{readNull:!0});return s&&this.translate(s),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var r=D.read(arguments,1),s=r.x,u=r.y,f=Math.cos(e),c=Math.sin(e),v=s-s*f+u*c,d=u-s*c-u*f,g=this._a,_=this._b,C=this._c,T=this._d;return this._a=f*g+c*C,this._b=f*_+c*T,this._c=-c*g+f*C,this._d=-c*_+f*T,this._tx+=v*g+d*C,this._ty+=v*_+d*T,this._changed(),this},shear:function(){var e=arguments,r=D.read(e),s=D.read(e,0,{readNull:!0});s&&this.translate(s);var u=this._a,f=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*u,this._d+=r.x*f,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var e=arguments,r=D.read(e),s=D.read(e,0,{readNull:!0}),u=Math.PI/180,f=new D(Math.tan(r.x*u),Math.tan(r.y*u));return this.shear(f,s)},append:function(e,r){if(e){var s=this._a,u=this._b,f=this._c,c=this._d,v=e._a,d=e._c,g=e._b,_=e._d,C=e._tx,T=e._ty;this._a=v*s+g*f,this._c=d*s+_*f,this._b=v*u+g*c,this._d=d*u+_*c,this._tx+=C*s+T*f,this._ty+=C*u+T*c,r||this._changed()}return this},prepend:function(e,r){if(e){var s=this._a,u=this._b,f=this._c,c=this._d,v=this._tx,d=this._ty,g=e._a,_=e._c,C=e._b,T=e._d,w=e._tx,S=e._ty;this._a=g*s+_*u,this._c=g*f+_*c,this._b=C*s+T*u,this._d=C*f+T*c,this._tx=g*v+_*d+w,this._ty=C*v+T*d+S,r||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,r=this._b,s=this._c,u=this._d,f=this._tx,c=this._ty,v=e*u-r*s,d=null;return v&&!isNaN(v)&&isFinite(f)&&isFinite(c)&&(this._a=u/v,this._b=-r/v,this._c=-s/v,this._d=e/v,this._tx=(s*c-u*f)/v,this._ty=(r*f-e*c)/v,d=this),d},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new pe(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,r,s){return arguments.length<3?this._transformPoint(D.read(arguments)):this._transformCoordinates(e,r,s)},_transformPoint:function(e,r,s){var u=e.x,f=e.y;return r||(r=new D),r._set(u*this._a+f*this._c+this._tx,u*this._b+f*this._d+this._ty,s)},_transformCoordinates:function(e,r,s){for(var u=0,f=2*s;u<f;u+=2){var c=e[u],v=e[u+1];r[u]=c*this._a+v*this._c+this._tx,r[u+1]=c*this._b+v*this._d+this._ty}return r},_transformCorners:function(e){var r=e.x,s=e.y,u=r+e.width,f=s+e.height,c=[r,s,u,s,u,f,r,f];return this._transformCoordinates(c,c,4)},_transformBounds:function(e,r,s){for(var u=this._transformCorners(e),f=u.slice(0,2),c=f.slice(),v=2;v<8;v++){var d=u[v],g=v&1;d<f[g]?f[g]=d:d>c[g]&&(c[g]=d)}return r||(r=new ne),r._set(f[0],f[1],c[0]-f[0],c[1]-f[1],s)},inverseTransform:function(){return this._inverseTransform(D.read(arguments))},_inverseTransform:function(e,r,s){var u=this._a,f=this._b,c=this._c,v=this._d,d=this._tx,g=this._ty,_=u*v-f*c,C=null;if(_&&!isNaN(_)&&isFinite(d)&&isFinite(g)){var T=e.x-this._tx,w=e.y-this._ty;r||(r=new D),C=r._set((T*v-w*c)/_,(w*u-T*f)/_,s)}return C},decompose:function(){var e=this._a,r=this._b,s=this._c,u=this._d,f=e*u-r*s,c=Math.sqrt,v=Math.atan2,d=180/Math.PI,g,_,C;if(e!==0||r!==0){var T=c(e*e+r*r);g=Math.acos(e/T)*(r>0?1:-1),_=[T,f/T],C=[v(e*s+r*u,T*T),0]}else if(s!==0||u!==0){var w=c(s*s+u*u);g=Math.asin(s/w)*(u>0?1:-1),_=[f/w,w],C=[0,v(e*s+r*u,w*w)]}else g=0,C=_=[0,0];return{translation:this.getTranslation(),rotation:g*d,scaling:new D(_),skewing:new D(C[0]*d,C[1]*d)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new D(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},h.each(["a","b","c","d","tx","ty"],function(e){var r=h.capitalize(e),s="_"+e;this["get"+r]=function(){return this[s]},this["set"+r]=function(u){this[s]=u,this._changed()}},{})),Ne=h.extend({_class:"Line",initialize:function(r,s,u,f,c){var v=!1;arguments.length>=4?(this._px=r,this._py=s,this._vx=u,this._vy=f,v=c):(this._px=r.x,this._py=r.y,this._vx=s.x,this._vy=s.y,v=u),v||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new D(this._px,this._py)},getVector:function(){return new D(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,r){return Ne.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,r)},getSide:function(e,r){return Ne.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,r)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return Ne.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return D.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return D.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,r,s,u,f,c,v,d,g,_){g||(s-=e,u-=r,v-=f,d-=c);var C=s*d-u*v;if(!K.isMachineZero(C)){var T=e-f,w=r-c,S=(v*w-d*T)/C,L=(s*w-u*T)/C,P=1e-12,O=-P,k=1+P;if(_||O<S&&S<k&&O<L&&L<k)return _||(S=S<=0?0:S>=1?1:S),new D(e+S*s,r+S*u)}},getSide:function(e,r,s,u,f,c,v,d){v||(s-=e,u-=r);var g=f-e,_=c-r,C=g*u-_*s;return!d&&K.isMachineZero(C)&&(C=(g*s+g*s)/(s*s+u*u),C>=0&&C<=1&&(C=0)),C<0?-1:C>0?1:0},getSignedDistance:function(e,r,s,u,f,c,v){return v||(s-=e,u-=r),s===0?u>0?f-e:e-f:u===0?s<0?c-r:r-c:((f-e)*u-(c-r)*s)/(u>s?u*Math.sqrt(1+s*s/(u*u)):s*Math.sqrt(1+u*u/(s*s)))},getDistance:function(e,r,s,u,f,c,v){return Math.abs(Ne.getSignedDistance(e,r,s,u,f,c,v))}}}),me=y.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){y.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new hr(null,null,this),this._view=_t.create(this,r||St.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,r){return h.serialize(this._children,e,!0,r)},_changed:function(e,r){if(e&1){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var u=this._changes;if(u&&r){var f=this._changesById,c=r._id,v=f[c];v?v.flags|=e:u.push(f[c]={item:r,flags:e})}},clear:function(){for(var e=this._children,r=e.length-1;r>=0;r--)e[r].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ve({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],r={};return this.getItems({class:it,match:function(s){var u=s._definition,f=u._id;return r[f]||(r[f]=!0,e.push(u)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,r=[];for(var s in e){var u=e[s],f=u._selection;f&1&&u.isInserted()?r.push(u):f||this._updateSelection(u)}return r},_updateSelection:function(e){var r=e._id,s=this._selectionItems;e._selection?s[r]!==e&&(this._selectionCount++,s[r]=e):s[r]===e&&(this._selectionCount--,delete s[r])},selectAll:function(){for(var e=this._children,r=0,s=e.length;r<s;r++)e[r].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var r in e)e[r].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(n,e)},insertLayer:function(e,r){if(r instanceof ve){r._remove(!1,!0),h.splice(this._children,[r],e,0),r._setProject(this,!0);var s=r._name;s&&r.setName(s),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(e,r,s){return r=this.insertLayer(e,r)||(this._activeLayer||this._insertItem(n,new ve(M.NO_INSERT),!0)).insertChild(e,r),s&&r.activate&&r.activate(),r},getItems:function(e){return M._getItems(this,e)},getItem:function(e){return M._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var r=this._activeLayer;return h.importJSON(e,r&&r.isEmpty()&&r)},removeOn:function(e){var r=this._removeSets;if(r){e==="mouseup"&&(r.mousedrag=null);var s=r[e];if(s){for(var u in s){var f=s[u];for(var c in r){var v=r[c];v&&v!=s&&delete v[f._id]}f.remove()}r[e]=null}}},draw:function(e,r,s){this._updateVersion++,e.save(),r.applyToContext(e);for(var u=this._children,f=new h({offset:new D(0,0),pixelRatio:s,viewMatrix:r.isIdentity()?null:r,matrices:[new pe],updateMatrix:!0}),c=0,v=u.length;c<v;c++)u[c].draw(e,f);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var d=this._selectionItems,g=this._scope.settings.handleSize,_=this._updateVersion;for(var C in d)d[C]._drawSelection(e,r,g,d,_);e.restore()}}}),M=h.extend(m,{statics:{extend:function e(r){return r._serializeFields&&(r._serializeFields=h.set({},this.prototype._serializeFields,r._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new pe,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return h.each(e,function(r){this._events[r]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,r){var s=e&&h.isPlainObject(e),u=s&&e.internal===!0,f=this._matrix=new pe,c=s&&e.project||Ke.project,v=Ke.settings;return this._id=u?null:X.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&v.applyMatrix,r&&f.translate(r),f._owner=this,this._style=new hr(c._currentStyle,this,c),u||s&&e.insert==!1||!v.insertItems&&!(s&&e.insert==!0)?this._setProject(c):(s&&e.parent||c)._insertItem(n,this,!0),s&&e!==M.NO_INSERT&&e!==M.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(e,r){var s={},u=this;function f(c){for(var v in c){var d=u[v];h.equals(d,v==="leading"?c.fontSize*1.2:c[v])||(s[v]=h.serialize(d,e,v!=="data",r))}}return f(this._serializeFields),this instanceof be||f(this._style._defaults),[this._class,s]},_changed:function(e){var r=this._symbol,s=this._parent||r,u=this._project;e&8&&(this._bounds=this._position=this._decomposed=n),e&16&&(this._globalMatrix=n),s&&e&72&&M._clearBoundsCache(s),e&2&&M._clearBoundsCache(this),u&&u._changed(e,this),r&&r._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(e&&r){var s=r._children,u=r._namedChildren;(u[e]=u[e]||[]).push(this),e in s||(s[e]=this)}this._name=e||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},h.each(["locked","visible","blendMode","opacity","guide"],function(e){var r=h.capitalize(e),s="_"+e,u={locked:256,visible:265};this["get"+r]=function(){return this[s]},this["set"+r]=function(f){f!=this[s]&&(this[s]=f,this._changed(u[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(e,r){var s=this._selection;this.setSelection(r?s|e:s&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,r=0,s=e.length;r<s;r++)if(e[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var r=this._children,s=0,u=r.length;s<u;s++)r[s].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,r=!!(this._selection&1);if(e&&r){for(var s=0,u=e.length;s<u;s++)if(!e[s].isFullySelected())return!1;return!0}return r},setFullySelected:function(e){var r=this._children;if(r)for(var s=0,u=r.length;s<u;s++)r[s].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var r=e?D:le,s=this._position||(this._position=this._getPositionFromBounds());return new r(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(D.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new le(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=D.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},h.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,r){this[r]=function(s){return this.getBounds(s,e)}},{beans:!0,getBounds:function(e,r){var s=r||e instanceof pe,u=h.set({},s?r:e,this._boundsOptions);(!u.stroke||this.getStrokeScaling())&&(u.cacheItem=this);var f=this._getCachedBounds(s&&e,u).rect;return arguments.length?f:new Oe(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var e=ne.read(arguments),r=this.getBounds(),s=this._matrix,u=new pe,f=e.getCenter();u.translate(f),(e.width!=r.width||e.height!=r.height)&&(s.isInvertible()||(s.set(s._backup||new pe().translate(s.getTranslation())),r=this.getBounds()),u.scale(r.width!==0?e.width/r.width:0,r.height!==0?e.height/r.height:0)),f=r.getCenter(),u.translate(-f.x,-f.y),this.transform(u)},_getBounds:function(e,r){var s=this._children;return!s||!s.length?new ne:(M._updateBoundsCache(this,r.cacheItem),M._getBounds(s,e,r))},_getBoundsCacheKey:function(e,r){return[e.stroke?1:0,e.handle?1:0,r?1:0].join("")},_getCachedBounds:function(e,r,s){e=e&&e._orNullIfIdentity();var u=r.internal&&!s,f=r.cacheItem,c=u?null:this._matrix._orNullIfIdentity(),v=f&&(!e||e.equals(c))&&this._getBoundsCacheKey(r,u),d=this._bounds;if(M._updateBoundsCache(this._parent||this._symbol,f),v&&d&&v in d){var g=d[v];return{rect:g.rect.clone(),nonscaling:g.nonscaling}}var _=this._getBounds(e||c,r),C=_.rect||_,T=this._style,w=_.nonscaling||T.hasStroke()&&!T.getStrokeScaling();if(v){d||(this._bounds=d={});var g=d[v]={rect:C.clone(),nonscaling:w,internal:u}}return{rect:C,nonscaling:w}},_getStrokeMatrix:function(e,r){var s=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,u=s?s.getViewMatrix().invert():e;return u&&u._shiftless()},statics:{_updateBoundsCache:function(e,r){if(e&&r){var s=r._id,u=e._boundsCache=e._boundsCache||{ids:{},list:[]};u.ids[s]||(u.list.push(r),u.ids[s]=r)}},_clearBoundsCache:function(e){var r=e._boundsCache;if(r){e._bounds=e._position=e._boundsCache=n;for(var s=0,u=r.list,f=u.length;s<f;s++){var c=u[s];c!==e&&(c._bounds=c._position=n,c._boundsCache&&M._clearBoundsCache(c))}}},_getBounds:function(e,r,s){var u=1/0,f=-u,c=u,v=f,d=!1;s=s||{};for(var g=0,_=e.length;g<_;g++){var C=e[g];if(C._visible&&!C.isEmpty(!0)){var T=C._getCachedBounds(r&&r.appended(C._matrix),s,!0),w=T.rect;u=Math.min(w.x,u),c=Math.min(w.y,c),f=Math.max(w.x+w.width,f),v=Math.max(w.y+w.height,v),T.nonscaling&&(d=!0)}}return{rect:isFinite(u)?new ne(u,c,f-u,v-c):new ne,nonscaling:d}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var r=this.getRotation();if(r!=null&&e!=null){var s=this._decomposed;this.rotate(e-r),s&&(s.rotation=e,this._decomposed=s)}},getScaling:function(){var e=this._decompose(),r=e&&e.scaling;return new le(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=D.read(arguments,0,{clone:!0,readNull:!0});if(e&&r&&!e.equals(r)){var s=this.getRotation(),u=this._decomposed,f=new pe,c=K.isZero;if(c(e.x)||c(e.y))f.translate(u.translation),s&&f.rotate(s),f.scale(r.x,r.y),this._matrix.set(f);else{var v=this.getPosition(!0);f.translate(v),s&&f.rotate(s),f.scale(r.x/e.x,r.y/e.y),s&&f.rotate(-s),f.translate(v.negate()),this.transform(f)}u&&(u.scaling=r,this._decomposed=u)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var r=this._globalMatrix;if(r)for(var s=this._parent,u=[];s;){if(!s._globalMatrix){r=null;for(var f=0,c=u.length;f<c;f++)u[f]._globalMatrix=null;break}u.push(s),s=s._parent}if(!r){r=this._globalMatrix=this._matrix.clone();var s=this._parent;s&&r.prepend(s.getGlobalMatrix(!0))}return e?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,r){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var s=this._children,u=0,f=s&&s.length;u<f;u++)s[u]._setProject(e);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(r){e.base.call(this,r);for(var s=this._children,u=0,f=s&&s.length;u<f;u++)s[u]._installEvents(r)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof ve)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return h.equals(this._children,e._children)},clone:function(e){var r=new this.constructor(M.NO_INSERT),s=this._children,u=h.pick(e?e.insert:n,e===n||e===!0),f=h.pick(e?e.deep:n,!0);s&&r.copyAttributes(this),(!s||f)&&r.copyContent(this),s||r.copyAttributes(this),u&&r.insertAbove(this);var c=this._name,v=this._parent;if(c&&v){for(var s=v._children,d=c,g=1;s[c];)c=d+" "+g++;c!==d&&r.setName(c)}return r},copyContent:function(e){for(var r=e._children,s=0,u=r&&r.length;s<u;s++)this.addChild(r[s].clone(!1),!0)},copyAttributes:function(e,r){this.setStyle(e._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],u=0,f=s.length;u<f;u++){var c=s[u];e.hasOwnProperty(c)&&(this[c]=e[c])}r||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var v=e._data,d=e._name;this._data=v?h.clone(v):null,d&&this.setName(d)},rasterize:function(e,r){var s,u,f;h.isPlainObject(e)?(s=e.resolution,u=e.insert,f=e.raster):(s=e,u=r),f||(f=new Le(M.NO_INSERT));var c=this.getStrokeBounds(),v=(s||this.getView().getResolution())/72,d=c.getTopLeft().floor(),g=c.getBottomRight().ceil(),_=new ie(g.subtract(d)),C=_.multiply(v);if(f.setSize(C,!0),!C.isZero()){var T=f.getContext(!0),w=new pe().scale(v).translate(d.negate());T.save(),w.applyToContext(T),this.draw(T,new h({matrices:[w]})),T.restore()}return f._matrix.set(new pe().translate(d.add(_.divide(2))).scale(1/v)),(u===n||u)&&f.insertAbove(this),f},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(D.read(arguments)))},_contains:function(e){var r=this._children;if(r){for(var s=r.length-1;s>=0;s--)if(r[s].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return ne.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Me.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,r){return e instanceof M?this._asPathItem().getIntersections(e._asPathItem(),null,r,!0).length>0:!1}},new function(){function e(){var u=arguments;return this._hitTest(D.read(u),ot.getOptions(u))}function r(){var u=arguments,f=D.read(u),c=ot.getOptions(u),v=[];return this._hitTest(f,new h({all:v},c)),v}function s(u,f,c,v){var d=this._children;if(d)for(var g=d.length-1;g>=0;g--){var _=d[g],C=_!==v&&_._hitTest(u,f,c);if(C&&!f.all)return C}return null}return me.inject({hitTest:e,hitTestAll:r,_hitTest:s}),{hitTest:e,hitTestAll:r,_hitTestChildren:s}},{_hitTest:function(e,r,s){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var u=this._matrix,f=s?s.appended(u):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(r.tolerance,1e-12),v=r._tolerancePadding=new ie(Me._getStrokePadding(c,u._shiftless().invert()));if(e=u._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(v.multiply(2))._containsPoint(e))return null;var d=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==h.hyphenate(this._class)||r.class&&!(this instanceof r.class)),g=r.match,_=this,C,T;function w(x){return x&&g&&!g(x)&&(x=null),x&&r.all&&r.all.push(x),x}function S(x,A){var R=A?C["get"+A]():_.getPosition();if(e.subtract(R).divide(v).length<=1)return new ot(x,_,{name:A?h.hyphenate(A):x,point:R})}var L=r.position,P=r.center,O=r.bounds;if(d&&this._parent&&(L||P||O)){if((P||O)&&(C=this.getInternalBounds()),T=L&&S("position")||P&&S("center","Center"),!T&&O)for(var k=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!T;I++)T=S("bounds",k[I]);T=w(T)}return T||(T=this._hitTestChildren(e,r,f)||d&&w(this._hitTestSelf(e,r,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),T&&T.point&&(T.point=u.transform(T.point)),T},_hitTestSelf:function(e,r){if(r.fill&&this.hasFill()&&this._contains(e))return new ot("fill",this)},matches:function(e,r){function s(v,d){for(var g in v)if(v.hasOwnProperty(g)){var _=v[g],C=d[g];if(h.isPlainObject(_)&&h.isPlainObject(C)){if(!s(_,C))return!1}else if(!h.equals(_,C))return!1}return!0}var u=typeof e;if(u==="object"){for(var f in e)if(e.hasOwnProperty(f)&&!this.matches(f,e[f]))return!1;return!0}else{if(u==="function")return e(this);if(e==="match")return r(this);var c=/^(empty|editable)$/.test(e)?this["is"+h.capitalize(e)]():e==="type"?h.hyphenate(this._class):this[e];if(e==="class"){if(typeof r=="function")return this instanceof r;c=this._class}if(typeof r=="function")return!!r(c);if(r){if(r.test)return r.test(c);if(h.isPlainObject(r))return s(r,c)}return h.equals(c,r)}},getItems:function(e){return M._getItems(this,e,this._matrix)},getItem:function(e){return M._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(r,s,u,f,c){if(!f){var v=typeof s=="object"&&s,d=v&&v.overlapping,g=v&&v.inside,_=d||g,w=_&&ne.read([_]);f={items:[],recursive:v&&v.recursive!==!1,inside:!!g,overlapping:!!d,rect:w,path:d&&new Me.Rectangle({rectangle:w,insert:!1})},v&&(s=h.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var C=r._children,T=f.items,w=f.rect;u=w&&(u||new pe);for(var S=0,L=C&&C.length;S<L;S++){var P=C[S],O=u&&u.appended(P._matrix),k=!0;if(w){var _=P.getBounds(O);if(!w.intersects(_))continue;w.contains(_)||f.overlapping&&(_.contains(w)||f.path.intersects(P,O))||(k=!1)}if(k&&P.matches(s)&&(T.push(P),c)||(f.recursive!==!1&&e(P,s,O,f,c),c&&T.length>0))break}return T}}},{importJSON:function(e){var r=h.importJSON(e,this);return r!==this?this.addChild(r):r},addChild:function(e){return this.insertChild(n,e)},insertChild:function(e,r){var s=r?this.insertChildren(e,[r]):null;return s&&s[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,r){var s=this._children;if(s&&r&&r.length>0){r=h.slice(r);for(var u={},f=r.length-1;f>=0;f--){var c=r[f],v=c&&c._id;!c||u[v]?r.splice(f,1):(c._remove(!1,!0),u[v]=!0)}h.splice(s,r,e,0);for(var d=this._project,g=d._changes,f=0,_=r.length;f<_;f++){var c=r[f],C=c._name;c._parent=this,c._setProject(d,!0),C&&c.setName(C),g&&c._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(e,r){var s=e&&e._getOwner(),u=e!==this&&s?this:null;return u&&(u._remove(!1,!0),s._insertItem(e._index+r,u)),u},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(n,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(n,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var r=this._children;if(r&&r.length===1){var s=r[0].reduce(e);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var e=this._getOwner();if(e){var r=e._children,s=e._namedChildren,u=this._name,f=s[u],c=f?f.indexOf(this):-1;c!==-1&&(r[u]==this&&delete r[u],f.splice(c,1),f.length?r[u]=f[0]:delete s[u])}},_remove:function(e,r){var s=this._getOwner(),u=this._project,f=this._index;return this._style&&this._style._dispose(),s?(this._name&&this._removeNamed(),f!=null&&(u._activeLayer===this&&(u._activeLayer=this.getNextSibling()||this.getPreviousSibling()),h.splice(s._children,null,f,1)),this._installEvents(!1),e&&u._changes&&this._changed(5),r&&s._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var r=e&&e.insertBelow(this);return r&&this.remove(),r},removeChildren:function(e,r){if(!this._children)return null;e=e||0,r=h.pick(r,this._children.length);for(var s=h.splice(this._children,null,e,r-e),u=s.length-1;u>=0;u--)s[u]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,r=this._children.length;e<r;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var r=this._children,s=r?r.length:0;if(e){for(var u=0;u<s;u++)if(!r[u].isEmpty(e))return!1;return!0}return!s},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function r(v){var d=[];do d.unshift(v);while(v=v._parent);return d}for(var s=r(this),u=r(e),f=0,c=Math.min(s.length,u.length);f<c;f++)if(s[f]!=u[f])return s[f]._index<u[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var r=this;r=r._parent;)if(r===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&e.isDescendant(r))return!0;r=r._parent}return!1}},h.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var s=arguments,u=(r?h:D).read(s),f=D.read(s,0,{readNull:!0});return this.transform(new pe()[e](u,f||this.getPosition(!0)))}},{translate:function(){var e=new pe;return this.transform(e.translate.apply(e,arguments))},transform:function(e,r,s){var u=this._matrix,f=e&&!e.isIdentity(),c=s&&this._canApplyMatrix||this._applyMatrix&&(f||!u.isIdentity()||r&&this._children);if(!f&&!c)return this;if(f){!e.isInvertible()&&u.isInvertible()&&(u._backup=u.getValues()),u.prepend(e,!0);var v=this._style,d=v.getFillColor(!0),g=v.getStrokeColor(!0);d&&d.transform(e),g&&g.transform(e)}if(c&&(c=this._transformContent(u,r,s))){var _=this._pivot;_&&u._transformPoint(_,_,!0),u.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var C=this._bounds,T=this._position;(f||c)&&this._changed(25);var w=f&&C&&e.decompose();if(w&&w.skewing.isZero()&&w.rotation%90===0){for(var S in C){var L=C[S];if(L.nonscaling)delete C[S];else if(c||!L.internal){var P=L.rect;e._transformBounds(P,P)}}this._bounds=C;var O=C[this._getBoundsCacheKey(this._boundsOptions||{})];O&&(this._position=this._getPositionFromBounds(O.rect))}else f&&T&&this._pivot&&(this._position=e._transformPoint(T,T));return this},_transformContent:function(e,r,s){var u=this._children;if(u){for(var f=0,c=u.length;f<c;f++)u[f].transform(e,r,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(D.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(D.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(D.read(arguments))},localToParent:function(){return this._matrix._transformPoint(D.read(arguments))},fitBounds:function(e,r){e=ne.read(arguments);var s=this.getBounds(),u=s.height/s.width,f=e.height/e.width,c=(r?u>f:u<f)?e.width/s.width:e.height/s.height,v=new ne(new D,new ie(s.width*c,s.height*c));v.setCenter(e.getCenter()),this.setBounds(v)}}),{_setStyles:function(e,r,s){var u=this._style,f=this._matrix;if(u.hasFill()&&(e.fillStyle=u.getFillColor().toCanvasStyle(e,f)),u.hasStroke()){e.strokeStyle=u.getStrokeColor().toCanvasStyle(e,f),e.lineWidth=u.getStrokeWidth();var c=u.getStrokeJoin(),v=u.getStrokeCap(),d=u.getMiterLimit();if(c&&(e.lineJoin=c),v&&(e.lineCap=v),d&&(e.miterLimit=d),Ke.support.nativeDash){var g=u.getDashArray(),_=u.getDashOffset();g&&g.length&&("setLineDash"in e?(e.setLineDash(g),e.lineDashOffset=_):(e.mozDash=g,e.mozDashOffset=_))}}if(u.hasShadow()){var C=r.pixelRatio||1,T=s._shiftless().prepend(new pe().scale(C,C)),w=T.transform(new D(u.getShadowBlur(),0)),S=T.transform(this.getShadowOffset());e.shadowColor=u.getShadowColor().toCanvasStyle(e),e.shadowBlur=w.getLength(),e.shadowOffsetX=S.x,e.shadowOffsetY=S.y}},draw:function(e,r,s){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var u=r.matrices,f=r.viewMatrix,c=this._matrix,v=u[u.length-1].appended(c);if(v.isInvertible()){f=f?f.appended(v):v,u.push(v),r.updateMatrix&&(this._globalMatrix=v);var d=this._blendMode,g=K.clamp(this._opacity,0,1),_=d==="normal",C=Xt.nativeModes[d],T=_&&g===1||r.dontStart||r.clip||(C||_&&g<1)&&this._canComposite(),w=r.pixelRatio||1,S,L,P;if(!T){var O=this.getStrokeBounds(f);if(!O.width||!O.height){u.pop();return}P=r.offset,L=r.offset=O.getTopLeft().floor(),S=e,e=St.getContext(O.getSize().ceil().add(1).multiply(w)),w!==1&&e.scale(w,w)}e.save();var k=s?s.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,I=!T&&r.clipItem,x=!k||I;if(T?(e.globalAlpha=g,C&&(e.globalCompositeOperation=d)):x&&e.translate(-L.x,-L.y),x&&(T?c:f).applyToContext(e),I&&r.clipItem.draw(e,r.extend({clip:!0})),k){e.setTransform(w,0,0,w,0,0);var A=r.offset;A&&e.translate(-A.x,-A.y)}this._draw(e,r,f,k),e.restore(),u.pop(),r.clip&&!r.dontFinish&&e.clip(this.getFillRule()),T||(Xt.process(d,e,S,g,L.subtract(P).multiply(w)),St.release(e),r.offset=P)}}},_isUpdated:function(e){var r=this._parent;if(r instanceof rt)return r._isUpdated(e);var s=this._updateVersion===e;return!s&&r&&r._visible&&r._isUpdated(e)&&(this._updateVersion=e,s=!0),s},_drawSelection:function(e,r,s,u,f){var c=this._selection,v=c&1,d=c&2||v&&this._selectBounds,g=c&4;if(this._drawSelected||(v=!1),(v||d||g)&&this._isUpdated(f)){var _,C=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),T=r.appended(this.getGlobalMatrix(!0)),w=s/2;if(e.strokeStyle=e.fillStyle=C?C.toCanvasStyle(e):"#009dec",v&&this._drawSelected(e,T,u),g){var S=this.getPosition(!0),L=this._parent,P=L?L.localToGlobal(S):S,O=P.x,k=P.y;e.beginPath(),e.arc(O,k,w,0,Math.PI*2,!0),e.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],x=w,A=s+1,R=0;R<4;R++){var U=I[R],F=U[0],B=U[1];e.moveTo(O+F*x,k+B*x),e.lineTo(O+F*A,k+B*A),e.stroke()}}if(d){var G=T._transformCorners(this.getInternalBounds());e.beginPath();for(var R=0;R<8;R++)e[R?"lineTo":"moveTo"](G[R],G[++R]);e.closePath(),e.stroke();for(var R=0;R<8;R++)e.fillRect(G[R]-w,G[++R]-w,s,s)}}},_canComposite:function(){return!1}},h.each(["down","drag","up","move"],function(e){this["removeOn"+h.capitalize(e)]=function(){var r={};return r[e]=!0,this.removeOn(r)}},{removeOn:function(e){for(var r in e)if(e[r]){var s="mouse"+r,u=this._project,f=u._removeSets=u._removeSets||{};f[s]=f[s]||{},f[s][this._id]=this}return this}}),{tween:function(e,r,s){s||(s=r,r=e,e=null,s||(s=r,r=null));var u=s&&s.easing,f=s&&s.start,c=s!=null&&(typeof s=="number"?s:s.duration),v=new ci(this,e,r,c,u,f);function d(g){v._handleFrame(g.time*1e3),v.running||this.off("frame",d)}return c&&this.on("frame",d),v},tweenTo:function(e,r){return this.tween(null,e,r)},tweenFrom:function(e,r){return this.tween(e,null,r)}}),be=M.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function e(r){e.base.call(this,r),r&2050&&(this._clipItem=n)},_getClipItem:function(){var e=this._clipItem;if(e===n){e=null;for(var r=this._children,s=0,u=r.length;s<u;s++)if(r[s]._clipMask){e=r[s];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var r=this.getFirstChild();r&&r.setClipMask(e)},_getBounds:function e(r,s){var u=this._getClipItem();return u?u._getCachedBounds(u._matrix.prepended(r),h.set({},s,{stroke:!1})):e.base.call(this,r,s)},_hitTestChildren:function e(r,s,u){var f=this._getClipItem();return(!f||f.contains(r))&&e.base.call(this,r,s,u,f)},_draw:function(e,r){var s=r.clip,u=!s&&this._getClipItem();r=r.extend({clipItem:u,clip:!1}),s?(e.beginPath(),r.dontStart=r.dontFinish=!0):u&&u.draw(e,r.extend({clip:!0}));for(var f=this._children,c=0,v=f.length;c<v;c++){var d=f[c];d!==u&&d.draw(e,r)}}}),ve=be.extend({_class:"Layer",initialize:function(){be.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ue=M.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,s){this._initialize(r,s)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&h.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new fe(e.width,e.height,this,"setSize")},setSize:function(){var e=ie.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var r=this._type,s=e.width,u=e.height;r==="rectangle"?this._radius.set(ie.min(this._radius,e.divide(2).abs())):r==="circle"?(s=u=(s+u)/2,this._radius=s/2):r==="ellipse"&&this._radius._set(s/2,u/2),this._size._set(s,u),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new fe(e.width,e.height,this,"setRadius")},setRadius:function(e){var r=this._type;if(r==="circle"){if(e===this._radius)return;var s=e*2;this._radius=e,this._size._set(s,s)}else if(e=ie.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),r==="rectangle"){var s=ie.max(this._size,e.multiply(2));this._size.set(s)}else r==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var r=new Me[h.capitalize(this._type)]({center:new D,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),Ke.settings.applyMatrix&&r.setApplyMatrix(!0),(e===n||e)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,r,s,u){var f=this._style,c=f.hasFill(),v=f.hasStroke(),d=r.dontFinish||r.clip,g=!u;if(c||v||d){var _=this._type,C=this._radius,T=_==="circle";if(r.dontStart||e.beginPath(),g&&T)e.arc(0,0,C,0,Math.PI*2,!0);else{var w=T?C:C.width,S=T?C:C.height,L=this._size,P=L.width,O=L.height;if(g&&_==="rectangle"&&w===0&&S===0)e.rect(-P/2,-O/2,P,O);else{var k=P/2,I=O/2,x=1-.5522847498307936,A=w*x,R=S*x,U=[-k,-I+S,-k,-I+R,-k+A,-I,-k+w,-I,k-w,-I,k-A,-I,k,-I+R,k,-I+S,k,I-S,k,I-R,k-A,I,k-w,I,-k+w,I,-k+A,I,-k,I-R,-k,I-S];u&&u.transform(U,U,32),e.moveTo(U[0],U[1]),e.bezierCurveTo(U[2],U[3],U[4],U[5],U[6],U[7]),k!==w&&e.lineTo(U[8],U[9]),e.bezierCurveTo(U[10],U[11],U[12],U[13],U[14],U[15]),I!==S&&e.lineTo(U[16],U[17]),e.bezierCurveTo(U[18],U[19],U[20],U[21],U[22],U[23]),k!==w&&e.lineTo(U[24],U[25]),e.bezierCurveTo(U[26],U[27],U[28],U[29],U[30],U[31])}}e.closePath()}!d&&(c||v)&&(this._setStyles(e,r,s),c&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),v&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,r){var s=new ne(this._size).setCenter(0,0),u=this._style,f=r.stroke&&u.hasStroke()&&u.getStrokeWidth();return e&&(s=e._transformBounds(s)),f?s.expand(Me._getStrokePadding(f,this._getStrokeMatrix(e,r))):s}},new function(){function e(s,u,f){var c=s._radius;if(!c.isZero())for(var v=s._size.divide(2),d=1;d<=4;d++){var g=new D(d>1&&d<4?-1:1,d>2?-1:1),_=g.multiply(v),C=_.subtract(g.multiply(c)),T=new ne(f?_.add(g.multiply(f)):_,C);if(T.contains(u))return{point:C,quadrant:d}}}function r(s,u,f,c){var v=s.divide(u);return(!c||v.isInQuadrant(c))&&v.subtract(v.normalize()).multiply(u).divide(f).length<=1}return{_contains:function s(u){if(this._type==="rectangle"){var f=e(this,u);return f?u.subtract(f.point).divide(this._radius).getLength()<=1:s.base.call(this,u)}else return u.divide(this.size).getLength()<=.5},_hitTestSelf:function s(u,f,c,v){var d=!1,g=this._style,_=f.stroke&&g.hasStroke(),C=f.fill&&g.hasFill();if(_||C){var T=this._type,w=this._radius,S=_?g.getStrokeWidth()/2:0,L=f._tolerancePadding.add(Me._getStrokePadding(S,!g.getStrokeScaling()&&v));if(T==="rectangle"){var P=L.multiply(2),O=e(this,u,P);if(O)d=r(u.subtract(O.point),w,L,O.quadrant);else{var k=new ne(this._size).setCenter(0,0),I=k.expand(P),x=k.expand(P.negate());d=I._containsPoint(u)&&!x._containsPoint(u)}}else d=r(u,w,L)}return d?new ot(_?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function e(r,s,u,f,c){var v=h.create(Ue.prototype);return v._type=r,v._size=u,v._radius=f,v._initialize(h.getNamed(c),s),v}return{Circle:function(){var r=arguments,s=D.readNamed(r,"center"),u=h.readNamed(r,"radius");return e("circle",s,new ie(u*2),u,r)},Rectangle:function(){var r=arguments,s=ne.readNamed(r,"rectangle"),u=ie.min(ie.readNamed(r,"radius"),s.getSize(!0).divide(2));return e("rectangle",s.getCenter(!0),s.getSize(!0),u,r)},Ellipse:function(){var r=arguments,s=Ue._readEllipse(r),u=s.radius;return e("ellipse",s.center,u.multiply(2),u,r)},_readEllipse:function(r){var s,u;if(h.hasNamed(r,"radius"))s=D.readNamed(r,"center"),u=ie.readNamed(r,"radius");else{var f=ne.readNamed(r,"rectangle");s=f.getCenter(!0),u=f.getSize(!0).divide(2)}return{center:s,radius:u}}}}}),Le=M.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,s){if(!this._initialize(r,s!==n&&D.read(arguments))){var u,f=typeof r,c=f==="string"?l.getElementById(r):f==="object"?r:null;if(c&&c!==M.NO_INSERT){if(c.getContext||c.naturalHeight!=null)u=c;else if(c){var v=ie.read(arguments);v.isZero()||(u=St.getCanvas(v))}}u?this.setImage(u):this.setSource(r)}this._size||(this._size=new ie,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var r=e._image,s=e._canvas;if(r)this._setImage(r);else if(s){var u=St.getCanvas(e._size);u.getContext("2d").drawImage(s,0,0),this._setImage(u)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new fe(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,r){var s=ie.read(arguments);if(s.equals(this._size))r&&this.clear();else if(s.width>0&&s.height>0){var u=!r&&this.getElement();this._setImage(St.getCanvas(s)),u&&this.getContext(!0).drawImage(u,0,0,s.width,s.height)}else this._canvas&&St.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,r=new D(0,0).transform(e),s=new D(1,0).transform(e).subtract(r),u=new D(0,1).transform(e).subtract(r);return new ie(72/s.getLength(),72/u.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var r=this;function s(u){var f=r.getView(),c=u&&u.type||"load";f&&r.responds(c)&&(Ke=f._scope,r.emit(c,new Ur(u)))}this._setImage(e),this._loaded?setTimeout(s,0):e&&mt.add(e,{load:function(u){r._setImage(e),s(u)},error:s})},_setImage:function(e){this._canvas&&St.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new ie(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=St.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{St.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var r=new i.Image,s=this._crossOrigin;s&&(r.crossOrigin=s),e&&(r.src=e),this.setImage(r)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var r=this._image;r&&(r.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=ne.read(arguments),r=St.getContext(e.getSize());return r.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.canvas},getSubRaster:function(){var e=ne.read(arguments),r=new Le(M.NO_INSERT);return r._setImage(this.getSubCanvas(e)),r.translate(e.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var e=this._image,r=e&&e.src;if(/^data:/.test(r))return r;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(e){var r=D.read(arguments,1);this.getContext(!0).drawImage(e,r.x,r.y)},getAverageColor:function(e){var r,s;if(e?e instanceof pt?(s=e,r=e.getBounds()):typeof e=="object"&&("width"in e?r=new ne(e):"x"in e&&(r=new ne(e.x-.5,e.y-.5,1,1))):r=this.getBounds(),!r)return null;var u=32,f=Math.min(r.width,u),c=Math.min(r.height,u),v=Le._sampleContext;v?v.clearRect(0,0,u+1,u+1):v=Le._sampleContext=St.getContext(new ie(u)),v.save();var d=new pe().scale(f/r.width,c/r.height).translate(-r.x,-r.y);d.applyToContext(v),s&&s.draw(v,new h({clip:!0,matrices:[d]})),this._matrix.applyToContext(v);var g=this.getElement(),_=this._size;g&&v.drawImage(g,-_.width/2,-_.height/2),v.restore();for(var C=v.getImageData(.5,.5,Math.ceil(f),Math.ceil(c)).data,T=[0,0,0],w=0,S=0,L=C.length;S<L;S+=4){var P=C[S+3];w+=P,P/=255,T[0]+=C[S]*P,T[1]+=C[S+1]*P,T[2]+=C[S+2]*P}for(var S=0;S<3;S++)T[S]/=w;return w?gt.read(T):null},getPixel:function(){var e=D.read(arguments),r=this.getContext().getImageData(e.x,e.y,1,1).data;return new gt("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var e=arguments,r=D.read(e),s=gt.read(e),u=s._convert("rgb"),f=s._alpha,c=this.getContext(!0),v=c.createImageData(1,1),d=v.data;d[0]=u[0]*255,d[1]=u[1]*255,d[2]=u[2]*255,d[3]=f!=null?f*255:255,c.putImageData(v,r.x,r.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=ie.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=ne.read(arguments);return e.isEmpty()&&(e=new ne(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var r=D.read(arguments,1);this.getContext(!0).putImageData(e,r.x,r.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,r){var s=new ne(this._size).setCenter(0,0);return e?e._transformBounds(s):s},_hitTestSelf:function(e){if(this._contains(e)){var r=this;return new ot("pixel",r,{offset:e.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(e,r,s){var u=this.getElement();if(u&&u.width>0&&u.height>0){e.globalAlpha=K.clamp(this._opacity,0,1),this._setStyles(e,r,s);var f=this._smoothing,c=f==="off";dt.setPrefixed(e,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:f),e.drawImage(u,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),it=M.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,s){this._initialize(r,s!==n&&D.read(arguments,1))||this.setDefinition(r instanceof tt?r:new tt(r))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,r){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(e),r)},_hitTestSelf:function(e,r,s){var u=r.extend({all:!1}),f=this._definition._item._hitTest(e,u,s);return f&&(f.item=this),f},_draw:function(e,r){this._definition._item.draw(e,r)}}),tt=h.extend({_class:"SymbolDefinition",initialize:function(r,s){this._id=X.get(),this.project=Ke.project,r&&this.setItem(r,s)},_serialize:function(e,r){return r.add(this,function(){return h.serialize([this._class,this._item],e,!1,r)})},_changed:function(e){e&8&&M._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,r){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),r||e.setPosition(new D),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new it(this,e)},clone:function(){return new tt(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),ot=h.extend({_class:"HitResult",initialize:function(r,s,u){this.type=r,this.item=s,u&&this.inject(u)},statics:{getOptions:function(e){var r=e&&h.read(e);return new h({type:null,tolerance:Ke.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),ke=h.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,s,u,f,c,v){var d=arguments.length,g,_,C,T;d>0&&(r==null||typeof r=="object"?d===1&&r&&"point"in r?(g=r.point,_=r.handleIn,C=r.handleOut,T=r.selection):(g=r,_=s,C=u,T=f):(g=[r,s],_=u!==n?[u,f]:null,C=c!==n?[c,v]:null)),new ct(g,this,"_point"),new ct(_,this,"_handleIn"),new ct(C,this,"_handleOut"),T&&this.setSelection(T)},_serialize:function(e,r){var s=this._point,u=this._selection,f=u||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return u&&f.push(u),h.serialize(f,e,!0,r)},_changed:function(e){var r=this._path;if(r){var s=r._curves,u=this._index,f;s&&((!e||e===this._point||e===this._handleIn)&&(f=u>0?s[u-1]:r._closed?s[s.length-1]:null)&&f._changed(),(!e||e===this._point||e===this._handleOut)&&(f=s[u])&&f._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(D.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(D.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(D.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,r=this._handleOut;return!e.isZero()&&!r.isZero()&&e.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var r=this._selection,s=this._path;this._selection=e=e||0,s&&e!==r&&(s._updateSelection(this,r,e),s._changed(257))},_changeSelection:function(e,r){var s=this._selection;this.setSelection(r?s|e:s&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,r=this._index;return e?(r>0&&!e._closed&&r===e._segments.length-1&&r--,e.getCurves()[r]||null):null},getLocation:function(){var e=this.getCurve();return e?new et(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,r,s){var u=e||{},f=u.type,c=u.factor,v=this.getPrevious(),d=this.getNext(),g=(v||this)._point,_=this._point,C=(d||this)._point,T=g.getDistance(_),w=_.getDistance(C);if(!f||f==="catmull-rom"){var S=c===n?.5:c,L=Math.pow(T,S),P=L*L,O=Math.pow(w,S),k=O*O;if(!r&&v){var I=2*k+3*O*L+P,x=3*O*(O+L);this.setHandleIn(x!==0?new D((k*g._x+I*_._x-P*C._x)/x-_._x,(k*g._y+I*_._y-P*C._y)/x-_._y):new D)}if(!s&&d){var I=2*P+3*L*O+k,x=3*L*(L+O);this.setHandleOut(x!==0?new D((P*C._x+I*_._x-k*g._x)/x-_._x,(P*C._y+I*_._y-k*g._y)/x-_._y):new D)}}else if(f==="geometric"){if(v&&d){var A=g.subtract(C),R=c===n?.4:c,U=R*T/(T+w);r||this.setHandleIn(A.multiply(U)),s||this.setHandleOut(A.multiply(U-R))}}else throw new Error("Smoothing method '"+f+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,r=this._handleOut,s=e.clone();e.set(r),r.set(s)},reversed:function(){return new ke(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ke(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,r,s){var u=1-s,f=s,c=e._point,v=r._point,d=e._handleIn,g=r._handleIn,_=r._handleOut,C=e._handleOut;this._point._set(u*c._x+f*v._x,u*c._y+f*v._y,!0),this._handleIn._set(u*d._x+f*g._x,u*d._y+f*g._y,!0),this._handleOut._set(u*C._x+f*_._x,u*C._y+f*_._y,!0),this._changed()},_transformCoordinates:function(e,r,s){var u=this._point,f=!s||!this._handleIn.isZero()?this._handleIn:null,c=!s||!this._handleOut.isZero()?this._handleOut:null,v=u._x,d=u._y,g=2;return r[0]=v,r[1]=d,f&&(r[g++]=f._x+v,r[g++]=f._y+d),c&&(r[g++]=c._x+v,r[g++]=c._y+d),e&&(e._transformCoordinates(r,r,g/2),v=r[0],d=r[1],s?(u._x=v,u._y=d,g=2,f&&(f._x=r[g++]-v,f._y=r[g++]-d),c&&(c._x=r[g++]-v,c._y=r[g++]-d)):(f||(r[g++]=v,r[g++]=d),c||(r[g++]=v,r[g++]=d))),r}}),ct=D.extend({initialize:function(r,s,u){var f,c,v;if(!r)f=c=0;else if((f=r[0])!==n)c=r[1];else{var d=r;(f=d.x)===n&&(d=D.read(arguments),f=d.x),c=d.y,v=d.selected}this._x=f,this._y=c,this._owner=s,s[u]=this,v&&this.setSelected(!0)},_set:function(e,r){return this._x=e,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=K.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),ge=h.extend({_class:"Curve",beans:!0,initialize:function(r,s,u,f,c,v,d,g){var _=arguments.length,C,T,w,S,L,P;_===3?(this._path=r,C=s,T=u):_?_===1?"segment1"in r?(C=new ke(r.segment1),T=new ke(r.segment2)):"point1"in r?(w=r.point1,L=r.handle1,P=r.handle2,S=r.point2):Array.isArray(r)&&(w=[r[0],r[1]],S=[r[6],r[7]],L=[r[2]-r[0],r[3]-r[1]],P=[r[4]-r[6],r[5]-r[7]]):_===2?(C=new ke(r),T=new ke(s)):_===4?(w=r,L=s,P=u,S=f):_===8&&(w=[r,s],S=[d,g],L=[u-r,f-s],P=[c-d,v-g]):(C=new ke,T=new ke),this._segment1=C||new ke(w,null,L),this._segment2=T||new ke(S,P,null)},_serialize:function(e,r){return h.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,r)},_changed:function(){this._length=this._bounds=n},clone:function(){return new ge(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return ge.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var r=this._segment2,s=r._handleOut;e=r.remove(),e&&this._segment1._handleOut.set(s)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(D.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(D.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(D.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(D.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return ge.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),r=[],s=0;s<8;s+=2)r.push(new D(e[s],e[s+1]));return r}},{getLength:function(){return this._length==null&&(this._length=ge.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ge.getArea(this.getValues())},getLine:function(){return new Ne(this._segment1._point,this._segment2._point)},getPart:function(e,r){return new ge(ge.getPart(this.getValues(),e,r))},getPartLength:function(e,r){return ge.getLength(this.getValues(),e,r)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,r){var s=1e-8,u=1-s,f=null;if(e>=s&&e<=u){var c=ge.subdivide(this.getValues(),e),v=c[0],d=c[1],g=r||this.hasHandles(),_=this._segment1,C=this._segment2,T=this._path;g&&(_._handleOut._set(v[2]-v[0],v[3]-v[1]),C._handleIn._set(d[4]-d[6],d[5]-d[7]));var w=v[6],S=v[7],L=new ke(new D(w,S),g&&new D(v[4]-w,v[5]-S),g&&new D(d[2]-w,d[3]-S));T?(T.insert(_._index+1,L),f=this.getNext()):(this._segment2=L,this._changed(),f=new ge(L,C))}return f},splitAt:function(e){var r=this._path;return r?r.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,r){return this.divideAtTime(e===n?.5:r?e:this.getTimeAt(e))},split:function(e,r){return this.splitAtTime(e===n?.5:r?e:this.getTimeAt(e))},reversed:function(){return new ge(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,r,s,u){var f=e._point,c=e._handleOut,v=r._handleIn,d=r._point,g=f.x,_=f.y,C=d.x,T=d.y,w=u?[g,_,g,_,C,T,C,T]:[g,_,g+c._x,_+c._y,C+v._x,T+v._y,C,T];return s&&s._transformCoordinates(w,w,4),w},subdivide:function(e,r){var s=e[0],u=e[1],f=e[2],c=e[3],v=e[4],d=e[5],g=e[6],_=e[7];r===n&&(r=.5);var C=1-r,T=C*s+r*f,w=C*u+r*c,S=C*f+r*v,L=C*c+r*d,P=C*v+r*g,O=C*d+r*_,k=C*T+r*S,I=C*w+r*L,x=C*S+r*P,A=C*L+r*O,R=C*k+r*x,U=C*I+r*A;return[[s,u,T,w,k,I,R,U],[R,U,x,A,P,O,g,_]]},getMonoCurves:function(e,r){var s=[],u=r?0:1,f=e[u+0],c=e[u+2],v=e[u+4],d=e[u+6];if(f>=c==c>=v&&c>=v==v>=d||ge.isStraight(e))s.push(e);else{var g=3*(c-v)-f+d,_=2*(f+v)-4*c,C=c-f,T=1e-8,w=1-T,S=[],L=K.solveQuadratic(g,_,C,S,T,w);if(!L)s.push(e);else{S.sort();var P=S[0],O=ge.subdivide(e,P);s.push(O[0]),L>1&&(P=(S[1]-P)/(1-P),O=ge.subdivide(O[1],P),s.push(O[0])),s.push(O[1])}}return s},solveCubic:function(e,r,s,u,f,c){var v=e[r],d=e[r+2],g=e[r+4],_=e[r+6],C=0;if(!(v<s&&_<s&&d<s&&g<s||v>s&&_>s&&d>s&&g>s)){var T=3*(d-v),w=3*(g-d)-T,S=_-v-T-w;C=K.solveCubic(S,w,T,v-s,u,f,c)}return C},getTimeOf:function(e,r){var s=new D(e[0],e[1]),u=new D(e[6],e[7]),f=1e-12,c=1e-7,v=r.isClose(s,f)?0:r.isClose(u,f)?1:null;if(v===null)for(var d=[r.x,r.y],g=[],_=0;_<2;_++)for(var C=ge.solveCubic(e,_,d[_],g,0,1),T=0;T<C;T++){var w=g[T];if(r.isClose(ge.getPoint(e,w),c))return w}return r.isClose(s,c)?0:r.isClose(u,c)?1:null},getNearestTime:function(e,r){if(ge.isStraight(e)){var s=e[0],u=e[1],f=e[6],c=e[7],v=f-s,d=c-u,g=v*v+d*d;if(g===0)return 0;var _=((r.x-s)*v+(r.y-u)*d)/g;return _<1e-12?0:_>.999999999999?1:ge.getTimeOf(e,new D(s+_*v,u+_*d))}var C=100,T=1/0,w=0;function S(O){if(O>=0&&O<=1){var k=r.getDistance(ge.getPoint(e,O),!0);if(k<T)return T=k,w=O,!0}}for(var L=0;L<=C;L++)S(L/C);for(var P=1/(C*2);P>1e-8;)!S(w-P)&&!S(w+P)&&(P/=2);return w},getPart:function(e,r,s){var u=r>s;if(u){var f=r;r=s,s=f}return r>0&&(e=ge.subdivide(e,r)[1]),s<1&&(e=ge.subdivide(e,(s-r)/(1-r))[0]),u?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,r){var s=e[0],u=e[1],f=e[2],c=e[3],v=e[4],d=e[5],g=e[6],_=e[7],C=3*f-2*s-g,T=3*c-2*u-_,w=3*v-2*g-s,S=3*d-2*_-u;return Math.max(C*C,w*w)+Math.max(T*T,S*S)<=16*r*r},getArea:function(e){var r=e[0],s=e[1],u=e[2],f=e[3],c=e[4],v=e[5],d=e[6],g=e[7];return 3*((g-s)*(u+c)-(d-r)*(f+v)+f*(r-c)-u*(s-v)+g*(c+r/3)-d*(v+s/3))/20},getBounds:function(e){for(var r=e.slice(0,2),s=r.slice(),u=[0,0],f=0;f<2;f++)ge._addBounds(e[f],e[f+2],e[f+4],e[f+6],f,0,r,s,u);return new ne(r[0],r[1],s[0]-r[0],s[1]-r[1])},_addBounds:function(e,r,s,u,f,c,v,d,g){function _(R,U){var F=R-U,B=R+U;F<v[f]&&(v[f]=F),B>d[f]&&(d[f]=B)}c/=2;var C=v[f]+c,T=d[f]-c;if(e<C||r<C||s<C||u<C||e>T||r>T||s>T||u>T)if(r<e!=r<u&&s<e!=s<u)_(e,0),_(u,0);else{var w=3*(r-s)-e+u,S=2*(e+s)-4*r,L=r-e,P=K.solveQuadratic(w,S,L,g),O=1e-8,k=1-O;_(u,0);for(var I=0;I<P;I++){var x=g[I],A=1-x;O<=x&&x<=k&&_(A*A*A*e+3*A*A*x*r+3*A*x*x*s+x*x*x*u,c)}}}}},h.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var r=this._bounds[e];return r||(r=this._bounds[e]=Me[e]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),h.each({isStraight:function(e,r,s,u){if(r.isZero()&&s.isZero())return!0;var f=u.subtract(e);if(f.isZero())return!1;if(f.isCollinear(r)&&f.isCollinear(s)){var c=new Ne(e,u),v=1e-7;if(c.getDistance(e.add(r))<v&&c.getDistance(u.add(s))<v){var d=f.dot(f),g=f.dot(r)/d,_=f.dot(s)/d;return g>=0&&g<=1&&_<=0&&_>=-1}}return!1},isLinear:function(e,r,s,u){var f=u.subtract(e).divide(3);return r.equals(f)&&s.negate().equals(f)}},function(e,r){this[r]=function(s){var u=this._segment1,f=this._segment2;return e(u._point,u._handleOut,f._handleIn,f._point,s)},this.statics[r]=function(s,u){var f=s[0],c=s[1],v=s[6],d=s[7];return e(new D(f,c),new D(s[2]-f,s[3]-c),new D(s[4]-v,s[5]-d),new D(v,d),u)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,r){return this.getLocationAtTime(r?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new et(this,e):null},getTimeAt:function(e,r){return ge.getTimeAt(this.getValues(),e,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=D.read(arguments);return e.isZero()?[]:ge.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(D.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return ge.getTimeOf(this.getValues(),D.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=D.read(arguments),r=this.getValues(),s=ge.getNearestTime(r,e),u=ge.getPoint(r,s);return new et(this,s,u,null,e.getDistance(u))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return h.each(e,function(r){this[r+"At"]=function(s,u){var f=this.getValues();return ge[r](f,u?s:ge.getTimeAt(f,s))},this[r+"AtTime"]=function(s){return ge[r](this.getValues(),s)}},{statics:{_evaluateMethods:e}})},new function(){function e(u){var f=u[0],c=u[1],v=u[2],d=u[3],g=u[4],_=u[5],C=u[6],T=u[7],w=9*(v-g)+3*(C-f),S=6*(f+g)-12*v,L=3*(v-f),P=9*(d-_)+3*(T-c),O=6*(c+_)-12*d,k=3*(d-c);return function(I){var x=(w*I+S)*I+L,A=(P*I+O)*I+k;return Math.sqrt(x*x+A*A)}}function r(u,f){return Math.max(2,Math.min(16,Math.ceil(Math.abs(f-u)*32)))}function s(u,f,c,v){if(f==null||f<0||f>1)return null;var d=u[0],g=u[1],_=u[2],C=u[3],T=u[4],w=u[5],S=u[6],L=u[7],P=K.isZero;P(_-d)&&P(C-g)&&(_=d,C=g),P(T-S)&&P(w-L)&&(T=S,w=L);var O=3*(_-d),k=3*(T-_)-O,I=S-d-O-k,x=3*(C-g),A=3*(w-C)-x,R=L-g-x-A,U,F;if(c===0)U=f===0?d:f===1?S:((I*f+k)*f+O)*f+d,F=f===0?g:f===1?L:((R*f+A)*f+x)*f+g;else{var B=1e-8,G=1-B;if(f<B?(U=O,F=x):f>G?(U=3*(S-T),F=3*(L-w)):(U=(3*I*f+2*k)*f+O,F=(3*R*f+2*A)*f+x),v){U===0&&F===0&&(f<B||f>G)&&(U=T-_,F=w-C);var W=Math.sqrt(U*U+F*F);W&&(U/=W,F/=W)}if(c===3){var T=6*I*f+2*k,w=6*R*f+2*A,j=Math.pow(U*U+F*F,3/2);U=j!==0?(U*w-F*T)/j:0,F=0}}return c===2?new D(F,-U):new D(U,F)}return{statics:{classify:function(u){var f=u[0],c=u[1],v=u[2],d=u[3],g=u[4],_=u[5],C=u[6],T=u[7],w=f*(T-_)+c*(g-C)+C*_-T*g,S=v*(c-T)+d*(C-f)+f*T-c*C,L=g*(d-c)+_*(f-v)+v*c-d*f,P=3*L,O=P-S,k=O-S+w,I=Math.sqrt(k*k+O*O+P*P),x=I!==0?1/I:0,A=K.isZero,R="serpentine";k*=x,O*=x,P*=x;function U(W,j,H){var Y=j!==n,Q=Y&&j>0&&j<1,$=Y&&H>0&&H<1;return Y&&(!(Q||$)||W==="loop"&&!(Q&&$))&&(W="arch",Q=$=!1),{type:W,roots:Q||$?Q&&$?j<H?[j,H]:[H,j]:[Q?j:H]:null}}if(A(k))return A(O)?U(A(P)?"line":"quadratic"):U(R,P/(3*O));var F=3*O*O-4*k*P;if(A(F))return U("cusp",O/(2*k));var B=F>0?Math.sqrt(F/3):Math.sqrt(-F),G=2*k;return U(F>0?R:"loop",(O+B)/G,(O-B)/G)},getLength:function(u,f,c,v){if(f===n&&(f=0),c===n&&(c=1),ge.isStraight(u)){var d=u;c<1&&(d=ge.subdivide(d,c)[0],f/=c),f>0&&(d=ge.subdivide(d,f)[1]);var g=d[6]-d[0],_=d[7]-d[1];return Math.sqrt(g*g+_*_)}return K.integrate(v||e(u),f,c,r(f,c))},getTimeAt:function(u,f,c){if(c===n&&(c=f<0?1:0),f===0)return c;var v=Math.abs,d=1e-12,g=f>0,_=g?c:0,C=g?1:c,T=e(u),w=ge.getLength(u,_,C,T),S=v(f)-w;if(v(S)<d)return g?C:_;if(S>d)return null;var L=f/w,P=0;function O(k){return P+=K.integrate(T,c,k,r(c,k)),c=k,P-f}return K.findRoot(O,T,c+L,_,C,32,1e-12)},getPoint:function(u,f){return s(u,f,0,!1)},getTangent:function(u,f){return s(u,f,1,!0)},getWeightedTangent:function(u,f){return s(u,f,1,!1)},getNormal:function(u,f){return s(u,f,2,!0)},getWeightedNormal:function(u,f){return s(u,f,2,!1)},getCurvature:function(u,f){return s(u,f,3,!1).x},getPeaks:function(u){var f=u[0],c=u[1],v=u[2],d=u[3],g=u[4],_=u[5],C=u[6],T=u[7],w=-f+3*v-3*g+C,S=3*f-6*v+3*g,L=-3*f+3*v,P=-c+3*d-3*_+T,O=3*c-6*d+3*_,k=-3*c+3*d,I=1e-8,x=1-I,A=[];return K.solveCubic(9*(w*w+P*P),9*(w*S+O*P),2*(S*S+O*O)+3*(L*w+k*P),L*S+O*k,A,I,x),A.sort()}}}},new function(){function e(S,L,P,O,k,I,x){var A=!x&&P.getPrevious()===k,R=!x&&P!==k&&P.getNext()===k,U=1e-8,F=1-U;if(O!==null&&O>=(A?U:0)&&O<=(R?F:1)&&I!==null&&I>=(R?U:0)&&I<=(A?F:1)){var B=new et(P,O,null,x),G=new et(k,I,null,x);B._intersection=G,G._intersection=B,(!L||L(B))&&et.insert(S,B,!0)}}function r(S,L,P,O,k,I,x,A,R,U,F,B,G){if(++R>=4096||++A>=40)return R;var W=1e-9,j=L[0],H=L[1],Y=L[6],Q=L[7],$=Ne.getSignedDistance,ee=$(j,H,Y,Q,L[2],L[3]),re=$(j,H,Y,Q,L[4],L[5]),de=ee*re>0?3/4:4/9,_e=de*Math.min(0,ee,re),ye=de*Math.max(0,ee,re),Te=$(j,H,Y,Q,S[0],S[1]),ue=$(j,H,Y,Q,S[2],S[3]),he=$(j,H,Y,Q,S[4],S[5]),Se=$(j,H,Y,Q,S[6],S[7]),Ie=s(Te,ue,he,Se),Pe=Ie[0],Be=Ie[1],De,He;if(ee===0&&re===0&&Te===0&&ue===0&&he===0&&Se===0||(De=u(Pe,Be,_e,ye))==null||(He=u(Pe.reverse(),Be.reverse(),_e,ye))==null)return R;var We=U+(F-U)*De,Ve=U+(F-U)*He;if(Math.max(G-B,Ve-We)<W){var Et=(We+Ve)/2,we=(B+G)/2;e(k,I,x?O:P,x?we:Et,x?P:O,x?Et:we)}else{S=ge.getPart(S,De,He);var ht=G-B;if(He-De>.8)if(Ve-We>ht){var yt=ge.subdivide(S,.5),Et=(We+Ve)/2;R=r(L,yt[0],O,P,k,I,!x,A,R,B,G,We,Et),R=r(L,yt[1],O,P,k,I,!x,A,R,B,G,Et,Ve)}else{var yt=ge.subdivide(L,.5),we=(B+G)/2;R=r(yt[0],S,O,P,k,I,!x,A,R,B,we,We,Ve),R=r(yt[1],S,O,P,k,I,!x,A,R,we,G,We,Ve)}else ht===0||ht>=W?R=r(L,S,O,P,k,I,!x,A,R,B,G,We,Ve):R=r(S,L,P,O,k,I,x,A,R,We,Ve,B,G)}return R}function s(S,L,P,O){var k=[0,S],I=[1/3,L],x=[2/3,P],A=[1,O],R=L-(2*S+O)/3,U=P-(S+2*O)/3,F;if(R*U<0)F=[[k,I,A],[k,x,A]];else{var B=R/U;F=[B>=2?[k,I,A]:B<=.5?[k,x,A]:[k,I,x,A],[k,A]]}return(R||U)<0?F.reverse():F}function u(S,L,P,O){return S[0][1]<P?f(S,!0,P):L[0][1]>O?f(L,!1,O):S[0][0]}function f(S,L,P){for(var O=S[0][0],k=S[0][1],I=1,x=S.length;I<x;I++){var A=S[I][0],R=S[I][1];if(L?R>=P:R<=P)return R===P?A:O+(P-k)*(A-O)/(R-k);O=A,k=R}return null}function c(S,L,P,O,k){var I=K.isZero;if(I(O)&&I(k)){var x=ge.getTimeOf(S,new D(L,P));return x===null?[]:[x]}for(var A=Math.atan2(-k,O),R=Math.sin(A),U=Math.cos(A),F=[],B=[],G=0;G<8;G+=2){var W=S[G]-L,j=S[G+1]-P;F.push(W*U-j*R,W*R+j*U)}return ge.solveCubic(F,1,0,B,0,1),B}function v(S,L,P,O,k,I,x){for(var A=L[0],R=L[1],U=L[6],F=L[7],B=c(S,A,R,U-A,F-R),G=0,W=B.length;G<W;G++){var j=B[G],H=ge.getPoint(S,j),Y=ge.getTimeOf(L,H);Y!==null&&e(k,I,x?O:P,x?Y:j,x?P:O,x?j:Y)}}function d(S,L,P,O,k,I){var x=Ne.intersect(S[0],S[1],S[6],S[7],L[0],L[1],L[6],L[7]);x&&e(k,I,P,ge.getTimeOf(S,x),O,ge.getTimeOf(L,x))}function g(S,L,P,O,k,I){var x=1e-12,A=Math.min,R=Math.max;if(R(S[0],S[2],S[4],S[6])+x>A(L[0],L[2],L[4],L[6])&&A(S[0],S[2],S[4],S[6])-x<R(L[0],L[2],L[4],L[6])&&R(S[1],S[3],S[5],S[7])+x>A(L[1],L[3],L[5],L[7])&&A(S[1],S[3],S[5],S[7])-x<R(L[1],L[3],L[5],L[7])){var U=T(S,L);if(U)for(var F=0;F<2;F++){var B=U[F];e(k,I,P,B[0],O,B[1],!0)}else{var G=ge.isStraight(S),W=ge.isStraight(L),j=G&&W,H=G&&!W,Y=k.length;if((j?d:G||W?v:r)(H?L:S,H?S:L,H?O:P,H?P:O,k,I,H,0,0,0,1,0,1),!j||k.length===Y)for(var F=0;F<4;F++){var Q=F>>1,$=F&1,ee=Q*6,re=$*6,de=new D(S[ee],S[ee+1]),_e=new D(L[re],L[re+1]);de.isClose(_e,x)&&e(k,I,P,Q,O,$)}}}return k}function _(S,L,P,O){var k=ge.classify(S);if(k.type==="loop"){var I=k.roots;e(P,O,L,I[0],L,I[1])}return P}function C(S,L,P,O,k,I){var x=1e-7,A=!L;A&&(L=S);for(var R=S.length,U=L.length,F=new Array(R),B=A?F:new Array(U),G=[],W=0;W<R;W++)F[W]=S[W].getValues(O);if(!A)for(var W=0;W<U;W++)B[W]=L[W].getValues(k);for(var j=z.findCurveBoundsCollisions(F,B,x),H=0;H<R;H++){var Y=S[H],Q=F[H];A&&_(Q,Y,G,P);var $=j[H];if($)for(var ee=0;ee<$.length;ee++){if(I&&G.length)return G;var re=$[ee];if(!A||re>H){var de=L[re],_e=B[re];g(Q,_e,Y,de,G,P)}}}return G}function T(S,L){function P(Se){var Ie=Se[6]-Se[0],Pe=Se[7]-Se[1];return Ie*Ie+Pe*Pe}var O=Math.abs,k=Ne.getDistance,I=1e-8,x=1e-7,A=ge.isStraight(S),R=ge.isStraight(L),U=A&&R,F=P(S)<P(L),B=F?L:S,G=F?S:L,W=B[0],j=B[1],H=B[6]-W,Y=B[7]-j;if(k(W,j,H,Y,G[0],G[1],!0)<x&&k(W,j,H,Y,G[6],G[7],!0)<x)!U&&k(W,j,H,Y,B[2],B[3],!0)<x&&k(W,j,H,Y,B[4],B[5],!0)<x&&k(W,j,H,Y,G[2],G[3],!0)<x&&k(W,j,H,Y,G[4],G[5],!0)<x&&(A=R=U=!0);else if(U)return null;if(A^R)return null;for(var Q=[S,L],$=[],ee=0;ee<4&&$.length<2;ee++){var re=ee&1,de=re^1,_e=ee>>1,ye=ge.getTimeOf(Q[re],new D(Q[de][_e?6:0],Q[de][_e?7:1]));if(ye!=null){var Te=re?[_e,ye]:[ye,_e];(!$.length||O(Te[0]-$[0][0])>I&&O(Te[1]-$[0][1])>I)&&$.push(Te)}if(ee>2&&!$.length)break}if($.length!==2)$=null;else if(!U){var ue=ge.getPart(S,$[0][0],$[1][0]),he=ge.getPart(L,$[0][1],$[1][1]);(O(he[2]-ue[2])>x||O(he[3]-ue[3])>x||O(he[4]-ue[4])>x||O(he[5]-ue[5])>x)&&($=null)}return $}function w(S,L){var P=S[0],O=S[1],k=S[2],I=S[3],x=S[4],A=S[5],R=S[6],U=S[7],F=L.normalize(),B=F.x,G=F.y,W=3*R-9*x+9*k-3*P,j=3*U-9*A+9*I-3*O,H=6*x-12*k+6*P,Y=6*A-12*I+6*O,Q=3*k-3*P,$=3*I-3*O,ee=2*W*G-2*j*B,re=[];if(Math.abs(ee)<K.CURVETIME_EPSILON){var de=W*$-j*Q,ee=W*Y-j*H;if(ee!=0){var _e=-de/ee;_e>=0&&_e<=1&&re.push(_e)}}else{var ye=(H*H-4*W*Q)*G*G+(-2*H*Y+4*j*Q+4*W*$)*B*G+(Y*Y-4*j*$)*B*B,Te=H*G-Y*B;if(ye>=0&&ee!=0){var ue=Math.sqrt(ye),he=-(Te+ue)/ee,Se=(-Te+ue)/ee;he>=0&&he<=1&&re.push(he),Se>=0&&Se<=1&&re.push(Se)}}return re}return{getIntersections:function(S){var L=this.getValues(),P=S&&S!==this&&S.getValues();return P?g(L,P,this,S,[]):_(L,this,[])},statics:{getOverlaps:T,getIntersections:C,getCurveLineIntersections:c,getTimesWithTangent:w}}}),et=h.extend({_class:"CurveLocation",initialize:function(r,s,u,f,c){if(s>=.99999999){var v=r.getNext();v&&(s=0,r=v)}this._setCurve(r),this._time=s,this._point=u||r.getPointAtTime(s),this._overlap=f,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var r=e.getCurve();r?this._setCurve(r):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var r=this.getCurve(),s=this.getTime();s===0?e=r._segment1:s===1?e=r._segment2:s!=null&&(e=r.getPartLength(0,s)<r.getPartLength(s,1)?r._segment1:r._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,r=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function s(u){var f=u&&u.getCurve();if(f&&(r._time=f.getTimeOf(r._point))!=null)return r._setCurve(f),f}return this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),r=this._time;return e&&r==null?this._time=e.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var r=this.getPath(),s=this.getIndex();if(r&&s!=null)for(var u=r.getCurves(),f=0;f<s;f++)e+=u[f].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var r=this.getCurve(),s=this.getTime();this._curveOffset=e=s!=null&&r&&r.getPartLength(0,s)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),r=e&&e.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var e=this.getCurve(),r=e._path,s=e&&e.splitAtTime(this.getTime());return s&&this._setSegment(r.getLastSegment()),s},equals:function(e,r){var s=this===e;if(!s&&e instanceof et){var u=this.getCurve(),f=e.getCurve(),c=u._path,v=f._path;if(c===v){var d=Math.abs,g=1e-7,_=d(this.getOffset()-e.getOffset()),C=!r&&this._intersection,T=!r&&e._intersection;s=(_<g||c&&d(c.getLength()-_)<g)&&(!C&&!T||C&&T&&C.equals(T,!0))}}return s},toString:function(){var e=[],r=this.getPoint(),s=V.instance;r&&e.push("point: "+r);var u=this.getIndex();u!=null&&e.push("index: "+u);var f=this.getTime();return f!=null&&e.push("time: "+s.number(f)),this._distance!=null&&e.push("distance: "+s.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var r=this.getCurve(),s=e.getCurve();return!(r.isStraight()&&s.isStraight()&&r.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var r=this.getTime(),s=e.getTime(),u=1e-8,f=1-u,c=r>=u&&r<=f,v=s>=u&&s<=f;if(c&&v)return!this.isTouching();var d=this.getCurve(),g=d&&r<u?d.getPrevious():d,_=e.getCurve(),C=_&&s<u?_.getPrevious():_;if(r>f&&(d=d.getNext()),s>f&&(_=_.getNext()),!g||!d||!C||!_)return!1;var T=[];function w(B,G){var W=B.getValues(),j=ge.classify(W).roots||ge.getPeaks(W),H=j.length,Y=ge.getLength(W,G&&H?j[H-1]:0,!G&&H?j[0]:1);T.push(H?Y:Y/32)}function S(B,G,W){return G<W?B>G&&B<W:B>G||B<W}c||(w(g,!0),w(d,!1)),v||(w(C,!0),w(_,!1));var L=this.getPoint(),P=Math.min.apply(Math,T),O=c?d.getTangentAtTime(r):d.getPointAt(P).subtract(L),k=c?O.negate():g.getPointAt(-P).subtract(L),I=v?_.getTangentAtTime(s):_.getPointAt(P).subtract(L),x=v?I.negate():C.getPointAt(-P).subtract(L),A=k.getAngle(),R=O.getAngle(),U=x.getAngle(),F=I.getAngle();return!!(c?S(A,U,F)^S(R,U,F)&&S(A,F,U)^S(R,F,U):S(U,A,R)^S(F,A,R)&&S(U,R,A)^S(F,R,A))},hasOverlap:function(){return!!this._overlap}},h.each(ge._evaluateMethods,function(e){var r=e+"At";this[e]=function(){var s=this.getCurve(),u=this.getTime();return u!=null&&s&&s[r](u,!0)}},{preserve:!0}),new function(){function e(r,s,u){var f=r.length,c=0,v=f-1;function d(L,P){for(var O=L+P;O>=-1&&O<=f;O+=P){var k=r[(O%f+f)%f];if(!s.getPoint().isClose(k.getPoint(),1e-7))break;if(s.equals(k))return k}return null}for(;c<=v;){var g=c+v>>>1,_=r[g],C;if(u&&(C=s.equals(_)?_:d(g,-1)||d(g,1)))return s._overlap&&(C._overlap=C._intersection._overlap=!0),C;var T=s.getPath(),w=_.getPath(),S=T!==w?T._id-w._id:s.getIndex()+s.getTime()-(_.getIndex()+_.getTime());S<0?v=g-1:c=g+1}return r.splice(c,0,s),s}return{statics:{insert:e,expand:function(r){for(var s=r.slice(),u=r.length-1;u>=0;u--)e(s,r[u]._intersection,!1);return s}}}}),pt=M.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var r,s,u;if(h.isPlainObject(e)?(s=e.segments,r=e.pathData):Array.isArray(e)?s=e:typeof e=="string"&&(r=e),s){var f=s[0];u=f&&Array.isArray(f[0])}else r&&(u=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));var c=u?rt:Me;return new c(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),s,u=!1,f,c,v=new D,d=new D;function g(x,A){var R=+s[x];return u&&(R+=v[A]),R}function _(x){return new D(g(x,"x"),g(x+1,"y"))}this.clear();for(var C=0,T=r&&r.length;C<T;C++){var w=r[C],S=w[0],L=S.toLowerCase();s=w.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var P=s&&s.length;switch(u=S===L,f==="z"&&!/[mz]/.test(L)&&this.moveTo(v),L){case"m":case"l":for(var O=L==="m",k=0;k<P;k+=2)this[O?"moveTo":"lineTo"](v=_(k)),O&&(d=v,O=!1);c=v;break;case"h":case"v":var I=L==="h"?"x":"y";v=v.clone();for(var k=0;k<P;k++)v[I]=g(k,I),this.lineTo(v);c=v;break;case"c":for(var k=0;k<P;k+=6)this.cubicCurveTo(_(k),c=_(k+2),v=_(k+4));break;case"s":for(var k=0;k<P;k+=4)this.cubicCurveTo(/[cs]/.test(f)?v.multiply(2).subtract(c):v,c=_(k),v=_(k+2)),f=L;break;case"q":for(var k=0;k<P;k+=4)this.quadraticCurveTo(c=_(k),v=_(k+2));break;case"t":for(var k=0;k<P;k+=2)this.quadraticCurveTo(c=/[qt]/.test(f)?v.multiply(2).subtract(c):v,v=_(k)),f=L;break;case"a":for(var k=0;k<P;k+=7)this.arcTo(v=_(k+5),new ie(+s[k],+s[k+1]),+s[k+2],+s[k+4],+s[k+3]);break;case"z":this.closePath(1e-12),v=d;break}f=L}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var r=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(e,r,s,u){var f=this===e||!e,c=this._matrix._orNullIfIdentity(),v=f?c:(s||e._matrix)._orNullIfIdentity();return f||this.getBounds(c).intersects(e.getBounds(v),1e-12)?ge.getIntersections(this.getCurves(),!f&&e.getCurves(),r,c,v,u):[]},getCrossings:function(e){return this.getIntersections(e,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var e=D.read(arguments),r=this.getCurves(),s=1/0,u=null,f=0,c=r.length;f<c;f++){var v=r[f].getNearestLocation(e);v._distance<s&&(s=v._distance,u=v)}return u},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,r,s){var u=!this._children,f=u?"_segments":"_children",c=e[f],v=r[f],d=this[f];if(!c||!v||c.length!==v.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+r);var g=d.length,_=v.length;if(g<_)for(var C=u?ke:Me,T=g;T<_;T++)this.add(new C);else g>_&&this[u?"removeSegments":"removeChildren"](_,g);for(var T=0;T<_;T++)d[T].interpolate(c[T],v[T],s);u&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var r=!1;if(e){var s=this._children||[this],u=e._children?e._children.slice():[e],f=s.length,c=u.length,v=[],d=0;r=!0;for(var g=z.findItemBoundsCollisions(s,u,K.GEOMETRIC_EPSILON),_=f-1;_>=0&&r;_--){var C=s[_];r=!1;var T=g[_];if(T)for(var w=T.length-1;w>=0&&!r;w--)C.compare(u[T[w]])&&(v[T[w]]||(v[T[w]]=!0,d++),r=!0)}r=r&&d===c}return r}}),Me=pt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var s=arguments,u=Array.isArray(r)?typeof r[0]=="object"?r:s:r&&r.size===n&&(r.x!==n||r.point!==n)?s:null;u&&u.length>0?this.setSegments(u):(this._curves=n,this._segmentSelection=0,!u&&typeof r=="string"&&(this.setPathData(r),r=null)),this._initialize(!u&&r)},_equals:function(e){return this._closed===e._closed&&h.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(r){if(e.base.call(this,r),r&8){if(this._length=this._area=n,r&32)this._version++;else if(this._curves)for(var s=0,u=this._curves.length;s<u;s++)this._curves[s]._changed()}else r&64&&(this._bounds=n)},getStyle:function(){var e=this._parent;return(e instanceof rt?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var r=this.isFullySelected(),s=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,s){var u=e[s-1];typeof u=="boolean"&&(this.setClosed(u),s--),this._add(ke.readList(e,0,{},s))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,r=this._segments;if(!e){var s=this._countCurves();e=this._curves=new Array(s);for(var u=0;u<s;u++)e[u]=new ge(this,r[u],r[u+1]||r[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var r=this._curves.length=this._countCurves();e&&(this._curves[r-1]=new ge(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,r){var s=this._segments,u=s.length,f=new V(r),c=new Array(6),v=!0,d,g,_,C,T,w,S,L,P=[];function O(I,x){if(I._transformCoordinates(e,c),d=c[0],g=c[1],v)P.push("M"+f.pair(d,g)),v=!1;else if(T=c[2],w=c[3],T===d&&w===g&&S===_&&L===C){if(!x){var A=d-_,R=g-C;P.push(A===0?"v"+f.number(R):R===0?"h"+f.number(A):"l"+f.pair(A,R))}}else P.push("c"+f.pair(S-_,L-C)+" "+f.pair(T-_,w-C)+" "+f.pair(d-_,g-C));_=d,C=g,S=c[4],L=c[5]}if(!u)return"";for(var k=0;k<u;k++)O(s[k]);return this._closed&&u>0&&(O(s[0],!0),P.push("z")),P.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var r=this._segments,s=new Array(6),u=0,f=r.length;u<f;u++)r[u]._transformCoordinates(e,s,!0);return!0},_add:function(e,v){for(var s=this._segments,u=this._curves,f=e.length,c=v==null,v=c?s.length:v,d=0;d<f;d++){var g=e[d];g._path&&(g=e[d]=g.clone()),g._path=this,g._index=v+d,g._selection&&this._updateSelection(g,0,g._selection)}if(c)h.push(s,e);else{s.splice.apply(s,[v,0].concat(e));for(var d=v+f,_=s.length;d<_;d++)s[d]._index=d}if(u){var C=this._countCurves(),T=v>0&&v+f-1===C?v-1:v,w=T,S=Math.min(T+f,C);e._curves&&(u.splice.apply(u,[T,0].concat(e._curves)),w+=e._curves.length);for(var d=w;d<S;d++)u.splice(d,0,new ge(this,null,null));this._adjustCurves(T,S)}return this._changed(41),e},_adjustCurves:function(e,r){for(var s=this._segments,u=this._curves,f,c=e;c<r;c++)f=u[c],f._path=this,f._segment1=s[c],f._segment2=s[c+1]||s[0],f._changed();(f=u[this._closed&&!e?s.length-1:e-1])&&(f._segment2=s[e]||s[0],f._changed()),(f=u[r])&&(f._segment1=s[r],f._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var r=arguments;return r.length>1&&typeof e!="number"?this._add(ke.readList(r)):this._add([ke.read(r)])[0]},insert:function(e,r){var s=arguments;return s.length>2&&typeof r!="number"?this._add(ke.readList(s,1),e):this._add([ke.read(s,1)],e)[0]},addSegment:function(){return this._add([ke.read(arguments)])[0]},insertSegment:function(e){return this._add([ke.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(ke.readList(e))},insertSegments:function(e,r){return this._add(ke.readList(r),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,r,s){e=e||0,r=h.pick(r,this._segments.length);var u=this._segments,f=this._curves,c=u.length,v=u.splice(e,r-e),d=v.length;if(!d)return v;for(var g=0;g<d;g++){var _=v[g];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var g=e,C=u.length;g<C;g++)u[g]._index=g;if(f){for(var T=e>0&&r===c+(this._closed?1:0)?e-1:e,f=f.splice(T,d),g=f.length-1;g>=0;g--)f[g]._path=null;s&&(v._curves=f.slice(1)),this._adjustCurves(T,T)}return this._changed(41),v},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,r=0,s=e.length;r<s;r++)if(e[r].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,r=0,s=e.length;r<s;r++)e[r].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),r=0,s=0,u=e.length;s<u;s++)r+=e[s].getLength();this._length=r}return this._length},getArea:function(){var e=this._area;if(e==null){var r=this._segments,s=this._closed;e=0;for(var u=0,f=r.length;u<f;u++){var c=u+1===f;e+=ge.getArea(ge.getValues(r[u],r[c?0:u+1],null,c&&!s))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(r){r&1||this._selectSegments(!1),e.base.call(this,r)},_selectSegments:function(e){var r=this._segments,s=r.length,u=e?7:0;this._segmentSelection=u*s;for(var f=0;f<s;f++)r[f]._selection=u},_updateSelection:function(e,r,s){e._selection=s;var u=this._segmentSelection+=s-r;u>0&&this.setSelected(!0)},divideAt:function(e){var r=this.getLocationAt(e),s;return r&&(s=r.getCurve().divideAt(r.getCurveOffset()))?s._segment1:null},splitAt:function(e){var r=this.getLocationAt(e),s=r&&r.index,u=r&&r.time,f=1e-8,c=1-f;u>c&&(s++,u=0);var v=this.getCurves();if(s>=0&&s<v.length){u>=f&&v[s++].divideAtTime(u);var d=this.removeSegments(s,this._segments.length,!0),g;return this._closed?(this.setClosed(!1),g=this):(g=new Me(M.NO_INSERT),g.insertAbove(this),g.copyAttributes(this)),g._add(d,0),this.addSegment(d[0]),g}return null},split:function(e,r){var s,u=r===n?e:(s=this.getCurves()[e])&&s.getLocationAtTime(r);return u!=null?this.splitAt(u):null},join:function(e,r){var s=r||0;if(e&&e!==this){var u=e._segments,f=this.getLastSegment(),c=e.getLastSegment();if(!c)return this;f&&f._point.isClose(c._point,s)&&e.reverse();var v=e.getFirstSegment();if(f&&f._point.isClose(v._point,s))f.setHandleOut(v._handleOut),this._add(u.slice(1));else{var d=this.getFirstSegment();d&&d._point.isClose(v._point,s)&&e.reverse(),c=e.getLastSegment(),d&&d._point.isClose(c._point,s)?(d.setHandleIn(c._handleIn),this._add(u.slice(0,u.length-1),0)):this._add(u.slice())}e._closed&&this._add([u[0]]),e.remove()}var g=this.getFirstSegment(),_=this.getLastSegment();return g!==_&&g._point.isClose(_._point,s)&&(g.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(e){for(var r=this.getCurves(),s=e&&e.simplify,u=s?1e-7:0,f=r.length-1;f>=0;f--){var c=r[f];!c.hasHandles()&&(!c.hasLength(u)||s&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,r=this._segments.length;e<r;e++){var s=this._segments[e],u=s._handleIn;s._handleIn=s._handleOut,s._handleOut=u,s._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var r=new ut(this,e||.25,256,!0),s=r.parts,u=s.length,f=[],c=0;c<u;c++)f.push(new ke(s[c].curve.slice(0,2)));!this._closed&&u>0&&f.push(new ke(s[u-1].curve.slice(6))),this.setSegments(f)},simplify:function(e){var r=new vt(this).fit(e||2.5);return r&&this.setSegments(r),!!r},smooth:function(e){var r=this,s=e||{},u=s.type||"asymmetric",f=this._segments,c=f.length,v=this._closed;function d(Pe,Be){var De=Pe&&Pe.index;if(De!=null){var He=Pe.path;if(He&&He!==r)throw new Error(Pe._class+" "+De+" of "+He+" is not part of "+r);Be&&Pe instanceof ge&&De++}else De=typeof Pe=="number"?Pe:Be;return Math.min(De<0&&v?De%c:De<0?De+c:De,c-1)}var g=v&&s.from===n&&s.to===n,_=d(s.from,0),C=d(s.to,c-1);if(_>C)if(v)_-=c;else{var T=_;_=C,C=T}if(/^(?:asymmetric|continuous)$/.test(u)){var w=u==="asymmetric",S=Math.min,L=C-_+1,P=L-1,O=g?S(L,4):1,k=O,I=O,x=[];if(v||(k=S(1,_),I=S(1,c-C-1)),P+=k+I,P<=1)return;for(var A=0,R=_-k;A<=P;A++,R++)x[A]=f[(R<0?R+c:R)%c]._point;for(var U=x[0]._x+2*x[1]._x,F=x[0]._y+2*x[1]._y,B=2,G=P-1,W=[U],j=[F],H=[B],Y=[],Q=[],A=1;A<P;A++){var $=A<G,ee=$||w?1:2,re=$?4:w?2:7,de=$?4:w?3:8,_e=$?2:w?0:1,ye=ee/B;B=H[A]=re-ye,U=W[A]=de*x[A]._x+_e*x[A+1]._x-ye*U,F=j[A]=de*x[A]._y+_e*x[A+1]._y-ye*F}Y[G]=W[G]/H[G],Q[G]=j[G]/H[G];for(var A=P-2;A>=0;A--)Y[A]=(W[A]-Y[A+1])/H[A],Q[A]=(j[A]-Q[A+1])/H[A];Y[P]=(3*x[P]._x-Y[G])/2,Q[P]=(3*x[P]._y-Q[G])/2;for(var A=k,Te=P-I,R=_;A<=Te;A++,R++){var ue=f[R<0?R+c:R],he=ue._point,Se=Y[A]-he._x,Ie=Q[A]-he._y;(g||A<Te)&&ue.setHandleOut(Se,Ie),(g||A>k)&&ue.setHandleIn(-Se,-Ie)}}else for(var A=_;A<=C;A++)f[A<0?A+c:A].smooth(s,!g&&A===_,!g&&A===C)},toShape:function(e){if(!this._closed)return null;var r=this._segments,s,u,f,c;function v(w,S){var L=r[w],P=L.getNext(),O=r[S],k=O.getNext();return L._handleOut.isZero()&&P._handleIn.isZero()&&O._handleOut.isZero()&&k._handleIn.isZero()&&P._point.subtract(L._point).isCollinear(k._point.subtract(O._point))}function d(w){var S=r[w],L=S.getPrevious(),P=S.getNext();return L._handleOut.isZero()&&S._handleIn.isZero()&&S._handleOut.isZero()&&P._handleIn.isZero()&&S._point.subtract(L._point).isOrthogonal(P._point.subtract(S._point))}function g(w){var S=r[w],L=S.getNext(),P=S._handleOut,O=L._handleIn,k=.5522847498307936;if(P.isOrthogonal(O)){var I=S._point,x=L._point,A=new Ne(I,P,!0).intersect(new Ne(x,O,!0),!0);return A&&K.isZero(P.getLength()/A.subtract(I).getLength()-k)&&K.isZero(O.getLength()/A.subtract(x).getLength()-k)}return!1}function _(w,S){return r[w]._point.getDistance(r[S]._point)}if(!this.hasHandles()&&r.length===4&&v(0,2)&&v(1,3)&&d(1)?(s=Ue.Rectangle,u=new ie(_(0,3),_(0,1)),c=r[1]._point.add(r[2]._point).divide(2)):r.length===8&&g(0)&&g(2)&&g(4)&&g(6)&&v(1,5)&&v(3,7)?(s=Ue.Rectangle,u=new ie(_(1,6),_(0,3)),f=u.subtract(new ie(_(0,7),_(1,2))).divide(2),c=r[3]._point.add(r[4]._point).divide(2)):r.length===4&&g(0)&&g(1)&&g(2)&&g(3)&&(K.isZero(_(0,2)-_(1,3))?(s=Ue.Circle,f=_(0,2)/2):(s=Ue.Ellipse,f=new ie(_(2,0)/2,_(3,1)/2)),c=r[1]._point),s){var C=this.getPosition(!0),T=new s({center:C,size:u,radius:f,insert:!1});return T.copyAttributes(this,!0),T._matrix.prepend(this._matrix),T.rotate(c.subtract(C).getAngle()+90),(e===n||e)&&T.insertAbove(this),T}return null},toPath:"#clone",compare:function e(r){if(!r||r instanceof rt)return e.base.call(this,r);var s=this.getCurves(),u=r.getCurves(),f=s.length,c=u.length;if(!f||!c)return f==c;for(var v=s[0].getValues(),d=[],g=0,_,C=0,T,w=0;w<c;w++){var O=u[w].getValues();d.push(O);var S=ge.getOverlaps(v,O);if(S){_=!w&&S[0][0]>0?c-1:w,T=S[0][1];break}}for(var L=Math.abs,P=1e-8,O=d[_],k;v&&O;){var S=ge.getOverlaps(v,O);if(S){var I=S[0][0];if(L(I-C)<P){C=S[1][0],C===1&&(v=++g<f?s[g].getValues():null,C=0);var x=S[0][1];if(L(x-T)<P){if(k||(k=[_,x]),T=S[1][1],T===1&&(++_>=c&&(_=0),O=d[_]||u[_].getValues(),T=0),!v)return k[0]===_&&k[1]===T;continue}}}break}return!1},_hitTestSelf:function(e,r,s,u){var f=this,c=this.getStyle(),v=this._segments,d=v.length,g=this._closed,_=r._tolerancePadding,C=_,T,w,S,L,P,O,k=r.stroke&&c.hasStroke(),I=r.fill&&c.hasFill(),x=r.curves,A=k?c.getStrokeWidth()/2:I&&r.tolerance>0||x?0:null;A!==null&&(A>0?(T=c.getStrokeJoin(),w=c.getStrokeCap(),S=c.getMiterLimit(),C=C.add(Me._getStrokePadding(A,u))):T=w="round");function R(Y,Q){return e.subtract(Y).divide(Q).length<=1}function U(Y,Q,$){if(!r.selected||Q.isSelected()){var ee=Y._point;if(Q!==ee&&(Q=Q.add(ee)),R(Q,C))return new ot($,f,{segment:Y,point:Q})}}function F(Y,Q){return(Q||r.segments)&&U(Y,Y._point,"segment")||!Q&&r.handles&&(U(Y,Y._handleIn,"handle-in")||U(Y,Y._handleOut,"handle-out"))}function B(Y){L.add(Y)}function G(Y){var Q=g||Y._index>0&&Y._index<d-1;if((Q?T:w)==="round")return R(Y._point,C);if(L=new Me({internal:!0,closed:!0}),Q?Y.isSmooth()||Me._addBevelJoin(Y,T,A,S,null,u,B,!0):w==="square"&&Me._addSquareCap(Y,w,A,null,u,B,!0),!L.isEmpty()){var $;return L.contains(e)||($=L.getNearestLocation(e))&&R($.getPoint(),_)}}if(r.ends&&!r.segments&&!g){if(O=F(v[0],!0)||F(v[d-1],!0))return O}else if(r.segments||r.handles){for(var W=0;W<d;W++)if(O=F(v[W]))return O}if(A!==null){if(P=this.getNearestLocation(e),P){var j=P.getTime();j===0||j===1&&d>1?G(P.getSegment())||(P=null):R(P.getPoint(),C)||(P=null)}if(!P&&T==="miter"&&d>1)for(var W=0;W<d;W++){var H=v[W];if(e.getDistance(H._point)<=S*A&&G(H)){P=H.getLocation();break}}}return!P&&I&&this._contains(e)||P&&!k&&!x?new ot("fill",this):P?new ot(k?"stroke":"curve",this,{location:P,point:P.getPoint()}):null}},h.each(ge._evaluateMethods,function(e){this[e+"At"]=function(r){var s=this.getLocationAt(r);return s&&s[e]()}},{beans:!1,getLocationOf:function(){for(var e=D.read(arguments),r=this.getCurves(),s=0,u=r.length;s<u;s++){var f=r[s].getLocationOf(e);if(f)return f}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var r=this.getCurves(),s=0,u=0,f=r.length;u<f;u++){var c=s,v=r[u];if(s+=v.getLength(),s>e)return v.getLocationAt(e-c)}if(r.length>0&&e<=this.getLength())return new et(r[r.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=D.read(arguments);if(e.isZero())return[];for(var r=[],s=0,u=this.getCurves(),f=0,c=u.length;f<c;f++){for(var v=u[f],d=v.getTimesWithTangent(e),g=0,_=d.length;g<_;g++){var C=s+v.getOffsetAtTime(d[g]);r.indexOf(C)<0&&r.push(C)}s+=v.length}return r}}),new function(){function e(s,u,f,c){if(c<=0)return;var v=c/2,d=c-2,g=v-1,_=new Array(6),C,T;function w(I){var x=_[I],A=_[I+1];(C!=x||T!=A)&&(s.beginPath(),s.moveTo(C,T),s.lineTo(x,A),s.stroke(),s.beginPath(),s.arc(x,A,v,0,Math.PI*2,!0),s.fill())}for(var S=0,L=u.length;S<L;S++){var P=u[S],O=P._selection;if(P._transformCoordinates(f,_),C=_[0],T=_[1],O&2&&w(2),O&4&&w(4),s.fillRect(C-v,T-v,c,c),d>0&&!(O&1)){var k=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(C-g,T-g,d,d),s.fillStyle=k}}}function r(s,u,f){var c=u._segments,v=c.length,d=new Array(6),g=!0,_,C,T,w,S,L,P,O;function k(x){if(f)x._transformCoordinates(f,d),_=d[0],C=d[1];else{var A=x._point;_=A._x,C=A._y}if(g)s.moveTo(_,C),g=!1;else{if(f)S=d[2],L=d[3];else{var R=x._handleIn;S=_+R._x,L=C+R._y}S===_&&L===C&&P===T&&O===w?s.lineTo(_,C):s.bezierCurveTo(P,O,S,L,_,C)}if(T=_,w=C,f)P=d[4],O=d[5];else{var R=x._handleOut;P=T+R._x,O=w+R._y}}for(var I=0;I<v;I++)k(c[I]);u._closed&&v>0&&k(c[0])}return{_draw:function(s,u,f,c){var v=u.dontStart,d=u.dontFinish||u.clip,g=this.getStyle(),_=g.hasFill(),C=g.hasStroke(),T=g.getDashArray(),w=!Ke.support.nativeDash&&C&&T&&T.length;v||s.beginPath(),(_||C&&!w||d)&&(r(s,this,c),this._closed&&s.closePath());function S(x){return T[(x%w+w)%w]}if(!d&&(_||C)&&(this._setStyles(s,u,f),_&&(s.fill(g.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),C)){if(w){v||s.beginPath();for(var L=new ut(this,.25,32,!1,c),P=L.length,O=-g.getDashOffset(),k,I=0;O>0;)O-=S(I--)+S(I--);for(;O<P;)k=O+S(I++),(O>0||k>0)&&L.drawPart(s,Math.max(O,0),Math.max(k,0)),O=k+S(I++)}s.stroke()}},_drawSelected:function(s,u){s.beginPath(),r(s,this,u),s.stroke(),e(s,this._segments,u,Ke.settings.handleSize)}}},new function(){function e(r){var s=r._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var r=this._segments;r.length===1&&this.removeSegment(0),r.length||this._add([new ke(D.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ke(D.read(arguments))])},cubicCurveTo:function(){var r=arguments,s=D.read(r),u=D.read(r),f=D.read(r),c=e(this);c.setHandleOut(s.subtract(c._point)),this._add([new ke(f,u.subtract(f))])},quadraticCurveTo:function(){var r=arguments,s=D.read(r),u=D.read(r),f=e(this)._point;this.cubicCurveTo(s.add(f.subtract(s).multiply(1/3)),s.add(u.subtract(s).multiply(1/3)),u)},curveTo:function(){var r=arguments,s=D.read(r),u=D.read(r),f=h.pick(h.read(r),.5),c=1-f,v=e(this)._point,d=s.subtract(v.multiply(c*c)).subtract(u.multiply(f*f)).divide(2*f*c);if(d.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(d,u)},arcTo:function(){var r=arguments,s=Math.abs,u=Math.sqrt,f=e(this),c=f._point,v=D.read(r),d,g=h.peek(r),_=h.pick(g,!0),C,T,w,S;if(typeof _=="boolean")var L=c.add(v).divide(2),d=L.add(L.subtract(c).rotate(_?-90:90));else if(h.remain(r)<=2)d=v,v=D.read(r);else if(!c.equals(v)){var P=ie.read(r),O=K.isZero;if(O(P.width)||O(P.height))return this.lineTo(v);var k=h.read(r),_=!!h.read(r),I=!!h.read(r),L=c.add(v).divide(2),x=c.subtract(L).rotate(-k),A=x.x,R=x.y,U=s(P.width),F=s(P.height),B=U*U,G=F*F,W=A*A,j=R*R,H=u(W/B+j/G);if(H>1&&(U*=H,F*=H,B=U*U,G=F*F),H=(B*G-B*j-G*W)/(B*j+G*W),s(H)<1e-12&&(H=0),H<0)throw new Error("Cannot create an arc with the given arguments");C=new D(U*R/F,-F*A/U).multiply((I===_?-1:1)*u(H)).rotate(k).add(L),S=new pe().translate(C).rotate(k).scale(U,F),w=S._inverseTransform(c),T=w.getDirectedAngle(S._inverseTransform(v)),!_&&T>0?T-=360:_&&T<0&&(T+=360)}if(d){var Y=new Ne(c.add(d).divide(2),d.subtract(c).rotate(90),!0),Q=new Ne(d.add(v).divide(2),v.subtract(d).rotate(90),!0),$=new Ne(c,v),ee=$.getSide(d);if(C=Y.intersect(Q,!0),!C){if(!ee)return this.lineTo(v);throw new Error("Cannot create an arc with the given arguments")}w=c.subtract(C),T=w.getDirectedAngle(v.subtract(C));var re=$.getSide(C,!0);re===0?T=ee*s(T):ee===re&&(T+=T<0?360:-360)}if(T){for(var de=1e-5,_e=s(T),ye=_e>=360?4:Math.ceil((_e-de)/90),Te=T/ye,ue=Te*Math.PI/360,he=4/3*Math.sin(ue)/(1+Math.cos(ue)),Se=[],Ie=0;Ie<=ye;Ie++){var x=v,Pe=null;if(Ie<ye&&(Pe=w.rotate(90).multiply(he),S?(x=S._transformPoint(w),Pe=S._transformPoint(w.add(Pe)).subtract(x)):x=C.add(w)),!Ie)f.setHandleOut(Pe);else{var Be=w.rotate(-90).multiply(he);S&&(Be=S._transformPoint(w.add(Be)).subtract(x)),Se.push(new ke(x,Be,Pe))}w=w.rotate(Te)}this._add(Se)}},lineBy:function(){var r=D.read(arguments),s=e(this)._point;this.lineTo(s.add(r))},curveBy:function(){var r=arguments,s=D.read(r),u=D.read(r),f=h.read(r),c=e(this)._point;this.curveTo(c.add(s),c.add(u),f)},cubicCurveBy:function(){var r=arguments,s=D.read(r),u=D.read(r),f=D.read(r),c=e(this)._point;this.cubicCurveTo(c.add(s),c.add(u),c.add(f))},quadraticCurveBy:function(){var r=arguments,s=D.read(r),u=D.read(r),f=e(this)._point;this.quadraticCurveTo(f.add(s),f.add(u))},arcBy:function(){var r=arguments,s=e(this)._point,u=s.add(D.read(r)),f=h.pick(h.peek(r),!0);typeof f=="boolean"?this.arcTo(u,f):this.arcTo(u,s.add(D.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(e,r){var s=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return Me[s](this._segments,this._closed,this,e,r)},statics:{getBounds:function(e,r,s,u,f,c){var v=e[0];if(!v)return new ne;var d=new Array(6),g=v._transformCoordinates(u,new Array(6)),_=g.slice(0,2),C=_.slice(),T=new Array(2);function w(P){P._transformCoordinates(u,d);for(var O=0;O<2;O++)ge._addBounds(g[O],g[O+4],d[O+2],d[O],O,c?c[O]:0,_,C,T);var k=g;g=d,d=k}for(var S=1,L=e.length;S<L;S++)w(e[S]);return r&&w(v),new ne(_[0],_[1],C[0]-_[0],C[1]-_[1])},getStrokeBounds:function(e,r,s,u,f){var c=s.getStyle(),v=c.hasStroke(),d=c.getStrokeWidth(),g=v&&s._getStrokeMatrix(u,f),_=v&&Me._getStrokePadding(d,g),C=Me.getBounds(e,r,s,u,f,_);if(!v)return C;var T=d/2,w=c.getStrokeJoin(),S=c.getStrokeCap(),L=c.getMiterLimit(),P=new ne(new ie(_));function O(U){C=C.include(U)}function k(U){C=C.unite(P.setCenter(U._point.transform(u)))}function I(U,F){F==="round"||U.isSmooth()?k(U):Me._addBevelJoin(U,F,T,L,u,g,O)}function x(U,F){F==="round"?k(U):Me._addSquareCap(U,F,T,u,g,O)}var A=e.length-(r?0:1);if(A>0){for(var R=1;R<A;R++)I(e[R],w);r?I(e[0],w):(x(e[0],S),x(e[e.length-1],S))}return C},_getStrokePadding:function(e,r){if(!r)return[e,e];var s=new D(e,0).transform(r),u=new D(0,e).transform(r),f=s.getAngleInRadians(),c=s.getLength(),v=u.getLength(),d=Math.sin(f),g=Math.cos(f),_=Math.tan(f),C=Math.atan2(v*_,c),T=Math.atan2(v,_*c);return[Math.abs(c*Math.cos(C)*g+v*Math.sin(C)*d),Math.abs(v*Math.sin(T)*g+c*Math.cos(T)*d)]},_addBevelJoin:function(e,r,s,u,f,c,v,d){var g=e.getCurve(),_=g.getPrevious(),C=g.getPoint1().transform(f),T=_.getNormalAtTime(1).multiply(s).transform(c),w=g.getNormalAtTime(0).multiply(s).transform(c),S=T.getDirectedAngle(w);if((S<0||S>=180)&&(T=T.negate(),w=w.negate()),d&&v(C),v(C.add(T)),r==="miter"){var L=new Ne(C.add(T),new D(-T.y,T.x),!0).intersect(new Ne(C.add(w),new D(-w.y,w.x),!0),!0);L&&C.getDistance(L)<=u*s&&v(L)}v(C.add(w))},_addSquareCap:function(e,r,s,u,f,c,v){var d=e._point.transform(u),g=e.getLocation(),_=g.getNormal().multiply(g.getTime()===0?s:-s).transform(f);r==="square"&&(v&&(c(d.subtract(_)),c(d.add(_))),d=d.add(_.rotate(-90))),c(d.add(_)),c(d.subtract(_))},getHandleBounds:function(e,r,s,u,f){var c=s.getStyle(),v=f.stroke&&c.hasStroke(),d,g;if(v){var _=s._getStrokeMatrix(u,f),C=c.getStrokeWidth()/2,T=C;c.getStrokeJoin()==="miter"&&(T=C*c.getMiterLimit()),c.getStrokeCap()==="square"&&(T=Math.max(T,C*Math.SQRT2)),d=Me._getStrokePadding(C,_),g=Me._getStrokePadding(T,_)}for(var w=new Array(6),S=1/0,L=-S,P=S,O=L,k=0,I=e.length;k<I;k++){var x=e[k];x._transformCoordinates(u,w);for(var A=0;A<6;A+=2){var R=A?d:g,U=R?R[0]:0,F=R?R[1]:0,B=w[A],G=w[A+1],W=B-U,j=B+U,H=G-F,Y=G+F;W<S&&(S=W),j>L&&(L=j),H<P&&(P=H),Y>O&&(O=Y)}}return new ne(S,P,L-S,O-P)}}});Me.inject({statics:new function(){var e=.5522847498307936,r=[new ke([-1,0],[0,e],[0,-e]),new ke([0,-1],[-e,0],[e,0]),new ke([1,0],[0,-e],[0,e]),new ke([0,1],[e,0],[-e,0])];function s(f,c,v){var d=h.getNamed(v),g=new Me(d&&(d.insert==!0?M.INSERT:d.insert==!1?M.NO_INSERT:null));return g._add(f),g._closed=c,g.set(d,M.INSERT)}function u(f,c,v){for(var d=new Array(4),g=0;g<4;g++){var _=r[g];d[g]=new ke(_._point.multiply(c).add(f),_._handleIn.multiply(c),_._handleOut.multiply(c))}return s(d,!0,v)}return{Line:function(){var f=arguments;return s([new ke(D.readNamed(f,"from")),new ke(D.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,c=D.readNamed(f,"center"),v=h.readNamed(f,"radius");return u(c,new ie(v),f)},Rectangle:function(){var f=arguments,c=ne.readNamed(f,"rectangle"),v=ie.readNamed(f,"radius",0,{readNull:!0}),d=c.getBottomLeft(!0),g=c.getTopLeft(!0),_=c.getTopRight(!0),C=c.getBottomRight(!0),T;if(!v||v.isZero())T=[new ke(d),new ke(g),new ke(_),new ke(C)];else{v=ie.min(v,c.getSize(!0).divide(2));var w=v.width,S=v.height,L=w*e,P=S*e;T=[new ke(d.add(w,0),null,[-L,0]),new ke(d.subtract(0,S),[0,P]),new ke(g.add(0,S),null,[0,-P]),new ke(g.add(w,0),[-L,0],null),new ke(_.subtract(w,0),null,[L,0]),new ke(_.add(0,S),[0,-P],null),new ke(C.subtract(0,S),null,[0,P]),new ke(C.subtract(w,0),[L,0])]}return s(T,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,c=Ue._readEllipse(f);return u(c.center,c.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,c=D.readNamed(f,"from"),v=D.readNamed(f,"through"),d=D.readNamed(f,"to"),g=h.getNamed(f),_=new Me(g&&g.insert==!1&&M.NO_INSERT);return _.moveTo(c),_.arcTo(v,d),_.set(g)},RegularPolygon:function(){for(var f=arguments,c=D.readNamed(f,"center"),v=h.readNamed(f,"sides"),d=h.readNamed(f,"radius"),g=360/v,_=v%3===0,C=new D(0,_?-d:d),T=_?-1:.5,w=new Array(v),S=0;S<v;S++)w[S]=new ke(c.add(C.rotate((S+T)*g)));return s(w,!0,f)},Star:function(){for(var f=arguments,c=D.readNamed(f,"center"),v=h.readNamed(f,"points")*2,d=h.readNamed(f,"radius1"),g=h.readNamed(f,"radius2"),_=360/v,C=new D(0,-1),T=new Array(v),w=0;w<v;w++)T[w]=new ke(c.add(C.rotate(_*w).multiply(w%2?g:d)));return s(T,!0,f)}}}});var rt=pt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||(typeof r=="string"?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function e(r,s){var u=s,f=u[0];f&&typeof f[0]=="number"&&(u=[u]);for(var c=s.length-1;c>=0;c--){var v=u[c];u===s&&!(v instanceof Me)&&(u=h.slice(u)),Array.isArray(v)?u[c]=new Me({segments:v,insert:!1}):v instanceof rt&&(u.splice.apply(u,[c,1].concat(v.removeChildren())),v.remove())}return e.base.call(this,r,u)},reduce:function e(r){for(var s=this._children,u=s.length-1;u>=0;u--){var f=s[u].reduce(r);f.isEmpty()&&f.remove()}if(!s.length){var f=new Me(M.NO_INSERT);return f.copyAttributes(this),f.insertAbove(this),this.remove(),f}return e.base.call(this)},isClosed:function(){for(var e=this._children,r=0,s=e.length;r<s;r++)if(!e[r]._closed)return!1;return!0},setClosed:function(e){for(var r=this._children,s=0,u=r.length;s<u;s++)r[s].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,r=[],s=0,u=e.length;s<u;s++)h.push(r,e[s].getCurves());return r},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,r=0,s=0,u=e.length;s<u;s++)r+=e[s].getArea();return r},getLength:function(){for(var e=this._children,r=0,s=0,u=e.length;s<u;s++)r+=e[s].getLength();return r},getPathData:function(e,r){for(var s=this._children,u=[],f=0,c=s.length;f<c;f++){var v=s[f],d=v._matrix;u.push(v.getPathData(e&&!d.isIdentity()?e.appended(d):e,r))}return u.join("")},_hitTestChildren:function e(r,s,u){return e.base.call(this,r,s.class===Me||s.type==="path"?s:h.set({},s,{fill:!1}),u)},_draw:function(e,r,s,u){var f=this._children;if(f.length){r=r.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var c=0,v=f.length;c<v;c++)f[c].draw(e,r,u);if(!r.clip){this._setStyles(e,r,s);var d=this._style;d.hasFill()&&(e.fill(d.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),d.hasStroke()&&e.stroke()}}},_drawSelected:function(e,r,s){for(var u=this._children,f=0,c=u.length;f<c;f++){var v=u[f],d=v._matrix;s[v._id]||v._drawSelected(e,d.isIdentity()?r:r.appended(d))}}},new function(){function e(r,s){var u=r._children;if(s&&!u.length)throw new Error("Use a moveTo() command first");return u[u.length-1]}return h.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var s=e(this,!0);s[r].apply(s,arguments)}},{moveTo:function(){var r=e(this),s=r&&r.isEmpty()?r:new Me(M.NO_INSERT);s!==r&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var r=e(this,!0),s=r&&r.getLastSegment(),u=D.read(arguments);this.moveTo(s?u.add(s._point):u)},closePath:function(r){e(this,!0).closePath(r)}})},h.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(r){for(var s=this._children,u,f=0,c=s.length;f<c;f++)u=s[f][e](r)||u;return u}},{}));pt.inject(new function(){var e=Math.min,r=Math.max,s=Math.abs,u={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function f(k){return k._children||[k]}function c(k,I){var x=k.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var A=f(x),R=0,U=A.length;R<U;R++){var k=A[R];!k._closed&&!k.isEmpty()&&(k.closePath(1e-12),k.getFirstSegment().setHandleIn(0,0),k.getLastSegment().setHandleOut(0,0))}x=x.resolveCrossings().reorient(x.getFillRule()==="nonzero",!0)}return x}function v(k,I,x,A,R){var U=new rt(M.NO_INSERT);return U.addChildren(k,!0),U=U.reduce({simplify:I}),R&&R.insert==!1||U.insertAbove(A&&x.isSibling(A)&&x.getIndex()<A.getIndex()?A:x),U.copyAttributes(x,!0),U}function d(k){return k.hasOverlap()||k.isCrossing()}function g(k,I,x,A){if(A&&(A.trace==!1||A.stroke)&&/^(subtract|intersect)$/.test(x))return _(k,I,x);var R=c(k,!0),U=I&&k!==I&&c(I,!0),F=u[x];F[x]=!0,U&&(F.subtract||F.exclude)^(U.isClockwise()^R.isClockwise())&&U.reverse();var B=S(et.expand(R.getIntersections(U,d))),G=f(R),W=U&&f(U),j=[],H=[],Y;function Q(Pe){for(var Be=0,De=Pe.length;Be<De;Be++){var He=Pe[Be];h.push(j,He._segments),h.push(H,He.getCurves()),He._overlapsOnly=!0}}function $(Pe){for(var Be=[],De=0,He=Pe&&Pe.length;De<He;De++)Be.push(H[Pe[De]]);return Be}if(B.length){Q(G),W&&Q(W);for(var ee=new Array(H.length),re=0,de=H.length;re<de;re++)ee[re]=H[re].getValues();for(var _e=z.findCurveBoundsCollisions(ee,ee,0,!0),ye={},re=0;re<H.length;re++){var Te=H[re],ue=Te._path._id,he=ye[ue]=ye[ue]||{};he[Te.getIndex()]={hor:$(_e[re].hor),ver:$(_e[re].ver)}}for(var re=0,de=B.length;re<de;re++)P(B[re]._segment,R,U,ye,F);for(var re=0,de=j.length;re<de;re++){var Se=j[re],Ie=Se._intersection;Se._winding||P(Se,R,U,ye,F),Ie&&Ie._overlap||(Se._path._overlapsOnly=!1)}Y=O(j,F)}else Y=w(W?G.concat(W):G.slice(),function(Pe){return!!F[Pe]});return v(Y,!0,k,I,A)}function _(k,I,x){var A=c(k),R=c(I),U=A.getIntersections(R,d),F=x==="subtract",B=x==="divide",G={},W=[];function j(Q){if(!G[Q._id]&&(B||R.contains(Q.getPointAt(Q.getLength()/2))^F))return W.unshift(Q),G[Q._id]=!0}for(var H=U.length-1;H>=0;H--){var Y=U[H].split();Y&&(j(Y)&&Y.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0))}return j(A),v(W,!1,k,I)}function C(k,I){for(var x=k;x;){if(x===I)return;x=x._previous}for(;k._next&&k._next!==I;)k=k._next;if(!k._next){for(;I._previous;)I=I._previous;k._next=I,I._previous=k}}function T(k){for(var I=k.length-1;I>=0;I--)k[I].clearHandles()}function w(k,I,x){var A=k&&k.length;if(A){var R=h.each(k,function(_e,ye){this[_e._id]={container:null,winding:_e.isClockwise()?1:-1,index:ye}},{}),U=k.slice().sort(function(_e,ye){return s(ye.getArea())-s(_e.getArea())}),F=U[0],B=z.findItemBoundsCollisions(U,null,K.GEOMETRIC_EPSILON);x==null&&(x=F.isClockwise());for(var G=0;G<A;G++){var W=U[G],j=R[W._id],H=0,Y=B[G];if(Y){for(var Q=null,$=Y.length-1;$>=0;$--)if(Y[$]<G){Q=Q||W.getInteriorPoint();var ee=U[Y[$]];if(ee.contains(Q)){var re=R[ee._id];H=re.winding,j.winding+=H,j.container=re.exclude?re.container:ee;break}}}if(I(j.winding)===I(H))j.exclude=!0,k[j.index]=null;else{var de=j.container;W.setClockwise(de?!de.isClockwise():x)}}}return k}function S(k,I,x){var A=I&&[],R=1e-8,U=1-R,F=!1,B=x||[],G=x&&{},W,j,H;function Y(Be){return Be._path._id+"."+Be._segment1._index}for(var Q=(x&&x.length)-1;Q>=0;Q--){var $=x[Q];$._path&&(G[Y($)]=!0)}for(var Q=k.length-1;Q>=0;Q--){var ee=k[Q],re=ee._time,de=re,_e=I&&!I(ee),$=ee._curve,ye;if($&&($!==j?(F=!$.hasHandles()||G&&G[Y($)],W=[],H=null,j=$):H>=R&&(re/=H)),_e){W&&W.push(ee);continue}else I&&A.unshift(ee);if(H=de,re<R)ye=$._segment1;else if(re>U)ye=$._segment2;else{var Te=$.divideAtTime(re,!0);F&&B.push($,Te),ye=Te._segment1;for(var ue=W.length-1;ue>=0;ue--){var he=W[ue];he._time=(he._time-re)/(1-re)}}ee._setSegment(ye);var Se=ye._intersection,Ie=ee._intersection;if(Se){C(Se,Ie);for(var Pe=Se;Pe;)C(Pe._intersection,Se),Pe=Pe._next}else ye._intersection=Ie}return x||T(B),A||k}function L(k,I,x,A,R){var U=Array.isArray(I)?I:I[x?"hor":"ver"],F=x?1:0,B=F^1,G=[k.x,k.y],W=G[F],j=G[B],H=1e-9,Y=1e-6,Q=W-H,$=W+H,ee=0,re=0,de=0,_e=0,ye=!1,Te=!1,ue=1,he=[],Se,Ie;function Pe(at){var wt=at[B+0],Ut=at[B+6];if(!(j<e(wt,Ut)||j>r(wt,Ut))){var It=at[F+0],zt=at[F+2],Lt=at[F+4],bt=at[F+6];if(wt===Ut){(It<$&&bt>Q||bt<$&&It>Q)&&(ye=!0);return}var Zt=j===wt?0:j===Ut||Q>r(It,zt,Lt,bt)||$<e(It,zt,Lt,bt)?1:ge.solveCubic(at,B,j,he,0,1)>0?he[0]:1,Dt=Zt===0?It:Zt===1?bt:ge.getPoint(at,Zt)[x?"y":"x"],Gt=wt>Ut?1:-1,lr=Se[B]>Se[B+6]?1:-1,Yt=Se[F+6];return j!==wt?(Dt<Q?de+=Gt:Dt>$?_e+=Gt:ye=!0,Dt>W-Y&&Dt<W+Y&&(ue/=2)):(Gt!==lr?It<Q?de+=Gt:It>$&&(_e+=Gt):It!=Yt&&(Yt<$&&Dt>$?(_e+=Gt,ye=!0):Yt>Q&&Dt<Q&&(de+=Gt,ye=!0)),ue/=4),Se=at,!R&&Dt>Q&&Dt<$&&ge.getTangent(at,Zt)[x?"x":"y"]===0&&L(k,I,!x,A,!0)}}function Be(at){var wt=at[B+0],Ut=at[B+2],It=at[B+4],zt=at[B+6];if(j<=r(wt,Ut,It,zt)&&j>=e(wt,Ut,It,zt)){for(var Lt=at[F+0],bt=at[F+2],Zt=at[F+4],Dt=at[F+6],Gt=Q>r(Lt,bt,Zt,Dt)||$<e(Lt,bt,Zt,Dt)?[at]:ge.getMonoCurves(at,x),lr,Yt=0,ei=Gt.length;Yt<ei;Yt++)if(lr=Pe(Gt[Yt]))return lr}}for(var De=0,He=U.length;De<He;De++){var We=U[De],Ve=We._path,Et=We.getValues(),we;if((!De||U[De-1]._path!==Ve)&&(Se=null,Ve._closed||(Ie=ge.getValues(Ve.getLastCurve().getSegment2(),We.getSegment1(),null,!A),Ie[B]!==Ie[B+6]&&(Se=Ie)),!Se)){Se=Et;for(var ht=Ve.getLastCurve();ht&&ht!==We;){var yt=ht.getValues();if(yt[B]!==yt[B+6]){Se=yt;break}ht=ht.getPrevious()}}if(we=Be(Et))return we;if(De+1===He||U[De+1]._path!==Ve){if(Ie&&(we=Be(Ie)))return we;ye&&!de&&!_e&&(de=_e=Ve.isClockwise(A)^x?1:-1),ee+=de,re+=_e,de=_e=0,ye&&(Te=!0,ye=!1),Ie=null}}return ee=s(ee),re=s(re),{winding:r(ee,re),windingL:ee,windingR:re,quality:ue,onPath:Te}}function P(k,I,x,A,R){var U=[],F=k,B=0,H;do{var G=k.getCurve();if(G){var W=G.getLength();U.push({segment:k,curve:G,length:W}),B+=W}k=k.getNext()}while(k&&!k._intersection&&k!==F);for(var j=[.5,.25,.75],H={winding:0,quality:-1},Y=.001,Q=1-Y,$=0;$<j.length&&H.quality<.5;$++)for(var W=B*j[$],ee=0,re=U.length;ee<re;ee++){var de=U[ee],_e=de.length;if(W<=_e){var G=de.curve,ye=G._path,Te=ye._parent,ue=Te instanceof rt?Te:ye,he=K.clamp(G.getTimeAt(W),Y,Q),Se=G.getPointAtTime(he),Ie=s(G.getTangentAtTime(he).y)<Math.SQRT1_2,Pe=null;if(R.subtract&&x){var Be=ue===I?x:I,De=Be._getWinding(Se,Ie,!0);if(ue===I&&De.winding||ue===x&&!De.winding){if(De.quality<1)continue;Pe={winding:0,quality:1}}}Pe=Pe||L(Se,A[ye._id][G.getIndex()],Ie,!0),Pe.quality>H.quality&&(H=Pe);break}W-=_e}for(var ee=U.length-1;ee>=0;ee--)U[ee].segment._winding=H}function O(k,I){var x=[],A;function R(He){var We;return!!(He&&!He._visited&&(!I||I[(We=He._winding||{}).winding]&&!(I.unite&&We.winding===2&&We.windingL&&We.windingR)))}function U(He){if(He){for(var We=0,Ve=A.length;We<Ve;We++)if(He===A[We])return!0}return!1}function F(He){for(var We=He._segments,Ve=0,Et=We.length;Ve<Et;Ve++)We[Ve]._visited=!0}function B(He,We){var Ve=He._intersection,Et=Ve,we=[];We&&(A=[He]);function ht(yt,at){for(;yt&&yt!==at;){var wt=yt._segment,Ut=wt&&wt._path;if(Ut){var It=wt.getNext()||Ut.getFirstSegment(),zt=It._intersection;wt!==He&&(U(wt)||U(It)||It&&R(wt)&&(R(It)||zt&&R(zt._segment)))&&we.push(wt),We&&A.push(wt)}yt=yt._next}}if(Ve){for(ht(Ve);Ve&&Ve._previous;)Ve=Ve._previous;ht(Ve,Et)}return we}k.sort(function(He,We){var Ve=He._intersection,Et=We._intersection,we=!!(Ve&&Ve._overlap),ht=!!(Et&&Et._overlap),yt=He._path,at=We._path;return we^ht?we?1:-1:!Ve^!Et?Ve?1:-1:yt!==at?yt._id-at._id:He._index-We._index});for(var G=0,W=k.length;G<W;G++){var j=k[G],H=R(j),Y=null,Q=!1,$=!0,ee=[],re,de,_e;if(H&&j._path._overlapsOnly){var ye=j._path,Te=j._intersection._segment._path;ye.compare(Te)&&(ye.getArea()&&x.push(ye.clone(!1)),F(ye),F(Te),H=!1)}for(;H;){var ue=!Y,he=B(j,ue),Se=he.shift(),Q=!ue&&(U(j)||U(Se)),Ie=!Q&&Se;if(ue&&(Y=new Me(M.NO_INSERT),re=null),Q){(j.isFirst()||j.isLast())&&($=j._path._closed),j._visited=!0;break}if(Ie&&re&&(ee.push(re),re=null),re||(Ie&&he.push(j),re={start:Y._segments.length,crossings:he,visited:de=[],handleIn:_e}),Ie&&(j=Se),!R(j)){Y.removeSegments(re.start);for(var Pe=0,Be=de.length;Pe<Be;Pe++)de[Pe]._visited=!1;de.length=0;do j=re&&re.crossings.shift(),(!j||!j._path)&&(j=null,re=ee.pop(),re&&(de=re.visited,_e=re.handleIn));while(re&&!R(j));if(!j)break}var De=j.getNext();Y.add(new ke(j._point,_e,De&&j._handleOut)),j._visited=!0,de.push(j),j=De||j._path.getFirstSegment(),_e=De&&De._handleIn}Q&&($&&(Y.getFirstSegment().setHandleIn(_e),Y.setClosed($)),Y.getArea()!==0&&x.push(Y))}return x}return{_getWinding:function(k,I,x){return L(k,this.getCurves(),I,x)},unite:function(k,I){return g(this,k,"unite",I)},intersect:function(k,I){return g(this,k,"intersect",I)},subtract:function(k,I){return g(this,k,"subtract",I)},exclude:function(k,I){return g(this,k,"exclude",I)},divide:function(k,I){return I&&(I.trace==!1||I.stroke)?_(this,k,"divide"):v([this.subtract(k,I),this.intersect(k,I)],!0,this,k,I)},resolveCrossings:function(){var k=this._children,I=k||[this];function x(re,de){var _e=re&&re._intersection;return _e&&_e._overlap&&_e._path===de}var A=!1,R=!1,U=this.getIntersections(null,function(re){return re.hasOverlap()&&(A=!0)||re.isCrossing()&&(R=!0)}),F=A&&R&&[];if(U=et.expand(U),A)for(var B=S(U,function(re){return re.hasOverlap()},F),G=B.length-1;G>=0;G--){var W=B[G],j=W._path,H=W._segment,Y=H.getPrevious(),Q=H.getNext();x(Y,j)&&x(Q,j)&&(H.remove(),Y._handleOut._set(0,0),Q._handleIn._set(0,0),Y!==H&&!Y.getCurve().hasLength()&&(Q._handleIn.set(Y._handleIn),Y.remove()))}R&&(S(U,A&&function(re){var de=re.getCurve(),_e=re.getSegment(),ye=re._intersection,Te=ye._curve,ue=ye._segment;if(de&&Te&&de._path&&Te._path)return!0;_e&&(_e._intersection=null),ue&&(ue._intersection=null)},F),F&&T(F),I=O(h.each(I,function(re){h.push(this,re._segments)},[])));var $=I.length,ee;return $>1&&k?(I!==k&&this.setChildren(I),ee=this):$===1&&!k&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),ee=this),ee||(ee=new rt(M.NO_INSERT),ee.addChildren(I),ee=ee.reduce(),ee.copyAttributes(this),this.replaceWith(ee)),ee},reorient:function(k,I){var x=this._children;return x&&x.length?this.setChildren(w(this.removeChildren(),function(A){return!!(k?A:A&1)},I)):I!==n&&this.setClockwise(I),this},getInteriorPoint:function(){var k=this.getBounds(),I=k.getCenter(!0);if(!this.contains(I)){for(var x=this.getCurves(),A=I.y,R=[],U=[],F=0,B=x.length;F<B;F++){var G=x[F].getValues(),W=G[1],j=G[3],H=G[5],Y=G[7];if(A>=e(W,j,H,Y)&&A<=r(W,j,H,Y))for(var Q=ge.getMonoCurves(G),$=0,ee=Q.length;$<ee;$++){var re=Q[$],de=re[1],_e=re[7];if(de!==_e&&(A>=de&&A<=_e||A>=_e&&A<=de)){var ye=A===de?re[0]:A===_e?re[6]:ge.solveCubic(re,1,A,U,0,1)===1?ge.getPoint(re,U[0]).x:(re[0]+re[6])/2;R.push(ye)}}}R.length>1&&(R.sort(function(Te,ue){return Te-ue}),I.x=(R[0]+R[1])/2)}return I}}});var ut=h.extend({_class:"PathFlattener",initialize:function(e,r,s,u,f){var c=[],v=[],d=0,g=1/(s||32),_=e._segments,C=_[0],T;function w(O,k){var I=ge.getValues(O,k,f);c.push(I),S(I,O._index,0,1)}function S(O,k,I,x){if(x-I>g&&!(u&&ge.isStraight(O))&&!ge.isFlatEnough(O,r||.25)){var A=ge.subdivide(O,.5),R=(I+x)/2;S(A[0],k,I,R),S(A[1],k,R,x)}else{var U=O[6]-O[0],F=O[7]-O[1],B=Math.sqrt(U*U+F*F);B>0&&(d+=B,v.push({offset:d,curve:O,index:k,time:x}))}}for(var L=1,P=_.length;L<P;L++)T=_[L],w(C,T),C=T;e._closed&&w(T||C,_[0]),this.curves=c,this.parts=v,this.length=d,this.index=0},_get:function(e){for(var r=this.parts,s=r.length,u,f=this.index;u=f,!(!f||r[--f].offset<e););for(;u<s;u++){var c=r[u];if(c.offset>=e){this.index=u;var v=r[u-1],d=v&&v.index===c.index?v.time:0,g=v?v.offset:0;return{index:c.index,time:d+(c.time-d)*(e-g)/(c.offset-g)}}}return{index:r[s-1].index,time:1}},drawPart:function(e,r,s){for(var u=this._get(r),f=this._get(s),c=u.index,v=f.index;c<=v;c++){var d=ge.getPart(this.curves[c],c===u.index?u.time:0,c===f.index?f.time:1);c===u.index&&e.moveTo(d[0],d[1]),e.bezierCurveTo.apply(e,d.slice(2))}}},h.each(ge._evaluateMethods,function(e){this[e+"At"]=function(r){var s=this._get(r);return ge[e](this.curves[s.index],s.time)}},{})),vt=h.extend({initialize:function(e){for(var r=this.points=[],s=e._segments,u=e._closed,f=0,c,v=s.length;f<v;f++){var d=s[f].point;(!c||!c.equals(d))&&r.push(c=d.clone())}u&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=u},fit:function(e){var r=this.points,s=r.length,u=null;return s>0&&(u=[new ke(r[0])],s>1&&(this.fitCubic(u,e,0,s-1,r[1].subtract(r[0]),r[s-2].subtract(r[s-1])),this.closed&&(u.shift(),u.pop()))),u},fitCubic:function(e,r,s,u,f,c){var v=this.points;if(u-s===1){var d=v[s],g=v[u],_=d.getDistance(g)/3;this.addCurve(e,[d,d.add(f.normalize(_)),g.add(c.normalize(_)),g]);return}for(var C=this.chordLengthParameterize(s,u),T=Math.max(r,r*r),w,S=!0,L=0;L<=4;L++){var P=this.generateBezier(s,u,C,f,c),O=this.findMaxError(s,u,P,C);if(O.error<r&&S){this.addCurve(e,P);return}if(w=O.index,O.error>=T)break;S=this.reparameterize(s,u,C,P),T=O.error}var k=v[w-1].subtract(v[w+1]);this.fitCubic(e,r,s,w,f,k),this.fitCubic(e,r,w,u,k.negate(),c)},addCurve:function(e,r){var s=e[e.length-1];s.setHandleOut(r[1].subtract(r[0])),e.push(new ke(r[3],r[2].subtract(r[3])))},generateBezier:function(e,r,s,u,f){for(var c=1e-12,v=Math.abs,d=this.points,g=d[e],_=d[r],C=[[0,0],[0,0]],T=[0,0],w=0,S=r-e+1;w<S;w++){var L=s[w],P=1-L,O=3*L*P,k=P*P*P,I=O*P,x=O*L,A=L*L*L,R=u.normalize(I),U=f.normalize(x),F=d[e+w].subtract(g.multiply(k+I)).subtract(_.multiply(x+A));C[0][0]+=R.dot(R),C[0][1]+=R.dot(U),C[1][0]=C[0][1],C[1][1]+=U.dot(U),T[0]+=R.dot(F),T[1]+=U.dot(F)}var B=C[0][0]*C[1][1]-C[1][0]*C[0][1],G,W;if(v(B)>c){var j=C[0][0]*T[1]-C[1][0]*T[0],H=T[0]*C[1][1]-T[1]*C[0][1];G=H/B,W=j/B}else{var Y=C[0][0]+C[0][1],Q=C[1][0]+C[1][1];G=W=v(Y)>c?T[0]/Y:v(Q)>c?T[1]/Q:0}var $=_.getDistance(g),ee=c*$,re,de;if(G<ee||W<ee)G=W=$/3;else{var _e=_.subtract(g);re=u.normalize(G),de=f.normalize(W),re.dot(_e)-de.dot(_e)>$*$&&(G=W=$/3,re=de=null)}return[g,g.add(re||u.normalize(G)),_.add(de||f.normalize(W)),_]},reparameterize:function(e,r,s,u){for(var f=e;f<=r;f++)s[f-e]=this.findRoot(u,this.points[f],s[f-e]);for(var f=1,c=s.length;f<c;f++)if(s[f]<=s[f-1])return!1;return!0},findRoot:function(e,r,s){for(var u=[],f=[],c=0;c<=2;c++)u[c]=e[c+1].subtract(e[c]).multiply(3);for(var c=0;c<=1;c++)f[c]=u[c+1].subtract(u[c]).multiply(2);var v=this.evaluate(3,e,s),d=this.evaluate(2,u,s),g=this.evaluate(1,f,s),_=v.subtract(r),C=d.dot(d)+_.dot(g);return K.isMachineZero(C)?s:s-_.dot(d)/C},evaluate:function(e,r,s){for(var u=r.slice(),f=1;f<=e;f++)for(var c=0;c<=e-f;c++)u[c]=u[c].multiply(1-s).add(u[c+1].multiply(s));return u[0]},chordLengthParameterize:function(e,r){for(var s=[0],u=e+1;u<=r;u++)s[u-e]=s[u-e-1]+this.points[u].getDistance(this.points[u-1]);for(var u=1,f=r-e;u<=f;u++)s[u]/=s[f];return s},findMaxError:function(e,r,s,u){for(var f=Math.floor((r-e+1)/2),c=0,v=e+1;v<r;v++){var d=this.evaluate(3,s,u[v-e]),g=d.subtract(this.points[v]),_=g.x*g.x+g.y*g.y;_>=c&&(c=_,f=v)}return{error:c,index:f}}}),Wt=M.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var s=r&&h.isPlainObject(r)&&r.x===n&&r.y===n;this._initialize(s&&r,!s&&D.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Nr=Wt.extend({_class:"PointText",initialize:function(){Wt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new le(e.x,e.y,this,"setPoint")},setPoint:function(){var e=D.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,r,s){if(this._content){this._setStyles(e,r,s);var u=this._lines,f=this._style,c=f.hasFill(),v=f.hasStroke(),d=f.getLeading(),g=e.shadowColor;e.font=f.getFontStyle(),e.textAlign=f.getJustification();for(var _=0,C=u.length;_<C;_++){e.shadowColor=g;var T=u[_];c&&(e.fillText(T,0,0),e.shadowColor="rgba(0,0,0,0)"),v&&e.strokeText(T,0,0),e.translate(0,d)}}},_getBounds:function(e,r){var s=this._style,u=this._lines,f=u.length,c=s.getJustification(),v=s.getLeading(),d=this.getView().getTextWidth(s.getFontStyle(),u),g=0;c!=="left"&&(g-=d/(c==="center"?2:1));var _=new ne(g,f?-.75*v:0,d,f*v);return e?e._transformBounds(_,_):_}}),gt=h.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={transparent:[0,0,0,0]},u;function f(d){var g=d.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||d.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",C;if(g){var T=g[4]?4:3;C=new Array(T);for(var w=0;w<T;w++){var S=g[w+1];C[w]=parseInt(S.length==1?S+S:S,16)/255}}else if(g=d.match(/^(rgb|hsl)a?\((.*)\)$/)){_=g[1],C=g[2].trim().split(/[,\s]+/g);for(var L=_==="hsl",w=0,P=Math.min(C.length,4);w<P;w++){var O=C[w],S=parseFloat(O);if(L)if(w===0){var k=O.match(/([a-z]*)$/)[1];S*={turn:360,rad:180/Math.PI,grad:.9}[k]||1}else w<3&&(S/=100);else w<3&&(S/=/%$/.test(O)?100:255);C[w]=S}}else{var I=s[d];if(!I)if(o){u||(u=St.getContext(1,1,{willReadFrequently:!0}),u.globalCompositeOperation="copy"),u.fillStyle="rgba(0,0,0,0)",u.fillStyle=d,u.fillRect(0,0,1,1);var x=u.getImageData(0,0,1,1).data;I=s[d]=[x[0]/255,x[1]/255,x[2]/255]}else I=[0,0,0];C=I.slice()}return[_,C]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],v={"rgb-hsb":function(d,g,_){var C=Math.max(d,g,_),T=Math.min(d,g,_),w=C-T,S=w===0?0:(C==d?(g-_)/w+(g<_?6:0):C==g?(_-d)/w+2:(d-g)/w+4)*60;return[S,C===0?0:w/C,C]},"hsb-rgb":function(d,g,_){d=(d/60%6+6)%6;var T=Math.floor(d),C=d-T,T=c[T],w=[_,_*(1-g),_*(1-g*C),_*(1-g*(1-C))];return[w[T[0]],w[T[1]],w[T[2]]]},"rgb-hsl":function(d,g,_){var C=Math.max(d,g,_),T=Math.min(d,g,_),w=C-T,S=w===0,L=S?0:(C==d?(g-_)/w+(g<_?6:0):C==g?(_-d)/w+2:(d-g)/w+4)*60,P=(C+T)/2,O=S?0:P<.5?w/(C+T):w/(2-C-T);return[L,O,P]},"hsl-rgb":function(d,g,_){if(d=(d/360%1+1)%1,g===0)return[_,_,_];for(var C=[d+1/3,d,d-1/3],T=_<.5?_*(1+g):_+g-_*g,w=2*_-T,S=[],L=0;L<3;L++){var P=C[L];P<0&&(P+=1),P>1&&(P-=1),S[L]=6*P<1?w+(T-w)*6*P:2*P<1?T:3*P<2?w+(T-w)*(2/3-P)*6:w}return S},"rgb-gray":function(d,g,_){return[d*.2989+g*.587+_*.114]},"gray-rgb":function(d){return[d,d,d]},"gray-hsb":function(d){return[0,0,d]},"gray-hsl":function(d){return[0,0,d]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return h.each(e,function(d,g){r[g]=[],h.each(d,function(_,C){var T=h.capitalize(_),w=/^(hue|saturation)$/.test(_),S=r[g][C]=g==="gradient"?_==="gradient"?function(L){var P=this._components[0];return L=tr.read(Array.isArray(L)?L:arguments,0,{readNull:!0}),P!==L&&(P&&P._removeOwner(this),L&&L._addOwner(this)),L}:function(){return D.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(L){return L==null||isNaN(L)?0:+L};this["get"+T]=function(){return this._type===g||w&&/^hs[bl]$/.test(this._type)?this._components[C]:this._convert(g)[C]},this["set"+T]=function(L){this._type!==g&&!(w&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(g),this._properties=e[g],this._type=g),this._components[C]=S.call(this,L),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function d(g){var _=arguments,C=this.__read,T=0,w,S,L,P;Array.isArray(g)&&(_=g,g=_[0]);var O=g!=null&&typeof g;if(O==="string"&&g in e&&(w=g,g=_[1],Array.isArray(g)?(S=g,L=_[2]):(C&&(T=1),_=h.slice(_,1),O=typeof g)),!S){if(P=O==="number"?_:O==="object"&&g.length!=null?g:null,P){w||(w=P.length>=3?"rgb":"gray");var k=e[w].length;L=P[k],C&&(T+=P===arguments?k+(L!=null?1:0):1),P.length>k&&(P=h.slice(P,0,k))}else if(O==="string"){var I=f(g);w=I[0],S=I[1],S.length===4&&(L=S[3],S.length--)}else if(O==="object")if(g.constructor===d){if(w=g._type,S=g._components.slice(),L=g._alpha,w==="gradient")for(var x=1,A=S.length;x<A;x++){var R=S[x];R&&(S[x]=R.clone())}}else if(g.constructor===tr)w="gradient",P=_;else{w="hue"in g?"lightness"in g?"hsl":"hsb":"gradient"in g||"stops"in g||"radial"in g?"gradient":"gray"in g?"gray":"rgb";var U=e[w],F=r[w];this._components=S=[];for(var x=0,A=U.length;x<A;x++){var B=g[U[x]];B==null&&!x&&w==="gradient"&&"stops"in g&&(B={stops:g.stops,radial:g.radial}),B=F[x].call(this,B),B!=null&&(S[x]=B)}L=g.alpha}C&&w&&(T=1)}if(this._type=w||"rgb",!S){this._components=S=[];for(var F=r[this._type],x=0,A=F.length;x<A;x++){var B=F[x].call(this,P&&P[x]);B!=null&&(S[x]=B)}}return this._components=S,this._properties=e[this._type],this._alpha=L,C&&(this.__read=T),this},set:"#initialize",_serialize:function(d,g){var _=this.getComponents();return h.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),d,!0,g)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(d){var g;return this._type===d?this._components.slice():(g=v[this._type+"-"+d])?g.apply(this,this._components):v["rgb-"+d].apply(this,v[this._type+"-rgb"].apply(this,this._components))},convert:function(d){return new gt(d,this._convert(d),this._alpha)},getType:function(){return this._type},setType:function(d){this._components=this._convert(d),this._properties=e[d],this._type=d},getComponents:function(){var d=this._components.slice();return this._alpha!=null&&d.push(this._alpha),d},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(d){this._alpha=d==null?null:Math.min(Math.max(d,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(d){var g=h.isPlainValue(d,!0)?gt.read(arguments):d;return g===this||g&&this._class===g._class&&this._type===g._type&&this.getAlpha()===g.getAlpha()&&h.equals(this._components,g._components)||!1},toString:function(){for(var d=this._properties,g=[],_=this._type==="gradient",C=V.instance,T=0,w=d.length;T<w;T++){var S=this._components[T];S!=null&&g.push(d[T]+": "+(_?S:C.number(S)))}return this._alpha!=null&&g.push("alpha: "+C.number(this._alpha)),"{ "+g.join(", ")+" }"},toCSS:function(d){var g=this._convert("rgb"),_=d||this._alpha==null?1:this._alpha;function C(T){return Math.round((T<0?0:T>1?1:T)*255)}return g=[C(g[0]),C(g[1]),C(g[2])],_<1&&g.push(_<0?0:_),d?"#"+((1<<24)+(g[0]<<16)+(g[1]<<8)+g[2]).toString(16).slice(1):(g.length==4?"rgba(":"rgb(")+g.join(",")+")"},toCanvasStyle:function(d,g){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,C=_[0],T=C._stops,w=_[1],S=_[2],L=_[3],P=g&&g.inverted(),O;if(P&&(w=P._transformPoint(w),S=P._transformPoint(S),L&&(L=P._transformPoint(L))),C._radial){var k=S.getDistance(w);if(L){var I=L.subtract(w);I.getLength()>k&&(L=w.add(I.normalize(k-.1)))}var x=L||w;O=d.createRadialGradient(x.x,x.y,0,w.x,w.y,k)}else O=d.createLinearGradient(w.x,w.y,S.x,S.y);for(var A=0,R=T.length;A<R;A++){var U=T[A],F=U._offset;O.addColorStop(F??A/(R-1),U._color.toCanvasStyle())}return this._canvasStyle=O},transform:function(d){if(this._type==="gradient"){for(var g=this._components,_=1,C=g.length;_<C;_++){var T=g[_];d._transformPoint(T,T,!0)}this._changed()}},statics:{_types:e,random:function(){var d=Math.random;return new gt(d(),d(),d())},_setOwner:function(d,g,_){return d&&(d._owner&&g&&d._owner!==g&&(d=d.clone()),!d._owner^!g&&(d._owner=g||null,d._setter=_||null)),d}}})},new function(){var e={add:function(r,s){return r+s},subtract:function(r,s){return r-s},multiply:function(r,s){return r*s},divide:function(r,s){return r/s}};return h.each(e,function(r,s){this[s]=function(u){u=gt.read(arguments);for(var f=this._type,c=this._components,v=u._convert(f),d=0,g=c.length;d<g;d++)v[d]=r(c[d],v[d]);return new gt(f,v,this._alpha!=null?r(this._alpha,u.getAlpha()):null)}},{})}),tr=h.extend({_class:"Gradient",initialize:function(r,s){this._id=X.get(),r&&h.isPlainObject(r)&&(this.set(r),r=s=null),this._stops==null&&this.setStops(r||["white","black"]),this._radial==null&&this.setRadial(typeof s=="string"&&s==="radial"||s||!1)},_serialize:function(e,r){return r.add(this,function(){return h.serialize([this._stops,this._radial],e,!0,r)})},_changed:function(){for(var e=0,r=this._owners&&this._owners.length;e<r;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var r=this._owners?this._owners.indexOf(e):-1;r!=-1&&(this._owners.splice(r,1),this._owners.length||(this._owners=n))},clone:function(){for(var e=[],r=0,s=this._stops.length;r<s;r++)e[r]=this._stops[r].clone();return new tr(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var s=0,u=r.length;s<u;s++)r[s]._owner=n;r=this._stops=wr.readList(e,0,{clone:!0});for(var s=0,u=r.length;s<u;s++)r[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var r=this._stops,s=e._stops,u=r.length;if(u===s.length){for(var f=0;f<u;f++)if(!r[f].equals(s[f]))return!1;return!0}}return!1}}),wr=h.extend({_class:"GradientStop",initialize:function(r,s){var u=r,f=s;typeof r=="object"&&s===n&&(Array.isArray(r)&&typeof r[0]!="number"?(u=r[0],f=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(u=r.color,f=r.offset||r.rampPoint||0)),this.setColor(u),this.setOffset(f)},clone:function(){return new wr(this._color.clone(),this._offset)},_serialize:function(e,r){var s=this._color,u=this._offset;return h.serialize(u==null?[s]:[s,u],e,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){gt._setOwner(this._color,null),this._color=gt._setOwner(gt.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),hr=h.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new D,selectedColor:null},r=h.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=h.set({},r,{fillColor:new gt}),u={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},c={_class:"Style",beans:!0,initialize:function(d,g,_){this._values={},this._owner=g,this._project=g&&g._project||_||Ke.project,this._defaults=!g||g instanceof be?r:g instanceof Wt?s:e,d&&this.set(d)}};return h.each(r,function(v,d){var g=/Color$/.test(d),_=d==="shadowOffset",C=h.capitalize(d),T=u[d],w="set"+C,S="get"+C;c[w]=function(L){var P=this._owner,O=P&&P._children,k=O&&O.length>0&&!(P instanceof rt);if(k)for(var I=0,x=O.length;I<x;I++)O[I]._style[w](L);if((d==="selectedColor"||!k)&&d in this._defaults){var A=this._values[d];A!==L&&(g&&(A&&(gt._setOwner(A,null),A._canvasStyle=null),L&&L.constructor===gt&&(L=gt._setOwner(L,P,k&&w))),this._values[d]=L,P&&P._changed(T||129))}},c[S]=function(L){var P=this._owner,O=P&&P._children,k=O&&O.length>0&&!(P instanceof rt),I;if(k&&!L)for(var x=0,A=O.length;x<A;x++){var R=O[x]._style[S]();if(!x)I=R;else if(!h.equals(I,R))return n}else if(d in this._defaults){var I=this._values[d];if(I===n)I=this._defaults[d],I&&I.clone&&(I=I.clone());else{var U=g?gt:_?D:null;U&&!(I&&I.constructor===U)&&(this._values[d]=I=U.read([I],0,{readNull:!0,clone:!0}))}}return I&&g&&(I=gt._setOwner(I,P,k&&w)),I},f[S]=function(L){return this._style[S](L)},f[w]=function(L){this._style[w](L)}}),h.each({Font:"FontFamily",WindingRule:"FillRule"},function(v,d){var g="get"+d,_="set"+d;c[g]=f[g]="#get"+v,c[_]=f[_]="#set"+v}),M.inject(f),c},{set:function(e){var r=e instanceof hr,s=r?e._values:e;if(s){for(var u in s)if(u in this._defaults){var f=s[u];this[u]=f&&r&&f.clone?f.clone():f}}},equals:function(e){function r(s,u,f){var c=s._values,v=u._values,d=u._defaults;for(var g in c){var _=c[g],C=v[g];if(!(f&&g in v)&&!h.equals(_,C===n?d[g]:C))return!1}return!0}return e===this||e&&this._class===e._class&&r(this,e)&&r(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var r=e.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),r??s*1.2}}),dt=new function(){function e(r,s,u,f){for(var c=["","webkit","moz","Moz","ms","o"],v=s[0].toUpperCase()+s.substring(1),d=0;d<6;d++){var g=c[d],_=g?g+v:s;if(_ in r){if(u)r[_]=f;else return r[_];break}}}return{getStyles:function(r){var s=r&&r.nodeType!==9?r.ownerDocument:r,u=s&&s.defaultView;return u&&u.getComputedStyle(r,"")},getBounds:function(r,s){var u=r.ownerDocument,f=u.body,c=u.documentElement,v;try{v=r.getBoundingClientRect()}catch{v={left:0,top:0,width:0,height:0}}var d=v.left-(c.clientLeft||f.clientLeft||0),g=v.top-(c.clientTop||f.clientTop||0);if(!s){var _=u.defaultView;d+=_.pageXOffset||c.scrollLeft||f.scrollLeft,g+=_.pageYOffset||c.scrollTop||f.scrollTop}return new ne(d,g,v.width,v.height)},getViewportBounds:function(r){var s=r.ownerDocument,u=s.defaultView,f=s.documentElement;return new ne(0,0,u.innerWidth||f.clientWidth,u.innerHeight||f.clientHeight)},getOffset:function(r,s){return dt.getBounds(r,s).getPoint()},getSize:function(r){return dt.getBounds(r,!0).getSize()},isInvisible:function(r){return dt.getSize(r).equals(new ie(0,0))},isInView:function(r){return!dt.isInvisible(r)&&dt.getViewportBounds(r).intersects(dt.getBounds(r,!0))},isInserted:function(r){return l.body.contains(r)},getPrefixed:function(r,s){return r&&e(r,s)},setPrefixed:function(r,s,u){if(typeof s=="object")for(var f in s)e(r,f,!0,s[f]);else e(r,s,!0,u)}}},mt={add:function(e,r){if(e)for(var s in r)for(var u=r[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++){var d=f[c],g=e===l&&(d==="touchstart"||d==="touchmove")?{passive:!1}:!1;e.addEventListener(d,u,g)}},remove:function(e,r){if(e)for(var s in r)for(var u=r[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++)e.removeEventListener(f[c],u,!1)},getPoint:function(e){var r=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new D(r.pageX||r.clientX+l.documentElement.scrollLeft,r.pageY||r.clientY+l.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,r){return mt.getPoint(e).subtract(dt.getOffset(r||mt.getTarget(e)))}};mt.requestAnimationFrame=new function(){var e=dt.getPrefixed(o,"requestAnimationFrame"),r=!1,s=[],u;function f(){var c=s;s=[];for(var v=0,d=c.length;v<d;v++)c[v]();r=e&&s.length,r&&e(f)}return function(c){s.push(c),e?r||(e(f),r=!0):u||(u=setInterval(f,1e3/60))}};var _t=h.extend(m,{_class:"View",initialize:function e(r,s){function u(T){return s[T]||parseInt(s.getAttribute(T),10)}function f(){var T=dt.getSize(s);return T.isNaN()||T.isZero()?new ie(u("width"),u("height")):T}var c;if(o&&s){this._id=s.getAttribute("id"),this._id==null&&s.setAttribute("id",this._id="paper-view-"+e._id++),mt.add(s,this._viewEvents);var v="none";if(dt.setPrefixed(s.style,{userDrag:v,userSelect:v,touchCallout:v,contentZooming:v,tapHighlightColor:"rgba(0,0,0,0)"}),b.hasAttribute(s,"resize")){var d=this;mt.add(o,this._windowEvents={resize:function(){d.setViewSize(f())}})}if(c=f(),b.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var g=this._stats.domElement,_=g.style,C=dt.getOffset(s);_.position="absolute",_.left=C.x+"px",_.top=C.y+"px",l.body.appendChild(g)}}else c=new ie(s),s=null;this._project=r,this._scope=r._scope,this._element=s,this._pixelRatio||(this._pixelRatio=o&&o.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new pe)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ke.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;_t._focused===this&&(_t._focused=null),_t._views.splice(_t._views.indexOf(this),1),delete _t._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),mt.remove(this._element,this._viewEvents),mt.remove(o,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:h.each(M._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;mt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var r=e._element;(!dt.getPrefixed(l,"hidden")||b.getAttribute(r,"keepalive")==="true")&&dt.isInView(r)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ke=this._scope;var e=Date.now()/1e3,r=this._last?e-this._last:0;this._last=e,this.emit("frame",new h({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,r){var s=this._frameItems;r?(s[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete s[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var r in this._frameItems){var s=this._frameItems[r];s.item.emit("frame",new h(e,{time:s.time+=e.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new fe(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=ie.read(arguments),r=e.subtract(this._viewSize);r.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(e,r){var s=this._element;s&&(s.width!==e&&(s.width=e),s.height!==r&&(s.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ne(new D,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return dt.isInView(this._element)},isInserted:function(){return dt.isInserted(this._element)},getPixelSize:function(e){var r=this._element,s;if(r){var u=r.parentNode,f=l.createElement("div");f.style.fontSize=e,u.appendChild(f),s=parseFloat(dt.getStyles(f).fontSize),u.removeChild(f)}else s=parseFloat(s);return s},getTextWidth:function(e,r){return 0}},h.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var s=arguments,u=(r?h:D).read(s),f=D.read(s,0,{readNull:!0});return this.transform(new pe()[e](u,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new pe;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=D.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new pe().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var r=this.getRotation();r!=null&&e!=null&&this.rotate(e-r)},getScaling:function(){var e=this._decompose().scaling;return new le(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=D.read(arguments,0,{clone:!0,readNull:!0});e&&r&&this.scale(r.x/e.x,r.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(D.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(D.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(D.read(arguments))},getEventPoint:function(e){return this.viewToProject(mt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,r){l&&typeof r=="string"&&(r=l.getElementById(r));var s=o?Mi:_t;return new s(e,r)}}},new function(){if(!o)return;var e,r,s=!1,u=!1;function f(H){var Y=mt.getTarget(H);return Y.getAttribute&&_t._viewsById[Y.getAttribute("id")]}function c(){var H=_t._focused;if(!H||!H.isVisible()){for(var Y=0,Q=_t._views.length;Y<Q;Y++)if((H=_t._views[Y]).isVisible()){_t._focused=r=H;break}}}function v(H,Y,Q){H._handleMouseEvent("mousemove",Y,Q)}var d=o.navigator,g,_,C;d.pointerEnabled||d.msPointerEnabled?(g="pointerdown MSPointerDown",_="pointermove MSPointerMove",C="pointerup pointercancel MSPointerUp MSPointerCancel"):(g="touchstart",_="touchmove",C="touchend touchcancel","ontouchstart"in o&&d.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(g+=" mousedown",_+=" mousemove",C+=" mouseup"));var T={},w={mouseout:function(H){var Y=_t._focused,Q=mt.getRelatedTarget(H);if(Y&&(!Q||Q.nodeName==="HTML")){var $=mt.getOffset(H,Y._element),ee=$.x,re=Math.abs,de=re(ee),_e=1<<25,ye=de-_e;$.x=re(ye)<de?ye*(ee<0?-1:1):ee,v(Y,H,Y.viewToProject($))}},scroll:c};T[g]=function(H){var Y=_t._focused=f(H);s||(s=!0,Y._handleMouseEvent("mousedown",H))},w[_]=function(H){var Y=_t._focused;if(!u){var Q=f(H);Q?Y!==Q&&(Y&&v(Y,H),e||(e=Y),Y=_t._focused=r=Q):r&&r===Y&&(e&&!e.isInserted()&&(e=null),Y=_t._focused=e,e=null,c())}Y&&v(Y,H)},w[g]=function(){u=!0},w[C]=function(H){var Y=_t._focused;Y&&s&&Y._handleMouseEvent("mouseup",H),u=s=!1},mt.add(l,w),mt.add(o,{load:c});var S=!1,L=!1,P={doubleclick:"click",mousedrag:"mousemove"},O=!1,k,I,x,A,R,U,F,B;function G(H,Y,Q,$,ee,re,de){var _e=!1,ye;function Te(ue,he){if(ue.responds(he)){if(ye||(ye=new Ui(he,$,ee,Y||ue,re?ee.subtract(re):null)),ue.emit(he,ye)&&(S=!0,ye.prevented&&(L=!0),ye.stopped))return _e=!0}else{var Se=P[he];if(Se)return Te(ue,Se)}}for(;H&&H!==de&&!Te(H,Q);)H=H._parent;return _e}function W(H,Y,Q,$,ee,re){return H._project.removeOn(Q),L=S=!1,R&&G(R,null,Q,$,ee,re)||Y&&Y!==R&&!Y.isDescendant(R)&&G(Y,null,Q==="mousedrag"?"mousemove":Q,$,ee,re,R)||G(H,R||Y||H,Q,$,ee,re)}var j={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:T,_handleMouseEvent:function(H,Y,Q){var $=this._itemEvents,ee=$.native[H],re=H==="mousemove",de=this._scope.tool,_e=this;function ye(Be){return $.virtual[Be]||_e.responds(Be)||de&&de.responds(Be)}re&&s&&ye("mousedrag")&&(H="mousedrag"),Q||(Q=this.getEventPoint(Y));var Te=this.getBounds().contains(Q),ue=ee&&Te&&_e._project.hitTest(Q,{tolerance:0,fill:!0,stroke:!0}),he=ue&&ue.item||null,Se=!1,Ie={};if(Ie[H.substr(5)]=!0,ee&&he!==A&&(A&&G(A,null,"mouseleave",Y,Q),he&&G(he,null,"mouseenter",Y,Q),A=he),O^Te&&(G(this,null,Te?"mouseenter":"mouseleave",Y,Q),Se=!0),(Te||Ie.drag)&&!Q.equals(I)&&(W(this,he,re?H:"mousemove",Y,Q,I),Se=!0),O=Te,Ie.down&&Te||Ie.up&&k){if(W(this,he,H,Y,Q,k),Ie.down){if(B=he===U&&Date.now()-F<300,x=U=he,!L&&he){for(var Pe=he;Pe&&!Pe.responds("mousedrag");)Pe=Pe._parent;Pe&&(R=he)}k=Q}else Ie.up&&(!L&&he===x&&(F=Date.now(),W(this,he,B?"doubleclick":"click",Y,Q,k),B=!1),x=R=null);O=!1,Se=!0}I=Q,Se&&de&&(S=de._handleMouseEvent(H,Y,Q,Ie)||S),Y.cancelable!==!1&&(S&&!Ie.move||Ie.down&&ye("mouseup"))&&Y.preventDefault()},_handleKeyEvent:function(H,Y,Q,$){var ee=this._scope,re=ee.tool,de;function _e(ye){ye.responds(H)&&(Ke=ee,ye.emit(H,de=de||new Ni(H,Y,Q,$)))}this.isVisible()&&(_e(this),re&&re.responds(H)&&_e(re))},_countItemEvent:function(H,Y){var Q=this._itemEvents,$=Q.native,ee=Q.virtual;for(var re in j)$[re]=($[re]||0)+(j[re][H]||0)*Y;ee[H]=(ee[H]||0)+Y},statics:{updateFocus:c,_resetState:function(){s=u=S=O=!1,e=r=k=I=x=A=R=U=F=B=null}}}}),Mi=_t.extend({_class:"CanvasView",initialize:function(r,s){if(!(s instanceof o.HTMLCanvasElement)){var u=ie.read(arguments,1);if(u.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+h.slice(arguments,1));s=St.getCanvas(u)}var f=this._context=s.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(b.getAttribute(s,"hidpi"))){var c=o.devicePixelRatio||1,v=dt.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=c/v}_t.call(this,r,s),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(r,s){var u=this._pixelRatio;if(e.base.call(this,r*u,s*u),u!==1){var f=this._element,c=this._context;if(!b.hasAttribute(f,"resize")){var v=f.style;v.width=r+"px",v.height=s+"px"}c.restore(),c.save(),c.scale(u,u)}},getContext:function(){return this._context},getPixelSize:function e(r){var s=Ke.agent,u;if(s&&s.firefox)u=e.base.call(this,r);else{var f=this._context,c=f.font;f.font=r+" serif",u=parseFloat(f.font),f.font=c}return u},getTextWidth:function(e,r){var s=this._context,u=s.font,f=0;s.font=e;for(var c=0,v=r.length;c<v;c++)f=Math.max(f,s.measureText(r[c]).width);return s.font=u,f},update:function(){if(!this._needsUpdate)return!1;var e=this._project,r=this._context,s=this._viewSize;return r.clearRect(0,0,s.width+1,s.height+1),e&&e.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Ur=h.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return $r.modifiers}}),Ni=Ur.extend({_class:"KeyEvent",initialize:function(r,s,u,f){this.type=r,this.event=s,this.key=u,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),$r=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"	",space:" ",enter:"\r"},s={},u={},f,c,v=new h({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=Ke&&Ke.agent;return _&&_.mac?this.meta:this.control}}});function d(_){var C=_.key||_.keyIdentifier;return C=/^U\+/.test(C)?String.fromCharCode(parseInt(C.substr(2),16)):/^Arrow[A-Z]/.test(C)?C.substr(5):C==="Unidentified"||C===n?String.fromCharCode(_.keyCode):C,e[C]||(C.length>1?h.hyphenate(C):C.toLowerCase())}function g(_,C,T,w){var S=_t._focused,L;if(s[C]=_,_?u[C]=T:delete u[C],C.length>1&&(L=h.camelize(C))in v){v[L]=_;var P=Ke&&Ke.agent;if(L==="meta"&&P&&P.mac)if(_)f={};else{for(var O in f)O in u&&g(!1,O,f[O],w);f=null}}else _&&f&&(f[C]=T);S&&S._handleKeyEvent(_?"keydown":"keyup",w,C,T)}return mt.add(l,{keydown:function(_){var C=d(_),T=Ke&&Ke.agent;C.length>1||T&&T.chrome&&(_.altKey||T.mac&&_.metaKey||!T.mac&&_.ctrlKey)?g(!0,C,r[C]||(C.length>1?"":C),_):c=C},keypress:function(_){if(c){var C=d(_),T=_.charCode,w=T>=32?String.fromCharCode(T):C.length>1?"":C;C!==c&&(C=w.toLowerCase()),g(!0,C,w,_),c=null}},keyup:function(_){var C=d(_);C in u&&g(!1,C,u[C],_)}}),mt.add(o,{blur:function(_){for(var C in u)g(!1,C,u[C],_)}}),{modifiers:v,isDown:function(_){return!!s[_]}}},Ui=Ur.extend({_class:"MouseEvent",initialize:function(r,s,u,f,c){this.type=r,this.event=s,this.point=u,this.target=f,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Dr=Ur.extend({_class:"ToolEvent",_item:null,initialize:function(r,s,u){this.tool=r,this.type=s,this.event=u},_choosePoint:function(e,r){return e||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var r=e.item,s=r._parent;/^(Group|CompoundPath)$/.test(s._class);)r=s,s=s._parent;this._item=r}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),fi=y.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){y.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,r,s,u){Ke=this._scope,u.drag&&!this.responds(e)&&(e="mousemove");var f=u.move||u.drag,c=this.responds(e),v=this.minDistance,d=this.maxDistance,g=!1,_=this;function C(w,S){var L=s,P=f?_._point:_._downPoint||L;if(f){if(_._moveCount>=0&&L.equals(P))return!1;if(P&&(w!=null||S!=null)){var O=L.subtract(P),k=O.getLength();if(k<(w||0))return!1;S&&(L=P.add(O.normalize(Math.min(k,S))))}_._moveCount++}return _._point=L,_._lastPoint=P||L,u.down&&(_._moveCount=-1,_._downPoint=L,_._downCount++),!0}function T(){c&&(g=_.emit(e,new Dr(_,e,r))||g)}if(u.down)C(),T();else if(u.up)C(null,d),T();else if(c)for(;C(v,d);)T();return g}}),ci=h.extend(m,{_class:"Tween",statics:{easings:new h({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(r,s,u,f,c,v){this.object=r;var d=typeof c,g=d==="function";this.type=g?d:d==="string"?c:"linear",this.easing=g?c:e.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var _=s||u;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(s),this._to=_&&this._getState(u),v!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var r=this.easing(e),s=this._keys,u=function(C){return typeof C=="function"?C(r,e):C},f=0,c=s&&s.length;f<c;f++){var v=s[f],d=u(this._from[v]),g=u(this._to[v]),_=d&&g&&d.__add&&g.__add?g.__subtract(d).__multiply(r).__add(d):(g-d)*r+d;this._setProperty(this._parsedKeys[v],_)}this.responds("update")&&this.emit("update",new h({progress:e,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var r=this._startTime,s=r?(e-r)/this.duration:0;r||(this._startTime=e),this.update(s)},_getState:function(e){for(var r=this._keys,s={},u=0,f=r.length;u<f;u++){var c=r[u],v=this._parsedKeys[c],d=this._getProperty(v),g;if(e){var _=this._resolveValue(d,e[c]);this._setProperty(v,_),g=this._getProperty(v),g=g&&g.clone?g.clone():g,this._setProperty(v,d)}else g=d&&d.clone?d.clone():d;s[c]=g}return s},_resolveValue:function(e,r){if(r){if(Array.isArray(r)&&r.length===2){var s=r[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(e,s[0],r[1]):r}else if(typeof r=="string"){var u=r.match(/^[+\-*/]=(.*)/);if(u){var f=JSON.parse(u[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,r[0],f)}}}return r},_calculate:function(e,r,s){return Ke.PaperScript.calculateBinary(e,r,s)},_parseKeys:function(e){for(var r={},s=0,u=e.length;s<u;s++){var f=e[s],c=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[f]=c.split("/")}return r},_getProperty:function(e,r){for(var s=this.object,u=0,f=e.length-(r||0);u<f&&s;u++)s=s[e[u]];return s},_setProperty:function(e,r){var s=this._getProperty(e,1);s&&(s[e[e.length-1]]=r)}}),Br={request:function(e){var r=new i.XMLHttpRequest;return r.open((e.method||"get").toUpperCase(),e.url,h.pick(e.async,!0)),e.mimeType&&r.overrideMimeType(e.mimeType),r.onload=function(){var s=r.status;s===0||s===200?e.onLoad&&e.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var s=r.status,u='Could not load "'+e.url+'" (Status: '+s+")";if(e.onError)e.onError(u,s);else throw new Error(u)},r.send(null)}},St=h.exports.CanvasProvider={canvases:[],getCanvas:function(e,r,s){if(!o)return null;var u,f=!0;typeof e=="object"&&(r=e.height,e=e.width),this.canvases.length?u=this.canvases.pop():(u=l.createElement("canvas"),f=!1);var c=u.getContext("2d",s||{});if(!c)throw new Error("Canvas "+u+" is unable to provide a 2D context.");return u.width===e&&u.height===r?f&&c.clearRect(0,0,e+1,r+1):(u.width=e,u.height=r),c.save(),u},getContext:function(e,r,s){var u=this.getCanvas(e,r,s);return u?u.getContext("2d",s||{}):null},release:function(e){var r=e&&e.canvas?e.canvas:e;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},Xt=new function(){var e=Math.min,r=Math.max,s=Math.abs,u,f,c,v,d,g,_,C,T,w,S;function L(R,U,F){return .2989*R+.587*U+.114*F}function P(R,U,F,W){var G=W-L(R,U,F);T=R+G,w=U+G,S=F+G;var W=L(T,w,S),j=e(T,w,S),H=r(T,w,S);if(j<0){var Y=W-j;T=W+(T-W)*W/Y,w=W+(w-W)*W/Y,S=W+(S-W)*W/Y}if(H>255){var Q=255-W,$=H-W;T=W+(T-W)*Q/$,w=W+(w-W)*Q/$,S=W+(S-W)*Q/$}}function O(R,U,F){return r(R,U,F)-e(R,U,F)}function k(R,U,F,B){var G=[R,U,F],W=r(R,U,F),j=e(R,U,F),H;j=j===R?0:j===U?1:2,W=W===R?0:W===U?1:2,H=e(j,W)===0?r(j,W)===1?2:1:0,G[W]>G[j]?(G[H]=(G[H]-G[j])*B/(G[W]-G[j]),G[W]=B):G[H]=G[W]=0,G[j]=0,T=G[0],w=G[1],S=G[2]}var I={multiply:function(){T=d*u/255,w=g*f/255,S=_*c/255},screen:function(){T=d+u-d*u/255,w=g+f-g*f/255,S=_+c-_*c/255},overlay:function(){T=d<128?2*d*u/255:255-2*(255-d)*(255-u)/255,w=g<128?2*g*f/255:255-2*(255-g)*(255-f)/255,S=_<128?2*_*c/255:255-2*(255-_)*(255-c)/255},"soft-light":function(){var R=u*d/255;T=R+d*(255-(255-d)*(255-u)/255-R)/255,R=f*g/255,w=R+g*(255-(255-g)*(255-f)/255-R)/255,R=c*_/255,S=R+_*(255-(255-_)*(255-c)/255-R)/255},"hard-light":function(){T=u<128?2*u*d/255:255-2*(255-u)*(255-d)/255,w=f<128?2*f*g/255:255-2*(255-f)*(255-g)/255,S=c<128?2*c*_/255:255-2*(255-c)*(255-_)/255},"color-dodge":function(){T=d===0?0:u===255?255:e(255,255*d/(255-u)),w=g===0?0:f===255?255:e(255,255*g/(255-f)),S=_===0?0:c===255?255:e(255,255*_/(255-c))},"color-burn":function(){T=d===255?255:u===0?0:r(0,255-(255-d)*255/u),w=g===255?255:f===0?0:r(0,255-(255-g)*255/f),S=_===255?255:c===0?0:r(0,255-(255-_)*255/c)},darken:function(){T=d<u?d:u,w=g<f?g:f,S=_<c?_:c},lighten:function(){T=d>u?d:u,w=g>f?g:f,S=_>c?_:c},difference:function(){T=d-u,T<0&&(T=-T),w=g-f,w<0&&(w=-w),S=_-c,S<0&&(S=-S)},exclusion:function(){T=d+u*(255-d-d)/255,w=g+f*(255-g-g)/255,S=_+c*(255-_-_)/255},hue:function(){k(u,f,c,O(d,g,_)),P(T,w,S,L(d,g,_))},saturation:function(){k(d,g,_,O(u,f,c)),P(T,w,S,L(d,g,_))},luminosity:function(){P(d,g,_,L(u,f,c))},color:function(){P(u,f,c,L(d,g,_))},add:function(){T=e(d+u,255),w=e(g+f,255),S=e(_+c,255)},subtract:function(){T=r(d-u,0),w=r(g-f,0),S=r(_-c,0)},average:function(){T=(d+u)/2,w=(g+f)/2,S=(_+c)/2},negation:function(){T=255-s(255-u-d),w=255-s(255-f-g),S=255-s(255-c-_)}},x=this.nativeModes=h.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(R){this[R]=!0},{}),A=St.getContext(1,1,{willReadFrequently:!0});A&&(h.each(I,function(R,U){var F=U==="darken",B=!1;A.save();try{A.fillStyle=F?"#300":"#a00",A.fillRect(0,0,1,1),A.globalCompositeOperation=U,A.globalCompositeOperation===U&&(A.fillStyle=F?"#a00":"#300",A.fillRect(0,0,1,1),B=A.getImageData(0,0,1,1).data[0]!==F?170:51)}catch{}A.restore(),x[U]=B}),St.release(A)),this.process=function(R,U,F,B,G){var W=U.canvas,j=R==="normal";if(j||x[R])F.save(),F.setTransform(1,0,0,1,0,0),F.globalAlpha=B,j||(F.globalCompositeOperation=R),F.drawImage(W,G.x,G.y),F.restore();else{var H=I[R];if(!H)return;for(var Y=F.getImageData(G.x,G.y,W.width,W.height),Q=Y.data,$=U.getImageData(0,0,W.width,W.height).data,ee=0,re=Q.length;ee<re;ee+=4){u=$[ee],d=Q[ee],f=$[ee+1],g=Q[ee+1],c=$[ee+2],_=Q[ee+2],v=$[ee+3],C=Q[ee+3],H();var de=v*B/255,_e=1-de;Q[ee]=de*T+_e*d,Q[ee+1]=de*w+_e*g,Q[ee+2]=de*S+_e*_,Q[ee+3]=v*B+_e*C}F.putImageData(Y,G.x,G.y)}}},xt=new function(){var e="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",u={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function f(d,g,_){return v(l.createElementNS(e,d),g,_)}function c(d,g){var _=u[g],C=_?d.getAttributeNS(_,g):d.getAttribute(g);return C==="null"?null:C}function v(d,g,_){for(var C in g){var T=g[C],w=u[C];typeof T=="number"&&_&&(T=_.number(T)),w?d.setAttributeNS(w,C,T):d.setAttribute(C,T)}return d}return{svg:e,xmlns:r,xlink:s,create:f,get:c,set:v}},pi=h.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,r){return!r&&(e instanceof pt||e instanceof Ue||e instanceof Wt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,r){var s=h.capitalize(r),u=e[2];this[r]={type:e[1],property:r,attribute:e[0],toSVG:u,fromSVG:u&&h.each(u,function(f,c){this[f]=c},{}),exportFilter:e[3],get:"get"+s,set:"set"+s}},{});new function(){var e;function r(I,x,A){var R=new h,U=I.getTranslation();if(x){var F;I.isInvertible()?(I=I._shiftless(),F=I._inverseTransform(U),U=null):F=new D,R[A?"cx":"x"]=F.x,R[A?"cy":"y"]=F.y}if(!I.isIdentity()){var B=I.decompose();if(B){var G=[],W=B.rotation,j=B.scaling,H=B.skewing;U&&!U.isZero()&&G.push("translate("+e.point(U)+")"),W&&G.push("rotate("+e.number(W)+")"),(!K.isZero(j.x-1)||!K.isZero(j.y-1))&&G.push("scale("+e.point(j)+")"),H.x&&G.push("skewX("+e.number(H.x)+")"),H.y&&G.push("skewY("+e.number(H.y)+")"),R.transform=G.join(" ")}else R.transform="matrix("+I.getValues().join(",")+")"}return R}function s(I,x){for(var A=r(I._matrix),R=I._children,U=xt.create("g",A,e),F=0,B=R.length;F<B;F++){var G=R[F],W=O(G,x);if(W)if(G.isClipMask()){var j=xt.create("clipPath");j.appendChild(W),L(G,j,"clip"),xt.set(U,{"clip-path":"url(#"+j.id+")"})}else U.appendChild(W)}return U}function u(I,x){var A=r(I._matrix,!0),R=I.getSize(),U=I.getImage();return A.x-=R.width/2,A.y-=R.height/2,A.width=R.width,A.height=R.height,A.href=x.embedImages==!1&&U&&U.src||I.toDataURL(),xt.create("image",A,e)}function f(I,x){var A=x.matchShapes;if(A){var R=I.toShape(!1);if(R)return c(R)}var U=I._segments,F=U.length,B,G=r(I._matrix);if(A&&F>=2&&!I.hasHandles())if(F>2){B=I._closed?"polygon":"polyline";for(var W=[],j=0;j<F;j++)W.push(e.point(U[j]._point));G.points=W.join(" ")}else{B="line";var H=U[0]._point,Y=U[1]._point;G.set({x1:H.x,y1:H.y,x2:Y.x,y2:Y.y})}else B="path",G.d=I.getPathData(null,x.precision);return xt.create(B,G,e)}function c(I){var x=I._type,A=I._radius,R=r(I._matrix,!0,x!=="rectangle");if(x==="rectangle"){x="rect";var U=I._size,F=U.width,B=U.height;R.x-=F/2,R.y-=B/2,R.width=F,R.height=B,A.isZero()&&(A=null)}return A&&(x==="circle"?R.r=A:(R.rx=A.width,R.ry=A.height)),xt.create(x,R,e)}function v(I,x){var A=r(I._matrix),R=I.getPathData(null,x.precision);return R&&(A.d=R),xt.create("path",A,e)}function d(I,x){var A=r(I._matrix,!0),R=I._definition,U=S(R,"symbol"),F=R._item,B=F.getStrokeBounds();return U||(U=xt.create("symbol",{viewBox:e.rectangle(B)}),U.appendChild(O(F,x)),L(R,U,"symbol")),A.href="#"+U.id,A.x+=B.x,A.y+=B.y,A.width=B.width,A.height=B.height,A.overflow="visible",xt.create("use",A,e)}function g(I){var x=S(I,"color");if(!x){var A=I.getGradient(),R=A._radial,U=I.getOrigin(),F=I.getDestination(),B;if(R){B={cx:U.x,cy:U.y,r:U.getDistance(F)};var G=I.getHighlight();G&&(B.fx=G.x,B.fy=G.y)}else B={x1:U.x,y1:U.y,x2:F.x,y2:F.y};B.gradientUnits="userSpaceOnUse",x=xt.create((R?"radial":"linear")+"Gradient",B,e);for(var W=A._stops,j=0,H=W.length;j<H;j++){var Y=W[j],Q=Y._color,$=Q.getAlpha(),ee=Y._offset;B={offset:ee??j/(H-1)},Q&&(B["stop-color"]=Q.toCSS(!0)),$<1&&(B["stop-opacity"]=$),x.appendChild(xt.create("stop",B,e))}L(I,x,"color")}return"url(#"+x.id+")"}function _(I){var x=xt.create("text",r(I._matrix,!0),e);return x.textContent=I._content,x}var C={Group:s,Layer:s,Raster:u,Path:f,Shape:c,CompoundPath:v,SymbolItem:d,PointText:_};function T(I,x,A){var R={},U=!A&&I.getParent(),F=[];return I._name!=null&&(R.id=I._name),h.each(pi,function(B){var G=B.get,W=B.type,j=I[G]();if(B.exportFilter?B.exportFilter(I,j):!U||!h.equals(U[G](),j)){if(W==="color"&&j!=null){var H=j.getAlpha();H<1&&(R[B.attribute+"-opacity"]=H)}W==="style"?F.push(B.attribute+": "+j):R[B.attribute]=j==null?"none":W==="color"?j.gradient?g(j):j.toCSS(!0):W==="array"?j.join(","):W==="lookup"?B.toSVG[j]:j}}),F.length&&(R.style=F.join(";")),R.opacity===1&&delete R.opacity,I._visible||(R.visibility="hidden"),xt.set(x,R,e)}var w;function S(I,x){return w||(w={ids:{},svgs:{}}),I&&w.svgs[x+"-"+(I._id||I.__id||(I.__id=X.get("svg")))]}function L(I,x,A){w||S();var R=w.ids[A]=(w.ids[A]||0)+1;x.id=A+"-"+R,w.svgs[A+"-"+(I._id||I.__id)]=x}function P(I,x){var A=I,R=null;if(w){A=I.nodeName.toLowerCase()==="svg"&&I;for(var U in w.svgs)R||(A||(A=xt.create("svg"),A.appendChild(I)),R=A.insertBefore(xt.create("defs"),A.firstChild)),R.appendChild(w.svgs[U]);w=null}return x.asString?new i.XMLSerializer().serializeToString(A):A}function O(I,x,A){var R=C[I._class],U=R&&R(I,x);if(U){var F=x.onExport;F&&(U=F(I,U,x)||U);var B=JSON.stringify(I._data);B&&B!=="{}"&&B!=="null"&&U.setAttribute("data-paper-data",B)}return U&&T(I,U,A)}function k(I){return I||(I={}),e=new V(I.precision),I}M.inject({exportSVG:function(I){return I=k(I),P(O(this,I,!0),I)}}),me.inject({exportSVG:function(I){I=k(I);var x=this._children,A=this.getView(),R=h.pick(I.bounds,"view"),U=I.matrix||R==="view"&&A._matrix,F=U&&pe.read([U]),B=R==="view"?new ne([0,0],A.getViewSize()):R==="content"?M._getBounds(x,F,{stroke:!0}).rect:ne.read([R],0,{readNull:!0}),G={version:"1.1",xmlns:xt.svg,"xmlns:xlink":xt.xlink};B&&(G.width=B.width,G.height=B.height,(B.x||B.x===0||B.y||B.y===0)&&(G.viewBox=e.rectangle(B)));var W=xt.create("svg",G,e),j=W;F&&!F.isIdentity()&&(j=W.appendChild(xt.create("g",r(F),e)));for(var H=0,Y=x.length;H<Y;H++)j.appendChild(O(x[H],I,!0));return P(W,I)}})},new function(){var e={},r;function s(x,A,R,U,F,B){var G=xt.get(x,A)||B,W=G==null?U?null:R?"":0:R?G:parseFloat(G);return/%\s*$/.test(G)?W/100*(F?1:r[/x|^width/.test(A)?"width":"height"]):W}function u(x,A,R,U,F,B,G){return A=s(x,A||"x",!1,U,F,B),R=s(x,R||"y",!1,U,F,G),U&&(A==null||R==null)?null:new D(A,R)}function f(x,A,R,U,F){return A=s(x,A||"width",!1,U,F),R=s(x,R||"height",!1,U,F),U&&(A==null||R==null)?null:new ie(A,R)}function c(x,A,R){return x==="none"?null:A==="number"?parseFloat(x):A==="array"?x?x.split(/[\s,]+/g).map(parseFloat):[]:A==="color"?O(x)||x:A==="lookup"?R[x]:x}function v(x,A,R,U){var F=x.childNodes,B=A==="clippath",G=A==="defs",W=new be,j=W._project,H=j._currentStyle,Y=[];if(!B&&!G&&(W=P(W,x,U),j._currentStyle=W._style.clone()),U)for(var Q=x.querySelectorAll("defs"),$=0,ee=Q.length;$<ee;$++)k(Q[$],R,!1);for(var $=0,ee=F.length;$<ee;$++){var re=F[$],de;re.nodeType===1&&!/^defs$/i.test(re.nodeName)&&(de=k(re,R,!1))&&!(de instanceof tt)&&Y.push(de)}return W.addChildren(Y),B&&(W=P(W.reduce(),x,U)),j._currentStyle=H,(B||G)&&(W.remove(),W=null),W}function d(x,A){for(var R=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),U=[],F=0,B=R.length;F<B;F+=2)U.push(new D(parseFloat(R[F]),parseFloat(R[F+1])));var G=new Me(U);return A==="polygon"&&G.closePath(),G}function g(x){return pt.create(x.getAttribute("d"))}function _(x,A){var R=(s(x,"href",!0)||"").substring(1),U=A==="radialgradient",F;if(R)F=e[R].getGradient(),F._radial^U&&(F=F.clone(),F._radial=U);else{for(var B=x.childNodes,G=[],W=0,j=B.length;W<j;W++){var H=B[W];H.nodeType===1&&G.push(P(new wr,H))}F=new tr(G,U)}var Y,Q,$,ee=s(x,"gradientUnits",!0)!=="userSpaceOnUse";U?(Y=u(x,"cx","cy",!1,ee,"50%","50%"),Q=Y.add(s(x,"r",!1,!1,ee,"50%"),0),$=u(x,"fx","fy",!0,ee)):(Y=u(x,"x1","y1",!1,ee,"0%","0%"),Q=u(x,"x2","y2",!1,ee,"100%","0%"));var re=P(new gt(F,Y,Q,$),x);return re._scaleToBounds=ee,null}var C={"#document":function(x,A,R,U){for(var F=x.childNodes,B=0,G=F.length;B<G;B++){var W=F[B];if(W.nodeType===1)return k(W,R,U)}},g:v,svg:v,clippath:v,polygon:d,polyline:d,path:g,lineargradient:_,radialgradient:_,image:function(x){var A=new Le(s(x,"href",!0));return A.on("load",function(){var R=f(x);this.setSize(R);var U=u(x).add(R.divide(2));this._matrix.append(new pe().translate(U))}),A},symbol:function(x,A,R,U){return new tt(v(x,A,R,U),!0)},defs:v,use:function(x){var A=(s(x,"href",!0)||"").substring(1),R=e[A],U=u(x);return R?R instanceof tt?R.place(U):R.clone().translate(U):null},circle:function(x){return new Ue.Circle(u(x,"cx","cy"),s(x,"r"))},ellipse:function(x){return new Ue.Ellipse({center:u(x,"cx","cy"),radius:f(x,"rx","ry")})},rect:function(x){return new Ue.Rectangle(new ne(u(x),f(x)),f(x,"rx","ry"))},line:function(x){return new Me.Line(u(x,"x1","y1"),u(x,"x2","y2"))},text:function(x){var A=new Nr(u(x).add(u(x,"dx","dy")));return A.setContent(x.textContent.trim()||""),A},switch:v};function T(x,A,R,U){if(x.transform){for(var F=(U.getAttribute(R)||"").split(/\)\s*/g),B=new pe,G=0,W=F.length;G<W;G++){var j=F[G];if(!j)break;for(var H=j.split(/\(\s*/),Y=H[0],Q=H[1].split(/[\s,]+/g),$=0,ee=Q.length;$<ee;$++)Q[$]=parseFloat(Q[$]);switch(Y){case"matrix":B.append(new pe(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]));break;case"rotate":B.rotate(Q[0],Q[1]||0,Q[2]||0);break;case"translate":B.translate(Q[0],Q[1]||0);break;case"scale":B.scale(Q);break;case"skewX":B.skew(Q[0],0);break;case"skewY":B.skew(0,Q[0]);break}}x.transform(B)}}function w(x,A,R){var U=R==="fill-opacity"?"getFillColor":"getStrokeColor",F=x[U]&&x[U]();F&&F.setAlpha(parseFloat(A))}var S=h.set(h.each(pi,function(x){this[x.attribute]=function(A,R){if(A[x.set]&&(A[x.set](c(R,x.type,x.fromSVG)),x.type==="color")){var U=A[x.get]();if(U&&U._scaleToBounds){var F=A.getBounds();U.transform(new pe().translate(F.getPoint()).scale(F.getSize()))}}}},{}),{id:function(x,A){e[A]=x,x.setName&&x.setName(A)},"clip-path":function(x,A){var R=O(A);if(R)if(R=R.clone(),R.setClipMask(!0),x instanceof be)x.insertChild(0,R);else return new be(R,x)},gradientTransform:T,transform:T,"fill-opacity":w,"stroke-opacity":w,visibility:function(x,A){x.setVisible&&x.setVisible(A==="visible")},display:function(x,A){x.setVisible&&x.setVisible(A!==null)},"stop-color":function(x,A){x.setColor&&x.setColor(A)},"stop-opacity":function(x,A){x._color&&x._color.setAlpha(parseFloat(A))},offset:function(x,A){if(x.setOffset){var R=A.match(/(.*)%$/);x.setOffset(R?R[1]/100:parseFloat(A))}},viewBox:function(x,A,R,U,F){var B=new ne(c(A,"array")),G=f(U,null,null,!0),W,j;if(x instanceof be){var H=G?G.divide(B.getSize()):1,j=new pe().scale(H).translate(B.getPoint().negate());W=x}else x instanceof tt&&(G&&B.setSize(G),W=x._item);if(W){if(L(U,"overflow",F)!=="visible"){var Y=new Ue.Rectangle(B);Y.setClipMask(!0),W.addChild(Y)}j&&W.transform(j)}}});function L(x,A,R){var U=x.attributes[A],F=U&&U.value;if(!F&&x.style){var B=h.camelize(A);F=x.style[B],!F&&R.node[B]!==R.parent[B]&&(F=R.node[B])}return F?F==="none"?null:F:n}function P(x,A,R){var U=A.parentNode,F={node:dt.getStyles(A)||{},parent:!R&&!/^defs$/i.test(U.tagName)&&dt.getStyles(U)||{}};return h.each(S,function(B,G){var W=L(A,G,F);x=W!==n&&B(x,W,G,A,F)||x}),x}function O(x){var A=x&&x.match(/\((?:["'#]*)([^"')]+)/),R=A&&A[1],U=R&&e[o?R.replace(o.location.href.split("#")[0]+"#",""):R];return U&&U._scaleToBounds&&(U=U.clone(),U._scaleToBounds=!0),U}function k(x,A,R){var U=x.nodeName.toLowerCase(),F=U!=="#document",B=l.body,G,W,j;R&&F&&(r=Ke.getView().getSize(),r=f(x,null,null,!0)||r,G=xt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),W=x.parentNode,j=x.nextSibling,G.appendChild(x),B.appendChild(G));var H=Ke.settings,Y=H.applyMatrix,Q=H.insertItems;H.applyMatrix=!1,H.insertItems=!1;var $=C[U],ee=$&&$(x,U,A,R)||null;if(H.insertItems=Q,H.applyMatrix=Y,ee){F&&!(ee instanceof be)&&(ee=P(ee,x,R));var re=A.onImport,de=F&&x.getAttribute("data-paper-data");re&&(ee=re(x,ee,A)||ee),A.expandShapes&&ee instanceof Ue&&(ee.remove(),ee=ee.toPath()),de&&(ee._data=JSON.parse(de))}return G&&(B.removeChild(G),W&&(j?W.insertBefore(x,j):W.appendChild(x))),R&&(e={},ee&&h.pick(A.applyMatrix,Y)&&ee.matrix.apply(!0,!0)),ee}function I(x,A,R){if(!x)return null;A=typeof A=="function"?{onLoad:A}:A||{};var U=Ke,F=null;function B(H){try{var Y=typeof H=="object"?H:new i.DOMParser().parseFromString(H.trim(),"image/svg+xml");if(!Y.nodeName)throw Y=null,new Error("Unsupported SVG source: "+x);Ke=U,F=k(Y,A,!0),(!A||A.insert!==!1)&&R._insertItem(n,F);var Q=A.onLoad;Q&&Q(F,H)}catch($){G($)}}function G(H,Y){var Q=A.onError;if(Q)Q(H,Y);else throw new Error(H)}if(typeof x=="string"&&!/^[\s\S]*</.test(x)){var W=l.getElementById(x);W?B(W):Br.request({url:x,async:!0,onLoad:B,onError:G})}else if(typeof File<"u"&&x instanceof File){var j=new FileReader;return j.onload=function(){B(j.result)},j.onerror=function(){G(j.error)},j.readAsText(x)}else B(x);return F}M.inject({importSVG:function(x,A){return I(x,A,this)}}),me.inject({importSVG:function(x,A){return this.activate(),I(x,A,this)}})},h.exports.PaperScript=(function(){var e=this,r=e.acorn;if(!r&&typeof ru<"u")try{r=au()}catch{}if(!r){var s,u;r=s=u={},function(P,O){if(typeof s=="object"&&typeof u=="object")return O(s);if(typeof n=="function"&&n.amd)return n(["exports"],O);O(P.acorn||(P.acorn={}))}(this,function(P){P.version="0.5.0";var O,k,I,x;P.parse=function(Z,J){return k=String(Z),I=k.length,R(J),oa(),Lo(O.program)};var A=P.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(Z){O=Z||{};for(var J in A)Object.prototype.hasOwnProperty.call(O,J)||(O[J]=A[J]);x=O.sourceFile||null}var U=P.getLineInfo=function(Z,J){for(var oe=1,ce=0;;){ri.lastIndex=ce;var ze=ri.exec(Z);if(ze&&ze.index<J)++oe,ce=ze.index+ze[0].length;else break}return{line:oe,column:J-ce}};P.tokenize=function(Z,J){k=String(Z),I=k.length,R(J),oa();var oe={};function ce(ze){return de=G,Xr(ze),oe.start=B,oe.end=G,oe.startLoc=W,oe.endLoc=j,oe.type=H,oe.value=Y,oe}return ce.jumpTo=function(ze,qe){if(F=ze,O.locations){$=1,ee=ri.lastIndex=0;for(var Ze;(Ze=ri.exec(k))&&Ze.index<ze;)++$,ee=Ze.index+Ze[0].length}Q=qe,ii()},ce};var F,B,G,W,j,H,Y,Q,$,ee,re,de,_e,ye,Te,ue;function he(Z,J){var oe=U(k,Z);J+=" ("+oe.line+":"+oe.column+")";var ce=new SyntaxError(J);throw ce.pos=Z,ce.loc=oe,ce.raisedAt=F,ce}var Se=[],Ie={type:"num"},Pe={type:"regexp"},Be={type:"string"},De={type:"name"},He={type:"eof"},We={keyword:"break"},Ve={keyword:"case",beforeExpr:!0},Et={keyword:"catch"},we={keyword:"continue"},ht={keyword:"debugger"},yt={keyword:"default"},at={keyword:"do",isLoop:!0},wt={keyword:"else",beforeExpr:!0},Ut={keyword:"finally"},It={keyword:"for",isLoop:!0},zt={keyword:"function"},Lt={keyword:"if"},bt={keyword:"return",beforeExpr:!0},Zt={keyword:"switch"},Dt={keyword:"throw",beforeExpr:!0},Gt={keyword:"try"},lr={keyword:"var"},Yt={keyword:"while",isLoop:!0},ei={keyword:"with"},Vr={keyword:"new",beforeExpr:!0},di={keyword:"this"},vi={keyword:"null",atomValue:null},gi={keyword:"true",atomValue:!0},zr={keyword:"false",atomValue:!1},Qe={keyword:"in",binop:7,beforeExpr:!0},mi={break:We,case:Ve,catch:Et,continue:we,debugger:ht,default:yt,do:at,else:wt,finally:Ut,for:It,function:zt,if:Lt,return:bt,switch:Zt,throw:Dt,try:Gt,var:lr,while:Yt,with:ei,null:vi,true:gi,false:zr,new:Vr,in:Qe,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:di,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Gr={type:"[",beforeExpr:!0},Hr={type:"]"},gr={type:"{",beforeExpr:!0},mr={type:"}"},$t={type:"(",beforeExpr:!0},jt={type:")"},a={type:",",beforeExpr:!0},p={type:";",beforeExpr:!0},E={type:":",beforeExpr:!0},N={type:"."},q={type:"?",beforeExpr:!0},te={binop:10,beforeExpr:!0},ae={isAssign:!0,beforeExpr:!0},xe={isAssign:!0,beforeExpr:!0},Ce={postfix:!0,prefix:!0,isUpdate:!0},je={prefix:!0,beforeExpr:!0},Je={binop:1,beforeExpr:!0},kt={binop:2,beforeExpr:!0},_r={binop:3,beforeExpr:!0},qr={binop:4,beforeExpr:!0},Cr={binop:5,beforeExpr:!0},ti={binop:6,beforeExpr:!0},kr={binop:7,beforeExpr:!0},Tr={binop:8,beforeExpr:!0},fo={binop:9,prefix:!0,beforeExpr:!0},co={binop:10,beforeExpr:!0};P.tokTypes={bracketL:Gr,bracketR:Hr,braceL:gr,braceR:mr,parenL:$t,parenR:jt,comma:a,semi:p,colon:E,dot:N,question:q,slash:te,eq:ae,name:De,eof:He,num:Ie,regexp:Pe,string:Be};for(var ra in mi)P.tokTypes["_"+ra]=mi[ra];function _i(Z){Z=Z.split(" ");var J="",oe=[];e:for(var ce=0;ce<Z.length;++ce){for(var ze=0;ze<oe.length;++ze)if(oe[ze][0].length==Z[ce].length){oe[ze].push(Z[ce]);continue e}oe.push([Z[ce]])}function qe(st){if(st.length==1)return J+="return str === "+JSON.stringify(st[0])+";";J+="switch(str){";for(var ir=0;ir<st.length;++ir)J+="case "+JSON.stringify(st[ir])+":";J+="return true}return false;"}if(oe.length>3){oe.sort(function(st,ir){return ir.length-st.length}),J+="switch(str.length){";for(var ce=0;ce<oe.length;++ce){var Ze=oe[ce];J+="case "+Ze[0].length+":",qe(Ze)}J+="}"}else qe(Z);return new Function("str",J)}var po=_i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),vo=_i("class enum extends super const export import"),ia=_i("implements interface let package private protected public static yield"),Di=_i("eval arguments"),go=_i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),mo=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,na="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",_o="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",aa=new RegExp("["+na+"]"),xo=new RegExp("["+na+_o+"]"),Bi=/[\n\r\u2028\u2029]/,ri=/\r\n|[\n\r\u2028\u2029]/g,Vi=P.isIdentifierStart=function(Z){return Z<65?Z===36:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&aa.test(String.fromCharCode(Z))},sa=P.isIdentifierChar=function(Z){return Z<48?Z===36:Z<58?!0:Z<65?!1:Z<91?!0:Z<97?Z===95:Z<123?!0:Z>=170&&xo.test(String.fromCharCode(Z))};function Wr(){this.line=$,this.column=F-ee}function oa(){$=1,F=ee=0,Q=!0,ii()}function Ft(Z,J){G=F,O.locations&&(j=new Wr),H=Z,ii(),Y=J,Q=Z.beforeExpr}function yo(){var Z=O.onComment&&O.locations&&new Wr,J=F,oe=k.indexOf("*/",F+=2);if(oe===-1&&he(F-2,"Unterminated comment"),F=oe+2,O.locations){ri.lastIndex=J;for(var ce;(ce=ri.exec(k))&&ce.index<F;)++$,ee=ce.index+ce[0].length}O.onComment&&O.onComment(!0,k.slice(J+2,oe),J,F,Z,O.locations&&new Wr)}function hn(){for(var Z=F,J=O.onComment&&O.locations&&new Wr,oe=k.charCodeAt(F+=2);F<I&&oe!==10&&oe!==13&&oe!==8232&&oe!==8233;)++F,oe=k.charCodeAt(F);O.onComment&&O.onComment(!1,k.slice(Z+2,F),Z,F,J,O.locations&&new Wr)}function ii(){for(;F<I;){var Z=k.charCodeAt(F);if(Z===32)++F;else if(Z===13){++F;var J=k.charCodeAt(F);J===10&&++F,O.locations&&(++$,ee=F)}else if(Z===10||Z===8232||Z===8233)++F,O.locations&&(++$,ee=F);else if(Z>8&&Z<14)++F;else if(Z===47){var J=k.charCodeAt(F+1);if(J===42)yo();else if(J===47)hn();else break}else if(Z===160)++F;else if(Z>=5760&&mo.test(String.fromCharCode(Z)))++F;else break}}function bo(){var Z=k.charCodeAt(F+1);return Z>=48&&Z<=57?ha(!0):(++F,Ft(N))}function So(){var Z=k.charCodeAt(F+1);return Q?(++F,ua()):Z===61?Rt(xe,2):Rt(te,1)}function wo(){var Z=k.charCodeAt(F+1);return Z===61?Rt(xe,2):Rt(co,1)}function Co(Z){var J=k.charCodeAt(F+1);return J===Z?Rt(Z===124?Je:kt,2):J===61?Rt(xe,2):Rt(Z===124?_r:Cr,1)}function ko(){var Z=k.charCodeAt(F+1);return Z===61?Rt(xe,2):Rt(qr,1)}function To(Z){var J=k.charCodeAt(F+1);return J===Z?J==45&&k.charCodeAt(F+2)==62&&Bi.test(k.slice(de,F))?(F+=3,hn(),ii(),Xr()):Rt(Ce,2):J===61?Rt(xe,2):Rt(fo,1)}function Eo(Z){var J=k.charCodeAt(F+1),oe=1;return J===Z?(oe=Z===62&&k.charCodeAt(F+2)===62?3:2,k.charCodeAt(F+oe)===61?Rt(xe,oe+1):Rt(Tr,oe)):J==33&&Z==60&&k.charCodeAt(F+2)==45&&k.charCodeAt(F+3)==45?(F+=4,hn(),ii(),Xr()):(J===61&&(oe=k.charCodeAt(F+2)===61?3:2),Rt(kr,oe))}function Io(Z){var J=k.charCodeAt(F+1);return J===61?Rt(ti,k.charCodeAt(F+2)===61?3:2):Rt(Z===61?ae:je,1)}function Po(Z){switch(Z){case 46:return bo();case 40:return++F,Ft($t);case 41:return++F,Ft(jt);case 59:return++F,Ft(p);case 44:return++F,Ft(a);case 91:return++F,Ft(Gr);case 93:return++F,Ft(Hr);case 123:return++F,Ft(gr);case 125:return++F,Ft(mr);case 58:return++F,Ft(E);case 63:return++F,Ft(q);case 48:var J=k.charCodeAt(F+1);if(J===120||J===88)return Ao();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ha(!1);case 34:case 39:return Oo(Z);case 47:return So();case 37:case 42:return wo();case 124:case 38:return Co(Z);case 94:return ko();case 43:case 45:return To(Z);case 60:case 62:return Eo(Z);case 61:case 33:return Io(Z);case 126:return Rt(je,1)}return!1}function Xr(Z){if(Z?F=B+1:B=F,O.locations&&(W=new Wr),Z)return ua();if(F>=I)return Ft(He);var J=k.charCodeAt(F);if(Vi(J)||J===92)return fa();var oe=Po(J);if(oe===!1){var ce=String.fromCharCode(J);if(ce==="\\"||aa.test(ce))return fa();he(F,"Unexpected character '"+ce+"'")}return oe}function Rt(Z,J){var oe=k.slice(F,F+J);F+=J,Ft(Z,oe)}function ua(){for(var ze="",Z,J,oe=F;;){F>=I&&he(oe,"Unterminated regular expression");var ce=k.charAt(F);if(Bi.test(ce)&&he(oe,"Unterminated regular expression"),Z)Z=!1;else{if(ce==="[")J=!0;else if(ce==="]"&&J)J=!1;else if(ce==="/"&&!J)break;Z=ce==="\\"}++F}var ze=k.slice(oe,F);++F;var qe=la();qe&&!/^[gmsiy]*$/.test(qe)&&he(oe,"Invalid regexp flag");try{var Ze=new RegExp(ze,qe)}catch(st){st instanceof SyntaxError&&he(oe,st.message),he(st)}return Ft(Pe,Ze)}function xi(Z,J){for(var oe=F,ce=0,ze=0,qe=J??1/0;ze<qe;++ze){var Ze=k.charCodeAt(F),st;if(Ze>=97?st=Ze-97+10:Ze>=65?st=Ze-65+10:Ze>=48&&Ze<=57?st=Ze-48:st=1/0,st>=Z)break;++F,ce=ce*Z+st}return F===oe||J!=null&&F-oe!==J?null:ce}function Ao(){F+=2;var Z=xi(16);return Z==null&&he(B+2,"Expected hexadecimal number"),Vi(k.charCodeAt(F))&&he(F,"Identifier directly after number"),Ft(Ie,Z)}function ha(Z){var J=F,oe=!1,ce=k.charCodeAt(F)===48;!Z&&xi(10)===null&&he(J,"Invalid number"),k.charCodeAt(F)===46&&(++F,xi(10),oe=!0);var ze=k.charCodeAt(F);(ze===69||ze===101)&&(ze=k.charCodeAt(++F),(ze===43||ze===45)&&++F,xi(10)===null&&he(J,"Invalid number"),oe=!0),Vi(k.charCodeAt(F))&&he(F,"Identifier directly after number");var qe=k.slice(J,F),Ze;return oe?Ze=parseFloat(qe):!ce||qe.length===1?Ze=parseInt(qe,10):/[89]/.test(qe)||ue?he(J,"Invalid number"):Ze=parseInt(qe,8),Ft(Ie,Ze)}function Oo(Z){F++;for(var J="";;){F>=I&&he(B,"Unterminated string constant");var oe=k.charCodeAt(F);if(oe===Z)return++F,Ft(Be,J);if(oe===92){oe=k.charCodeAt(++F);var ce=/^[0-7]+/.exec(k.slice(F,F+3));for(ce&&(ce=ce[0]);ce&&parseInt(ce,8)>255;)ce=ce.slice(0,-1);if(ce==="0"&&(ce=null),++F,ce)ue&&he(F-2,"Octal literal in strict mode"),J+=String.fromCharCode(parseInt(ce,8)),F+=ce.length-1;else switch(oe){case 110:J+=`
`;break;case 114:J+="\r";break;case 120:J+=String.fromCharCode(zi(2));break;case 117:J+=String.fromCharCode(zi(4));break;case 85:J+=String.fromCharCode(zi(8));break;case 116:J+="	";break;case 98:J+="\b";break;case 118:J+="\v";break;case 102:J+="\f";break;case 48:J+="\0";break;case 13:k.charCodeAt(F)===10&&++F;case 10:O.locations&&(ee=F,++$);break;default:J+=String.fromCharCode(oe);break}}else(oe===13||oe===10||oe===8232||oe===8233)&&he(B,"Unterminated string constant"),J+=String.fromCharCode(oe),++F}}function zi(Z){var J=xi(16,Z);return J===null&&he(B,"Bad character escape sequence"),J}var ni;function la(){ni=!1;for(var Z,J=!0,oe=F;;){var ce=k.charCodeAt(F);if(sa(ce))ni&&(Z+=k.charAt(F)),++F;else if(ce===92){ni||(Z=k.slice(oe,F)),ni=!0,k.charCodeAt(++F)!=117&&he(F,"Expecting Unicode escape sequence \\uXXXX"),++F;var ze=zi(4),qe=String.fromCharCode(ze);qe||he(F-1,"Invalid Unicode escape"),(J?Vi(ze):sa(ze))||he(F-4,"Invalid Unicode escape"),Z+=qe}else break;J=!1}return ni?Z:k.slice(oe,F)}function fa(){var Z=la(),J=De;return!ni&&go(Z)&&(J=mi[Z]),Ft(J,Z)}function nt(){re=B,de=G,_e=j,Xr()}function ln(Z){if(ue=Z,F=B,O.locations)for(;F<ee;)ee=k.lastIndexOf(`
`,ee-2)+1,--$;ii(),Xr()}function ca(){this.type=null,this.start=B,this.end=null}function pa(){this.start=W,this.end=null,x!==null&&(this.source=x)}function Bt(){var Z=new ca;return O.locations&&(Z.loc=new pa),O.directSourceFile&&(Z.sourceFile=O.directSourceFile),O.ranges&&(Z.range=[B,0]),Z}function Er(Z){var J=new ca;return J.start=Z.start,O.locations&&(J.loc=new pa,J.loc.start=Z.loc.start),O.ranges&&(J.range=[Z.range[0],0]),J}function $e(Z,J){return Z.type=J,Z.end=de,O.locations&&(Z.loc.end=_e),O.ranges&&(Z.range[1]=de),Z}function fn(Z){return O.ecmaVersion>=5&&Z.type==="ExpressionStatement"&&Z.expression.type==="Literal"&&Z.expression.value==="use strict"}function Ct(Z){if(H===Z)return nt(),!0}function Gi(){return!O.strictSemicolons&&(H===He||H===mr||Bi.test(k.slice(de,B)))}function Zr(){!Ct(p)&&!Gi()&&xr()}function At(Z){H===Z?nt():xr()}function xr(){he(B,"Unexpected token")}function Hi(Z){Z.type!=="Identifier"&&Z.type!=="MemberExpression"&&he(Z.start,"Assigning to rvalue"),ue&&Z.type==="Identifier"&&Di(Z.name)&&he(Z.start,"Assigning to "+Z.name+" in strict mode")}function Lo(Z){re=de=F,O.locations&&(_e=new Wr),ye=ue=null,Te=[],Xr();var J=Z||Bt(),oe=!0;for(Z||(J.body=[]);H!==He;){var ce=rr();J.body.push(ce),oe&&fn(ce)&&ln(!0),oe=!1}return $e(J,"Program")}var cn={kind:"loop"},Fo={kind:"switch"};function rr(){(H===te||H===xe&&Y=="/=")&&Xr(!0);var Z=H,J=Bt();switch(Z){case We:case we:nt();var oe=Z===We;Ct(p)||Gi()?J.label=null:H!==De?xr():(J.label=Ir(),Zr());for(var ce=0;ce<Te.length;++ce){var ze=Te[ce];if((J.label==null||ze.name===J.label.name)&&(ze.kind!=null&&(oe||ze.kind==="loop")||J.label&&oe))break}return ce===Te.length&&he(J.start,"Unsyntactic "+Z.keyword),$e(J,oe?"BreakStatement":"ContinueStatement");case ht:return nt(),Zr(),$e(J,"DebuggerStatement");case at:return nt(),Te.push(cn),J.body=rr(),Te.pop(),At(Yt),J.test=yi(),Zr(),$e(J,"DoWhileStatement");case It:if(nt(),Te.push(cn),At($t),H===p)return pn(J,null);if(H===lr){var qe=Bt();return nt(),va(qe,!0),$e(qe,"VariableDeclaration"),qe.declarations.length===1&&Ct(Qe)?da(J,qe):pn(J,qe)}var qe=Vt(!1,!0);return Ct(Qe)?(Hi(qe),da(J,qe)):pn(J,qe);case zt:return nt(),_n(J,!0);case Lt:return nt(),J.test=yi(),J.consequent=rr(),J.alternate=Ct(wt)?rr():null,$e(J,"IfStatement");case bt:return!ye&&!O.allowReturnOutsideFunction&&he(B,"'return' outside of function"),nt(),Ct(p)||Gi()?J.argument=null:(J.argument=Vt(),Zr()),$e(J,"ReturnStatement");case Zt:nt(),J.discriminant=yi(),J.cases=[],At(gr),Te.push(Fo);for(var Ze,st;H!=mr;)if(H===Ve||H===yt){var ir=H===Ve;Ze&&$e(Ze,"SwitchCase"),J.cases.push(Ze=Bt()),Ze.consequent=[],nt(),ir?Ze.test=Vt():(st&&he(re,"Multiple default clauses"),st=!0,Ze.test=null),At(E)}else Ze||xr(),Ze.consequent.push(rr());return Ze&&$e(Ze,"SwitchCase"),nt(),Te.pop(),$e(J,"SwitchStatement");case Dt:return nt(),Bi.test(k.slice(de,B))&&he(de,"Illegal newline after throw"),J.argument=Vt(),Zr(),$e(J,"ThrowStatement");case Gt:if(nt(),J.block=bi(),J.handler=null,H===Et){var Yr=Bt();nt(),At($t),Yr.param=Ir(),ue&&Di(Yr.param.name)&&he(Yr.param.start,"Binding "+Yr.param.name+" in strict mode"),At(jt),Yr.guard=null,Yr.body=bi(),J.handler=$e(Yr,"CatchClause")}return J.guardedHandlers=Se,J.finalizer=Ct(Ut)?bi():null,!J.handler&&!J.finalizer&&he(J.start,"Missing catch or finally clause"),$e(J,"TryStatement");case lr:return nt(),va(J),Zr(),$e(J,"VariableDeclaration");case Yt:return nt(),J.test=yi(),Te.push(cn),J.body=rr(),Te.pop(),$e(J,"WhileStatement");case ei:return ue&&he(B,"'with' in strict mode"),nt(),J.object=yi(),J.body=rr(),$e(J,"WithStatement");case gr:return bi();case p:return nt(),$e(J,"EmptyStatement");default:var yn=Y,qi=Vt();if(Z===De&&qi.type==="Identifier"&&Ct(E)){for(var ce=0;ce<Te.length;++ce)Te[ce].name===yn&&he(qi.start,"Label '"+yn+"' is already declared");var Bo=H.isLoop?"loop":H===Zt?"switch":null;return Te.push({name:yn,kind:Bo}),J.body=rr(),Te.pop(),J.label=qi,$e(J,"LabeledStatement")}else return J.expression=qi,Zr(),$e(J,"ExpressionStatement")}}function yi(){At($t);var Z=Vt();return At(jt),Z}function bi(Z){var J=Bt(),oe=!0,ce=!1,ze;for(J.body=[],At(gr);!Ct(mr);){var qe=rr();J.body.push(qe),oe&&Z&&fn(qe)&&(ze=ce,ln(ce=!0)),oe=!1}return ce&&!ze&&ln(!1),$e(J,"BlockStatement")}function pn(Z,J){return Z.init=J,At(p),Z.test=H===p?null:Vt(),At(p),Z.update=H===jt?null:Vt(),At(jt),Z.body=rr(),Te.pop(),$e(Z,"ForStatement")}function da(Z,J){return Z.left=J,Z.right=Vt(),At(jt),Z.body=rr(),Te.pop(),$e(Z,"ForInStatement")}function va(Z,J){for(Z.declarations=[],Z.kind="var";;){var oe=Bt();if(oe.id=Ir(),ue&&Di(oe.id.name)&&he(oe.id.start,"Binding "+oe.id.name+" in strict mode"),oe.init=Ct(ae)?Vt(!0,J):null,Z.declarations.push($e(oe,"VariableDeclarator")),!Ct(a))break}return Z}function Vt(Z,J){var oe=dn(J);if(!Z&&H===a){var ce=Er(oe);for(ce.expressions=[oe];Ct(a);)ce.expressions.push(dn(J));return $e(ce,"SequenceExpression")}return oe}function dn(Z){var J=Ro(Z);if(H.isAssign){var oe=Er(J);return oe.operator=Y,oe.left=J,nt(),oe.right=dn(Z),Hi(J),$e(oe,"AssignmentExpression")}return J}function Ro(Z){var J=Mo(Z);if(Ct(q)){var oe=Er(J);return oe.test=J,oe.consequent=Vt(!0),At(E),oe.alternate=Vt(!0,Z),$e(oe,"ConditionalExpression")}return J}function Mo(Z){return vn(gn(),-1,Z)}function vn(Z,J,oe){var ce=H.binop;if(ce!=null&&(!oe||H!==Qe)&&ce>J){var ze=Er(Z);ze.left=Z,ze.operator=Y;var qe=H;nt(),ze.right=vn(gn(),ce,oe);var Ze=$e(ze,qe===Je||qe===kt?"LogicalExpression":"BinaryExpression");return vn(Ze,J,oe)}return Z}function gn(){if(H.prefix){var Z=Bt(),J=H.isUpdate;return Z.operator=Y,Z.prefix=!0,Q=!0,nt(),Z.argument=gn(),J?Hi(Z.argument):ue&&Z.operator==="delete"&&Z.argument.type==="Identifier"&&he(Z.start,"Deleting local variable in strict mode"),$e(Z,J?"UpdateExpression":"UnaryExpression")}for(var oe=No();H.postfix&&!Gi();){var Z=Er(oe);Z.operator=Y,Z.prefix=!1,Z.argument=oe,Hi(oe),nt(),oe=$e(Z,"UpdateExpression")}return oe}function No(){return Si(mn())}function Si(Z,J){if(Ct(N)){var oe=Er(Z);return oe.object=Z,oe.property=Ir(!0),oe.computed=!1,Si($e(oe,"MemberExpression"),J)}else if(Ct(Gr)){var oe=Er(Z);return oe.object=Z,oe.property=Vt(),oe.computed=!0,At(Hr),Si($e(oe,"MemberExpression"),J)}else if(!J&&Ct($t)){var oe=Er(Z);return oe.callee=Z,oe.arguments=xn(jt,!1),Si($e(oe,"CallExpression"),J)}else return Z}function mn(){switch(H){case di:var ce=Bt();return nt(),$e(ce,"ThisExpression");case De:return Ir();case Ie:case Be:case Pe:var ce=Bt();return ce.value=Y,ce.raw=k.slice(B,G),nt(),$e(ce,"Literal");case vi:case gi:case zr:var ce=Bt();return ce.value=H.atomValue,ce.raw=H.keyword,nt(),$e(ce,"Literal");case $t:var Z=W,J=B;nt();var oe=Vt();return oe.start=J,oe.end=G,O.locations&&(oe.loc.start=Z,oe.loc.end=j),O.ranges&&(oe.range=[J,G]),At(jt),oe;case Gr:var ce=Bt();return nt(),ce.elements=xn(Hr,!0,!0),$e(ce,"ArrayExpression");case gr:return Do();case zt:var ce=Bt();return nt(),_n(ce,!1);case Vr:return Uo();default:xr()}}function Uo(){var Z=Bt();return nt(),Z.callee=Si(mn(),!0),Ct($t)?Z.arguments=xn(jt,!1):Z.arguments=Se,$e(Z,"NewExpression")}function Do(){var Z=Bt(),J=!0,oe=!1;for(Z.properties=[],nt();!Ct(mr);){if(J)J=!1;else if(At(a),O.allowTrailingCommas&&Ct(mr))break;var ce={key:ga()},ze=!1,qe;if(Ct(E)?(ce.value=Vt(!0),qe=ce.kind="init"):O.ecmaVersion>=5&&ce.key.type==="Identifier"&&(ce.key.name==="get"||ce.key.name==="set")?(ze=oe=!0,qe=ce.kind=ce.key.name,ce.key=ga(),H!==$t&&xr(),ce.value=_n(Bt(),!1)):xr(),ce.key.type==="Identifier"&&(ue||oe))for(var Ze=0;Ze<Z.properties.length;++Ze){var st=Z.properties[Ze];if(st.key.name===ce.key.name){var ir=qe==st.kind||ze&&st.kind==="init"||qe==="init"&&(st.kind==="get"||st.kind==="set");ir&&!ue&&qe==="init"&&st.kind==="init"&&(ir=!1),ir&&he(ce.key.start,"Redefinition of property")}}Z.properties.push(ce)}return $e(Z,"ObjectExpression")}function ga(){return H===Ie||H===Be?mn():Ir(!0)}function _n(Z,J){H===De?Z.id=Ir():J?xr():Z.id=null,Z.params=[];var oe=!0;for(At($t);!Ct(jt);)oe?oe=!1:At(a),Z.params.push(Ir());var ce=ye,ze=Te;if(ye=!0,Te=[],Z.body=bi(!0),ye=ce,Te=ze,ue||Z.body.body.length&&fn(Z.body.body[0]))for(var qe=Z.id?-1:0;qe<Z.params.length;++qe){var Ze=qe<0?Z.id:Z.params[qe];if((ia(Ze.name)||Di(Ze.name))&&he(Ze.start,"Defining '"+Ze.name+"' in strict mode"),qe>=0)for(var st=0;st<qe;++st)Ze.name===Z.params[st].name&&he(Ze.start,"Argument name clash in strict mode")}return $e(Z,J?"FunctionDeclaration":"FunctionExpression")}function xn(Z,J,oe){for(var ce=[],ze=!0;!Ct(Z);){if(ze)ze=!1;else if(At(a),J&&O.allowTrailingCommas&&Ct(Z))break;oe&&H===a?ce.push(null):ce.push(Vt(!0))}return ce}function Ir(Z){var J=Bt();return Z&&O.forbidReserved=="everywhere"&&(Z=!1),H===De?(!Z&&(O.forbidReserved&&(O.ecmaVersion===3?po:vo)(Y)||ue&&ia(Y))&&k.slice(B,G).indexOf("\\")==-1&&he(B,"The keyword '"+Y+"' is reserved"),J.name=Y):Z&&H.keyword?J.name=H.keyword:xr(),Q=!1,nt(),$e(J,"Identifier")}}),r.version||(r=null)}function f(P,O){return(e.acorn||r).parse(P,O)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},v={"-":"__negate","+":"__self"},d=h.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(P){this["__"+P]="#"+P},{__self:function(){return this}});D.inject(d),ie.inject(d),gt.inject(d);function g(P,O,k){var I=c[O];if(P&&P[I]){var x=P[I](k);return O==="!="?!x:x}switch(O){case"+":return P+k;case"-":return P-k;case"*":return P*k;case"/":return P/k;case"%":return P%k;case"==":return P==k;case"!=":return P!=k}}function _(P,O){var k=v[P];if(O&&O[k])return O[k]();switch(P){case"+":return+O;case"-":return-O}}function C(P,O){if(!P)return"";O=O||{};var k=[];function I(ue){for(var he=0,Se=k.length;he<Se;he++){var Ie=k[he];if(Ie[0]>=ue)break;ue+=Ie[1]}return ue}function x(ue){return P.substring(I(ue.range[0]),I(ue.range[1]))}function A(ue,he){return P.substring(I(ue.range[1]),I(he.range[0]))}function R(ue,he){for(var Se=I(ue.range[0]),Ie=I(ue.range[1]),Pe=0,Be=k.length-1;Be>=0;Be--)if(Se>k[Be][0]){Pe=Be+1;break}k.splice(Pe,0,[Se,he.length-Ie+Se]),P=P.substring(0,Se)+he+P.substring(Ie)}function U(ue,he){switch(ue.type){case"UnaryExpression":if(ue.operator in v&&ue.argument.type!=="Literal"){var Se=x(ue.argument);R(ue,'$__("'+ue.operator+'", '+Se+")")}break;case"BinaryExpression":if(ue.operator in c&&ue.left.type!=="Literal"){var Ie=x(ue.left),Pe=x(ue.right),Be=A(ue.left,ue.right),De=ue.operator;R(ue,"__$__("+Ie+","+Be.replace(new RegExp("\\"+De),'"'+De+'"')+", "+Pe+")")}break;case"UpdateExpression":case"AssignmentExpression":var He=he&&he.type;if(!(He==="ForStatement"||He==="BinaryExpression"&&/^[=!<>]/.test(he.operator)||He==="MemberExpression"&&he.computed)){if(ue.type==="UpdateExpression"){var Se=x(ue.argument),We="__$__("+Se+', "'+ue.operator[0]+'", 1)',Ve=Se+" = "+We;ue.prefix?Ve="("+Ve+")":(He==="AssignmentExpression"||He==="VariableDeclarator"||He==="BinaryExpression")&&(x(he.left||he.id)===Se&&(Ve=We),Ve=Se+"; "+Ve),R(ue,Ve)}else if(/^.=$/.test(ue.operator)&&ue.left.type!=="Literal"){var Ie=x(ue.left),Pe=x(ue.right),We=Ie+" = __$__("+Ie+', "'+ue.operator[0]+'", '+Pe+")";R(ue,/^\(.*\)$/.test(x(ue))?"("+We+")":We)}}break}}function F(ue){switch(ue.type){case"ExportDefaultDeclaration":R({range:[ue.start,ue.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var he=ue.declaration,Se=ue.specifiers;if(he){var Ie=he.declarations;Ie&&(Ie.forEach(function(Be){R(Be,"module.exports."+x(Be))}),R({range:[ue.start,he.start+he.kind.length]},""))}else if(Se){var Pe=Se.map(function(Be){var De=x(Be);return"module.exports."+De+" = "+De+"; "}).join("");Pe&&R(ue,Pe)}break}}function B(ue,he,Se){if(ue){for(var Ie in ue)if(Ie!=="range"&&Ie!=="loc"){var Pe=ue[Ie];if(Array.isArray(Pe))for(var Be=0,De=Pe.length;Be<De;Be++)B(Pe[Be],ue,Se);else Pe&&typeof Pe=="object"&&B(Pe,ue,Se)}Se.operatorOverloading!==!1&&U(ue,he),Se.moduleExports!==!1&&F(ue)}}function G(ue){var he="",Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ue=(Math.abs(ue)<<1)+(ue<0?1:0);ue||!he;){var Ie=ue&31;ue>>=5,ue&&(Ie|=32),he+=Se[Ie]}return he}var W=O.url||"",j=O.sourceMaps,H=O.paperFeatures||{},Y=O.source||P,Q=O.offset||0,$=Ke.agent,ee=$.versionNumber,re=!1,de=/\r\n|\n|\r/mg,_e;if(j&&($.chrome&&ee>=30||$.webkit&&ee>=537.76||$.firefox&&ee>=23||$.node)){if($.node)Q-=2;else if(o&&W&&!o.location.href.indexOf(W)){var ye=l.getElementsByTagName("html")[0].innerHTML;Q=ye.substr(0,ye.indexOf(P)+1).match(de).length+1}re=Q>0&&!($.chrome&&ee>=36||$.safari&&ee>=600||$.firefox&&ee>=40||$.node);var Te=["AA"+G(re?0:Q)+"A"];Te.length=(P.match(de)||[]).length+1+(re?Q:0),_e={version:3,file:W,names:[],mappings:Te.join(";AACA"),sourceRoot:"",sources:[W],sourcesContent:[Y]}}return(H.operatorOverloading!==!1||H.moduleExports!==!1)&&B(f(P,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,H),_e&&(re&&(P=new Array(Q+1).join(`
`)+P),/^(inline|both)$/.test(j)&&(P+=`
//# sourceMappingURL=data:application/json;base64,`+i.btoa(unescape(encodeURIComponent(JSON.stringify(_e))))),P+=`
//# sourceURL=`+(W||"paperscript")),{url:W,source:Y,code:P,map:_e}}function T(P,O,k){Ke=O;var I=O.getView(),x=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(P)&&!/\bnew\s+Tool\b/.test(P)?new fi:null,A=x?x._events:[],R=["onFrame","onResize"].concat(A),U=[],F=[],B,G=typeof P=="object"?P:C(P,k);P=G.code;function W(ee,re){for(var de in ee)(re||!/^_/.test(de))&&new RegExp("([\\b\\s\\W]|^)"+de.replace(/\$/g,"\\$")+"\\b").test(P)&&(U.push(de),F.push(ee[de]))}W({__$__:g,$__:_,paper:O,tool:x},!0),W(O),P="var module = { exports: {} }; "+P;var Q=h.each(R,function(ee){new RegExp("\\s+"+ee+"\\b").test(P)&&(U.push(ee),this.push("module.exports."+ee+" = "+ee+";"))},[]).join(`
`);Q&&(P+=`
`+Q),P+=`
return module.exports;`;var j=Ke.agent;if(l&&(j.chrome||j.firefox&&j.versionNumber<40)){var H=l.createElement("script"),Y=l.head||l.getElementsByTagName("head")[0];j.firefox&&(P=`
`+P),H.appendChild(l.createTextNode("document.__paperscript__ = function("+U+") {"+P+`
}`)),Y.appendChild(H),B=l.__paperscript__,delete l.__paperscript__,Y.removeChild(H)}else B=Function(U,P);var Q=B&&B.apply(O,F),$=Q||{};return h.each(A,function(ee){var re=$[ee];re&&(x[ee]=re)}),I&&($.onResize&&I.setOnResize($.onResize),I.emit("resize",{size:I.size,delta:new D}),$.onFrame&&I.setOnFrame($.onFrame),I.requestUpdate()),Q}function w(P){if(/^text\/(?:x-|)paperscript$/.test(P.type)&&b.getAttribute(P,"ignore")!=="true"){var O=b.getAttribute(P,"canvas"),k=l.getElementById(O),I=P.src||P.getAttribute("data-src"),x=b.hasAttribute(P,"async"),A="data-paper-scope";if(!k)throw new Error('Unable to find canvas with id "'+O+'"');var R=b.get(k.getAttribute(A))||new b().setup(k);return k.setAttribute(A,R._id),I?Br.request({url:I,async:x,mimeType:"text/plain",onLoad:function(U){T(U,R,I)}}):T(P.innerHTML,R,P.baseURI),P.setAttribute("data-paper-ignore","true"),R}}function S(){h.each(l&&l.getElementsByTagName("script"),w)}function L(P){return P?w(P):S()}return o&&(l.readyState==="complete"?setTimeout(S):mt.add(o,{load:S})),{compile:C,execute:T,load:L,parse:f,calculateBinary:g,calculateUnary:_}}).call(this);var Ke=new(b.inject(h.exports,{Base:h,Numerical:K,Key:$r,DomEvent:mt,DomElement:dt,document:l,window:o,Symbol:tt,PlacedSymbol:it}));return Ke.agent.node&&Sa(Ke),typeof n=="function"&&n.amd?n("paper",Ke):t&&(t.exports=Ke),Ke}).call(gs,typeof self=="object"?self:null)})(ms);var Qi=ms.exports;const Lr=new Qi.PaperScope;Lr.setup(new Lr.Size(1e3,800));function su(t,i,n=52,o=50){return i?t.map((b,y)=>{const z=i.getPath(b,0,y*o,n),V=[];let K=new Lr.Path;return z.commands.map(X=>{switch(X.type){case"M":K.moveTo(X);break;case"L":K.lineTo(X);break;case"C":K.cubicCurveTo({x:X.x1,y:X.y1},{x:X.x2,y:X.y2},{x:X.x,y:X.y});break;case"Q":K.quadraticCurveTo({x:X.x1,y:X.y1},{x:X.x,y:X.y});break;case"Z":K.closePath(),V.push(K),K=new Qi.Path;break}}),V}).map(b=>{const y=b.reduce((V,K)=>(K.rotate(-18,{x:0,y:0}),V.addChild(K),V),new Qi.CompoundPath({})),z=y.children.map(V=>V.curves.map(K=>{const X=K.getNearestPoint({x:-1e3,y:K.point1.y}),D=K.getNearestPoint({x:1e3,y:K.point1.y}),le=new Lr.Path([new Lr.Segment({x:X.x,y:1e3}),new Lr.Segment({x:X.x,y:X.y}),new Lr.Segment({x:D.x,y:D.y}),new Lr.Segment({x:D.x,y:1e3})]);return le.closePath(),le}).reduce((K,X)=>(K.addChild(X),K),new Qi.CompoundPath({}))).map(V=>V.exportSVG({precision:2}).getAttribute("d")).join(`
`);return{line:y,shadow:z}}).map(({line:b,shadow:y})=>({shadow:[y],d:b.exportSVG().getAttribute("d")})):[]}/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},o=Object.defineProperty,l=o(n,n,n)&&o}catch{}return l}(),i=function(n){if(this==null)throw TypeError();var o=String(this),l=o.length,h=n?Number(n):0;if(h!=h&&(h=0),!(h<0||h>=l)){var m=o.charCodeAt(h),b;return m>=55296&&m<=56319&&l>h+1&&(b=o.charCodeAt(h+1),b>=56320&&b<=57343)?(m-55296)*1024+b-56320+65536:m}};t?t(String.prototype,"codePointAt",{value:i,configurable:!0,writable:!0}):String.prototype.codePointAt=i}();var qn=0,_s=-3;function Ti(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function ou(t,i){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=i,this.destLen=0,this.ltree=new Ti,this.dtree=new Ti}var xs=new Ti,ys=new Ti,Wn=new Uint8Array(30),Xn=new Uint16Array(30),bs=new Uint8Array(30),Ss=new Uint16Array(30),uu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ca=new Ti,fr=new Uint8Array(320);function ws(t,i,n,o){var l,h;for(l=0;l<n;++l)t[l]=0;for(l=0;l<30-n;++l)t[l+n]=l/n|0;for(h=o,l=0;l<30;++l)i[l]=h,h+=1<<t[l]}function hu(t,i){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)i.table[n]=0;for(i.table[5]=32,n=0;n<32;++n)i.trans[n]=n}var ka=new Uint16Array(16);function bn(t,i,n,o){var l,h;for(l=0;l<16;++l)t.table[l]=0;for(l=0;l<o;++l)t.table[i[n+l]]++;for(t.table[0]=0,h=0,l=0;l<16;++l)ka[l]=h,h+=t.table[l];for(l=0;l<o;++l)i[n+l]&&(t.trans[ka[i[n+l]]++]=l)}function lu(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var i=t.tag&1;return t.tag>>>=1,i}function cr(t,i,n){if(!i)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var o=t.tag&65535>>>16-i;return t.tag>>>=i,t.bitcount-=i,o+n}function Mn(t,i){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,o=0,l=0,h=t.tag;do o=2*o+(h&1),h>>>=1,++l,n+=i.table[l],o-=i.table[l];while(o>=0);return t.tag=h,t.bitcount-=l,i.trans[n+o]}function fu(t,i,n){var o,l,h,m,b,y;for(o=cr(t,5,257),l=cr(t,5,1),h=cr(t,4,4),m=0;m<19;++m)fr[m]=0;for(m=0;m<h;++m){var z=cr(t,3,0);fr[uu[m]]=z}for(bn(Ca,fr,0,19),b=0;b<o+l;){var V=Mn(t,Ca);switch(V){case 16:var K=fr[b-1];for(y=cr(t,2,3);y;--y)fr[b++]=K;break;case 17:for(y=cr(t,3,3);y;--y)fr[b++]=0;break;case 18:for(y=cr(t,7,11);y;--y)fr[b++]=0;break;default:fr[b++]=V;break}}bn(i,fr,0,o),bn(n,fr,o,l)}function Ta(t,i,n){for(;;){var o=Mn(t,i);if(o===256)return qn;if(o<256)t.dest[t.destLen++]=o;else{var l,h,m,b;for(o-=257,l=cr(t,Wn[o],Xn[o]),h=Mn(t,n),m=t.destLen-cr(t,bs[h],Ss[h]),b=m;b<m+l;++b)t.dest[t.destLen++]=t.dest[b]}}}function cu(t){for(var i,n,o;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(i=t.source[t.sourceIndex+1],i=256*i+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],i!==(~n&65535))return _s;for(t.sourceIndex+=4,o=i;o;--o)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,qn}function pu(t,i){var n=new ou(t,i),o,l,h;do{switch(o=lu(n),l=cr(n,2,0),l){case 0:h=cu(n);break;case 1:h=Ta(n,xs,ys);break;case 2:fu(n,n.ltree,n.dtree),h=Ta(n,n.ltree,n.dtree);break;default:h=_s}if(h!==qn)throw new Error("Data error")}while(!o);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}hu(xs,ys);ws(Wn,Xn,4,3);ws(bs,Ss,2,1);Wn[28]=0;Xn[28]=258;var du=pu;function ai(t,i,n,o,l){return Math.pow(1-l,3)*t+3*Math.pow(1-l,2)*l*i+3*(1-l)*Math.pow(l,2)*n+Math.pow(l,3)*o}function Sr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Sr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Sr.prototype.addPoint=function(t,i){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof i=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=i,this.y2=i),i<this.y1&&(this.y1=i),i>this.y2&&(this.y2=i))};Sr.prototype.addX=function(t){this.addPoint(t,null)};Sr.prototype.addY=function(t){this.addPoint(null,t)};Sr.prototype.addBezier=function(t,i,n,o,l,h,m,b){var y=[t,i],z=[n,o],V=[l,h],K=[m,b];this.addPoint(t,i),this.addPoint(m,b);for(var X=0;X<=1;X++){var D=6*y[X]-12*z[X]+6*V[X],le=-3*y[X]+9*z[X]-9*V[X]+3*K[X],ie=3*z[X]-3*y[X];if(le===0){if(D===0)continue;var fe=-ie/D;0<fe&&fe<1&&(X===0&&this.addX(ai(y[X],z[X],V[X],K[X],fe)),X===1&&this.addY(ai(y[X],z[X],V[X],K[X],fe)));continue}var ne=Math.pow(D,2)-4*ie*le;if(!(ne<0)){var Oe=(-D+Math.sqrt(ne))/(2*le);0<Oe&&Oe<1&&(X===0&&this.addX(ai(y[X],z[X],V[X],K[X],Oe)),X===1&&this.addY(ai(y[X],z[X],V[X],K[X],Oe)));var pe=(-D-Math.sqrt(ne))/(2*le);0<pe&&pe<1&&(X===0&&this.addX(ai(y[X],z[X],V[X],K[X],pe)),X===1&&this.addY(ai(y[X],z[X],V[X],K[X],pe)))}}};Sr.prototype.addQuad=function(t,i,n,o,l,h){var m=t+.6666666666666666*(n-t),b=i+2/3*(o-i),y=m+1/3*(l-t),z=b+1/3*(h-i);this.addBezier(t,i,m,b,y,z,l,h)};function Ot(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Ot.prototype.moveTo=function(t,i){this.commands.push({type:"M",x:t,y:i})};Ot.prototype.lineTo=function(t,i){this.commands.push({type:"L",x:t,y:i})};Ot.prototype.curveTo=Ot.prototype.bezierCurveTo=function(t,i,n,o,l,h){this.commands.push({type:"C",x1:t,y1:i,x2:n,y2:o,x:l,y:h})};Ot.prototype.quadTo=Ot.prototype.quadraticCurveTo=function(t,i,n,o){this.commands.push({type:"Q",x1:t,y1:i,x:n,y:o})};Ot.prototype.close=Ot.prototype.closePath=function(){this.commands.push({type:"Z"})};Ot.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Sr){var i=t;this.moveTo(i.x1,i.y1),this.lineTo(i.x2,i.y1),this.lineTo(i.x2,i.y2),this.lineTo(i.x1,i.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};Ot.prototype.getBoundingBox=function(){for(var t=new Sr,i=0,n=0,o=0,l=0,h=0;h<this.commands.length;h++){var m=this.commands[h];switch(m.type){case"M":t.addPoint(m.x,m.y),i=o=m.x,n=l=m.y;break;case"L":t.addPoint(m.x,m.y),o=m.x,l=m.y;break;case"Q":t.addQuad(o,l,m.x1,m.y1,m.x,m.y),o=m.x,l=m.y;break;case"C":t.addBezier(o,l,m.x1,m.y1,m.x2,m.y2,m.x,m.y),o=m.x,l=m.y;break;case"Z":o=i,l=n;break;default:throw new Error("Unexpected path command "+m.type)}}return t.isEmpty()&&t.addPoint(0,0),t};Ot.prototype.draw=function(t){t.beginPath();for(var i=0;i<this.commands.length;i+=1){var n=this.commands[i];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};Ot.prototype.toPathData=function(t){t=t!==void 0?t:2;function i(m){return Math.round(m)===m?""+Math.round(m):m.toFixed(t)}function n(){for(var m=arguments,b="",y=0;y<arguments.length;y+=1){var z=m[y];z>=0&&y>0&&(b+=" "),b+=i(z)}return b}for(var o="",l=0;l<this.commands.length;l+=1){var h=this.commands[l];h.type==="M"?o+="M"+n(h.x,h.y):h.type==="L"?o+="L"+n(h.x,h.y):h.type==="C"?o+="C"+n(h.x1,h.y1,h.x2,h.y2,h.x,h.y):h.type==="Q"?o+="Q"+n(h.x1,h.y1,h.x,h.y):h.type==="Z"&&(o+="Z")}return o};Ot.prototype.toSVG=function(t){var i='<path d="';return i+=this.toPathData(t),i+='"',this.fill&&this.fill!=="black"&&(this.fill===null?i+=' fill="none"':i+=' fill="'+this.fill+'"'),this.stroke&&(i+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),i+="/>",i};Ot.prototype.toDOMElement=function(t){var i=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",i),n};function Cs(t){throw new Error(t)}function Ea(t,i){t||Cs(i)}var Ge={fail:Cs,argument:Ea,assert:Ea},Ia=32768,Pa=2147483648,ui={},Ee={},Xe={};function or(t){return function(){return t}}Ee.BYTE=function(t){return Ge.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Xe.BYTE=or(1);Ee.CHAR=function(t){return[t.charCodeAt(0)]};Xe.CHAR=or(1);Ee.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var i=[],n=0;n<t.length;n+=1)i[n]=t.charCodeAt(n);return i};Xe.CHARARRAY=function(t){return typeof t>"u"?0:t.length};Ee.USHORT=function(t){return[t>>8&255,t&255]};Xe.USHORT=or(2);Ee.SHORT=function(t){return t>=Ia&&(t=-(2*Ia-t)),[t>>8&255,t&255]};Xe.SHORT=or(2);Ee.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Xe.UINT24=or(3);Ee.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Xe.ULONG=or(4);Ee.LONG=function(t){return t>=Pa&&(t=-(2*Pa-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Xe.LONG=or(4);Ee.FIXED=Ee.ULONG;Xe.FIXED=Xe.ULONG;Ee.FWORD=Ee.SHORT;Xe.FWORD=Xe.SHORT;Ee.UFWORD=Ee.USHORT;Xe.UFWORD=Xe.USHORT;Ee.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Xe.LONGDATETIME=or(8);Ee.TAG=function(t){return Ge.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Xe.TAG=or(4);Ee.Card8=Ee.BYTE;Xe.Card8=Xe.BYTE;Ee.Card16=Ee.USHORT;Xe.Card16=Xe.USHORT;Ee.OffSize=Ee.BYTE;Xe.OffSize=Xe.BYTE;Ee.SID=Ee.USHORT;Xe.SID=Xe.USHORT;Ee.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?Ee.NUMBER16(t):Ee.NUMBER32(t)};Xe.NUMBER=function(t){return Ee.NUMBER(t).length};Ee.NUMBER16=function(t){return[28,t>>8&255,t&255]};Xe.NUMBER16=or(3);Ee.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Xe.NUMBER32=or(5);Ee.REAL=function(t){var i=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(i);if(n){var o=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));i=(Math.round(t*o)/o).toString()}for(var l="",h=0,m=i.length;h<m;h+=1){var b=i[h];b==="e"?l+=i[++h]==="-"?"c":"b":b==="."?l+="a":b==="-"?l+="e":l+=b}l+=l.length&1?"f":"ff";for(var y=[30],z=0,V=l.length;z<V;z+=2)y.push(parseInt(l.substr(z,2),16));return y};Xe.REAL=function(t){return Ee.REAL(t).length};Ee.NAME=Ee.CHARARRAY;Xe.NAME=Xe.CHARARRAY;Ee.STRING=Ee.CHARARRAY;Xe.STRING=Xe.CHARARRAY;ui.UTF8=function(t,i,n){for(var o=[],l=n,h=0;h<l;h++,i+=1)o[h]=t.getUint8(i);return String.fromCharCode.apply(null,o)};ui.UTF16=function(t,i,n){for(var o=[],l=n/2,h=0;h<l;h++,i+=2)o[h]=t.getUint16(i);return String.fromCharCode.apply(null,o)};Ee.UTF16=function(t){for(var i=[],n=0;n<t.length;n+=1){var o=t.charCodeAt(n);i[i.length]=o>>8&255,i[i.length]=o&255}return i};Xe.UTF16=function(t){return t.length*2};var Nn={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};ui.MACSTRING=function(t,i,n,o){var l=Nn[o];if(l!==void 0){for(var h="",m=0;m<n;m++){var b=t.getUint8(i+m);b<=127?h+=String.fromCharCode(b):h+=l[b&127]}return h}};var Xi=typeof WeakMap=="function"&&new WeakMap,Zi,vu=function(t){if(!Zi){Zi={};for(var i in Nn)Zi[i]=new String(i)}var n=Zi[t];if(n!==void 0){if(Xi){var o=Xi.get(n);if(o!==void 0)return o}var l=Nn[t];if(l!==void 0){for(var h={},m=0;m<l.length;m++)h[l.charCodeAt(m)]=m+128;return Xi&&Xi.set(n,h),h}}};Ee.MACSTRING=function(t,i){var n=vu(i);if(n!==void 0){for(var o=[],l=0;l<t.length;l++){var h=t.charCodeAt(l);if(h>=128&&(h=n[h],h===void 0))return;o[l]=h}return o}};Xe.MACSTRING=function(t,i){var n=Ee.MACSTRING(t,i);return n!==void 0?n.length:0};function Un(t){return t>=-128&&t<=127}function gu(t,i,n){for(var o=0,l=t.length;i<l&&o<64&&t[i]===0;)++i,++o;return n.push(128|o-1),i}function mu(t,i,n){for(var o=0,l=t.length,h=i;h<l&&o<64;){var m=t[h];if(!Un(m)||m===0&&h+1<l&&t[h+1]===0)break;++h,++o}n.push(o-1);for(var b=i;b<h;++b)n.push(t[b]+256&255);return h}function _u(t,i,n){for(var o=0,l=t.length,h=i;h<l&&o<64;){var m=t[h];if(m===0||Un(m)&&h+1<l&&Un(t[h+1]))break;++h,++o}n.push(64|o-1);for(var b=i;b<h;++b){var y=t[b];n.push(y+65536>>8&255,y+256&255)}return h}Ee.VARDELTAS=function(t){for(var i=0,n=[];i<t.length;){var o=t[i];o===0?i=gu(t,i,n):o>=-128&&o<=127?i=mu(t,i,n):i=_u(t,i,n)}return n};Ee.INDEX=function(t){for(var i=1,n=[i],o=[],l=0;l<t.length;l+=1){var h=Ee.OBJECT(t[l]);Array.prototype.push.apply(o,h),i+=h.length,n.push(i)}if(o.length===0)return[0,0];for(var m=[],b=1+Math.floor(Math.log(i)/Math.log(2))/8|0,y=[void 0,Ee.BYTE,Ee.USHORT,Ee.UINT24,Ee.ULONG][b],z=0;z<n.length;z+=1){var V=y(n[z]);Array.prototype.push.apply(m,V)}return Array.prototype.concat(Ee.Card16(t.length),Ee.OffSize(b),m,o)};Xe.INDEX=function(t){return Ee.INDEX(t).length};Ee.DICT=function(t){for(var i=[],n=Object.keys(t),o=n.length,l=0;l<o;l+=1){var h=parseInt(n[l],0),m=t[h];i=i.concat(Ee.OPERAND(m.value,m.type)),i=i.concat(Ee.OPERATOR(h))}return i};Xe.DICT=function(t){return Ee.DICT(t).length};Ee.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};Ee.OPERAND=function(t,i){var n=[];if(Array.isArray(i))for(var o=0;o<i.length;o+=1)Ge.argument(t.length===i.length,"Not enough arguments given for type"+i),n=n.concat(Ee.OPERAND(t[o],i[o]));else if(i==="SID")n=n.concat(Ee.NUMBER(t));else if(i==="offset")n=n.concat(Ee.NUMBER32(t));else if(i==="number")n=n.concat(Ee.NUMBER(t));else if(i==="real")n=n.concat(Ee.REAL(t));else throw new Error("Unknown operand type "+i);return n};Ee.OP=Ee.BYTE;Xe.OP=Xe.BYTE;var Yi=typeof WeakMap=="function"&&new WeakMap;Ee.CHARSTRING=function(t){if(Yi){var i=Yi.get(t);if(i!==void 0)return i}for(var n=[],o=t.length,l=0;l<o;l+=1){var h=t[l];n=n.concat(Ee[h.type](h.value))}return Yi&&Yi.set(t,n),n};Xe.CHARSTRING=function(t){return Ee.CHARSTRING(t).length};Ee.OBJECT=function(t){var i=Ee[t.type];return Ge.argument(i!==void 0,"No encoding function for type "+t.type),i(t.value)};Xe.OBJECT=function(t){var i=Xe[t.type];return Ge.argument(i!==void 0,"No sizeOf function for type "+t.type),i(t.value)};Ee.TABLE=function(t){for(var i=[],n=t.fields.length,o=[],l=[],h=0;h<n;h+=1){var m=t.fields[h],b=Ee[m.type];Ge.argument(b!==void 0,"No encoding function for field type "+m.type+" ("+m.name+")");var y=t[m.name];y===void 0&&(y=m.value);var z=b(y);m.type==="TABLE"?(l.push(i.length),i=i.concat([0,0]),o.push(z)):i=i.concat(z)}for(var V=0;V<o.length;V+=1){var K=l[V],X=i.length;Ge.argument(X<65536,"Table "+t.tableName+" too big."),i[K]=X>>8,i[K+1]=X&255,i=i.concat(o[V])}return i};Xe.TABLE=function(t){for(var i=0,n=t.fields.length,o=0;o<n;o+=1){var l=t.fields[o],h=Xe[l.type];Ge.argument(h!==void 0,"No sizeOf function for field type "+l.type+" ("+l.name+")");var m=t[l.name];m===void 0&&(m=l.value),i+=h(m),l.type==="TABLE"&&(i+=2)}return i};Ee.RECORD=Ee.TABLE;Xe.RECORD=Xe.TABLE;Ee.LITERAL=function(t){return t};Xe.LITERAL=function(t){return t.length};function Nt(t,i,n){if(i.length&&(i[0].name!=="coverageFormat"||i[0].value===1))for(var o=0;o<i.length;o+=1){var l=i[o];this[l.name]=l.value}if(this.tableName=t,this.fields=i,n)for(var h=Object.keys(n),m=0;m<h.length;m+=1){var b=h[m],y=n[b];this[b]!==void 0&&(this[b]=y)}}Nt.prototype.encode=function(){return Ee.TABLE(this)};Nt.prototype.sizeOf=function(){return Xe.TABLE(this)};function Ei(t,i,n){n===void 0&&(n=i.length);var o=new Array(i.length+1);o[0]={name:t+"Count",type:"USHORT",value:n};for(var l=0;l<i.length;l++)o[l+1]={name:t+l,type:"USHORT",value:i[l]};return o}function Dn(t,i,n){var o=i.length,l=new Array(o+1);l[0]={name:t+"Count",type:"USHORT",value:o};for(var h=0;h<o;h++)l[h+1]={name:t+h,type:"TABLE",value:n(i[h],h)};return l}function Ii(t,i,n){var o=i.length,l=[];l[0]={name:t+"Count",type:"USHORT",value:o};for(var h=0;h<o;h++)l=l.concat(n(i[h],h));return l}function en(t){t.format===1?Nt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ei("glyph",t.glyphs))):t.format===2?Nt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Ii("rangeRecord",t.ranges,function(i){return[{name:"startGlyphID",type:"USHORT",value:i.start},{name:"endGlyphID",type:"USHORT",value:i.end},{name:"startCoverageIndex",type:"USHORT",value:i.index}]}))):Ge.assert(!1,"Coverage format must be 1 or 2.")}en.prototype=Object.create(Nt.prototype);en.prototype.constructor=en;function tn(t){Nt.call(this,"scriptListTable",Ii("scriptRecord",t,function(i,n){var o=i.script,l=o.defaultLangSys;return Ge.assert(!!l,"Unable to write GSUB: script "+i.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:i.tag},{name:"script"+n,type:"TABLE",value:new Nt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Nt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat(Ei("featureIndex",l.featureIndexes)))}].concat(Ii("langSys",o.langSysRecords,function(h,m){var b=h.langSys;return[{name:"langSysTag"+m,type:"TAG",value:h.tag},{name:"langSys"+m,type:"TABLE",value:new Nt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:b.reqFeatureIndex}].concat(Ei("featureIndex",b.featureIndexes)))}]})))}]}))}tn.prototype=Object.create(Nt.prototype);tn.prototype.constructor=tn;function rn(t){Nt.call(this,"featureListTable",Ii("featureRecord",t,function(i,n){var o=i.feature;return[{name:"featureTag"+n,type:"TAG",value:i.tag},{name:"feature"+n,type:"TABLE",value:new Nt("featureTable",[{name:"featureParams",type:"USHORT",value:o.featureParams}].concat(Ei("lookupListIndex",o.lookupListIndexes)))}]}))}rn.prototype=Object.create(Nt.prototype);rn.prototype.constructor=rn;function nn(t,i){Nt.call(this,"lookupListTable",Dn("lookup",t,function(n){var o=i[n.lookupType];return Ge.assert(!!o,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Nt("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Dn("subtable",n.subtables,o)))}))}nn.prototype=Object.create(Nt.prototype);nn.prototype.constructor=nn;var Ae={Table:Nt,Record:Nt,Coverage:en,ScriptList:tn,FeatureList:rn,LookupList:nn,ushortList:Ei,tableList:Dn,recordList:Ii};function Aa(t,i){return t.getUint8(i)}function an(t,i){return t.getUint16(i,!1)}function xu(t,i){return t.getInt16(i,!1)}function Zn(t,i){return t.getUint32(i,!1)}function ks(t,i){var n=t.getInt16(i,!1),o=t.getUint16(i+2,!1);return n+o/65535}function yu(t,i){for(var n="",o=i;o<i+4;o+=1)n+=String.fromCharCode(t.getInt8(o));return n}function bu(t,i,n){for(var o=0,l=0;l<n;l+=1)o<<=8,o+=t.getUint8(i+l);return o}function Su(t,i,n){for(var o=[],l=i;l<n;l+=1)o.push(t.getUint8(l));return o}function wu(t){for(var i="",n=0;n<t.length;n+=1)i+=String.fromCharCode(t[n]);return i}var Cu={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function se(t,i){this.data=t,this.offset=i,this.relativeOffset=0}se.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};se.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};se.prototype.parseCard8=se.prototype.parseByte;se.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};se.prototype.parseCard16=se.prototype.parseUShort;se.prototype.parseSID=se.prototype.parseUShort;se.prototype.parseOffset16=se.prototype.parseUShort;se.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};se.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};se.prototype.parseULong=function(){var t=Zn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};se.prototype.parseOffset32=se.prototype.parseULong;se.prototype.parseFixed=function(){var t=ks(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};se.prototype.parseString=function(t){var i=this.data,n=this.offset+this.relativeOffset,o="";this.relativeOffset+=t;for(var l=0;l<t;l++)o+=String.fromCharCode(i.getUint8(n+l));return o};se.prototype.parseTag=function(){return this.parseString(4)};se.prototype.parseLongDateTime=function(){var t=Zn(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};se.prototype.parseVersion=function(t){var i=an(this.data,this.offset+this.relativeOffset),n=an(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),i+n/t/10};se.prototype.skip=function(t,i){i===void 0&&(i=1),this.relativeOffset+=Cu[t]*i};se.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var i=new Array(t),n=this.data,o=this.offset+this.relativeOffset,l=0;l<t;l++)i[l]=n.getUint32(o),o+=4;return this.relativeOffset+=t*4,i};se.prototype.parseOffset16List=se.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var i=new Array(t),n=this.data,o=this.offset+this.relativeOffset,l=0;l<t;l++)i[l]=n.getUint16(o),o+=2;return this.relativeOffset+=t*2,i};se.prototype.parseShortList=function(t){for(var i=new Array(t),n=this.data,o=this.offset+this.relativeOffset,l=0;l<t;l++)i[l]=n.getInt16(o),o+=2;return this.relativeOffset+=t*2,i};se.prototype.parseByteList=function(t){for(var i=new Array(t),n=this.data,o=this.offset+this.relativeOffset,l=0;l<t;l++)i[l]=n.getUint8(o++);return this.relativeOffset+=t,i};se.prototype.parseList=function(t,i){i||(i=t,t=this.parseUShort());for(var n=new Array(t),o=0;o<t;o++)n[o]=i.call(this);return n};se.prototype.parseList32=function(t,i){i||(i=t,t=this.parseULong());for(var n=new Array(t),o=0;o<t;o++)n[o]=i.call(this);return n};se.prototype.parseRecordList=function(t,i){i||(i=t,t=this.parseUShort());for(var n=new Array(t),o=Object.keys(i),l=0;l<t;l++){for(var h={},m=0;m<o.length;m++){var b=o[m],y=i[b];h[b]=y.call(this)}n[l]=h}return n};se.prototype.parseRecordList32=function(t,i){i||(i=t,t=this.parseULong());for(var n=new Array(t),o=Object.keys(i),l=0;l<t;l++){for(var h={},m=0;m<o.length;m++){var b=o[m],y=i[b];h[b]=y.call(this)}n[l]=h}return n};se.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var i=Object.keys(t),n={},o=0;o<i.length;o++){var l=i[o],h=t[l];n[l]=h.call(this)}return n};se.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var i={};return t&1&&(i.xPlacement=this.parseShort()),t&2&&(i.yPlacement=this.parseShort()),t&4&&(i.xAdvance=this.parseShort()),t&8&&(i.yAdvance=this.parseShort()),t&16&&(i.xPlaDevice=void 0,this.parseShort()),t&32&&(i.yPlaDevice=void 0,this.parseShort()),t&64&&(i.xAdvDevice=void 0,this.parseShort()),t&128&&(i.yAdvDevice=void 0,this.parseShort()),i}};se.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),i=this.parseUShort(),n=new Array(i),o=0;o<i;o++)n[o]=this.parseValueRecord(t);return n};se.prototype.parsePointer=function(t){var i=this.parseOffset16();if(i>0)return new se(this.data,this.offset+i).parseStruct(t)};se.prototype.parsePointer32=function(t){var i=this.parseOffset32();if(i>0)return new se(this.data,this.offset+i).parseStruct(t)};se.prototype.parseListOfLists=function(t){for(var i=this.parseOffset16List(),n=i.length,o=this.relativeOffset,l=new Array(n),h=0;h<n;h++){var m=i[h];if(m===0){l[h]=void 0;continue}if(this.relativeOffset=m,t){for(var b=this.parseOffset16List(),y=new Array(b.length),z=0;z<b.length;z++)this.relativeOffset=m+b[z],y[z]=t.call(this);l[h]=y}else l[h]=this.parseUShortList()}return this.relativeOffset=o,l};se.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,i=this.parseUShort(),n=this.parseUShort();if(i===1)return{format:1,glyphs:this.parseUShortList(n)};if(i===2){for(var o=new Array(n),l=0;l<n;l++)o[l]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:o}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};se.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,i=this.parseUShort();if(i===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(i===2)return{format:2,ranges:this.parseRecordList({start:se.uShort,end:se.uShort,classId:se.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};se.list=function(t,i){return function(){return this.parseList(t,i)}};se.list32=function(t,i){return function(){return this.parseList32(t,i)}};se.recordList=function(t,i){return function(){return this.parseRecordList(t,i)}};se.recordList32=function(t,i){return function(){return this.parseRecordList32(t,i)}};se.pointer=function(t){return function(){return this.parsePointer(t)}};se.pointer32=function(t){return function(){return this.parsePointer32(t)}};se.tag=se.prototype.parseTag;se.byte=se.prototype.parseByte;se.uShort=se.offset16=se.prototype.parseUShort;se.uShortList=se.prototype.parseUShortList;se.uLong=se.offset32=se.prototype.parseULong;se.uLongList=se.prototype.parseULongList;se.struct=se.prototype.parseStruct;se.coverage=se.prototype.parseCoverage;se.classDef=se.prototype.parseClassDef;var Oa={reserved:se.uShort,reqFeatureIndex:se.uShort,featureIndexes:se.uShortList};se.prototype.parseScriptList=function(){return this.parsePointer(se.recordList({tag:se.tag,script:se.pointer({defaultLangSys:se.pointer(Oa),langSysRecords:se.recordList({tag:se.tag,langSys:se.pointer(Oa)})})}))||[]};se.prototype.parseFeatureList=function(){return this.parsePointer(se.recordList({tag:se.tag,feature:se.pointer({featureParams:se.offset16,lookupListIndexes:se.uShortList})}))||[]};se.prototype.parseLookupList=function(t){return this.parsePointer(se.list(se.pointer(function(){var i=this.parseUShort();Ge.argument(1<=i&&i<=9,"GPOS/GSUB lookup type "+i+" unknown.");var n=this.parseUShort(),o=n&16;return{lookupType:i,lookupFlag:n,subtables:this.parseList(se.pointer(t[i])),markFilteringSet:o?this.parseUShort():void 0}})))||[]};se.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),i=this.parseUShort();Ge.argument(t===1&&i<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:se.offset32,featureTableSubstitutionOffset:se.offset32});return n})||[]};var Re={getByte:Aa,getCard8:Aa,getUShort:an,getCard16:an,getShort:xu,getULong:Zn,getFixed:ks,getTag:yu,getOffset:bu,getBytes:Su,bytesToString:wu,Parser:se};function ku(t,i){i.parseUShort(),t.length=i.parseULong(),t.language=i.parseULong();var n;t.groupCount=n=i.parseULong(),t.glyphIndexMap={};for(var o=0;o<n;o+=1)for(var l=i.parseULong(),h=i.parseULong(),m=i.parseULong(),b=l;b<=h;b+=1)t.glyphIndexMap[b]=m,m++}function Tu(t,i,n,o,l){t.length=i.parseUShort(),t.language=i.parseUShort();var h;t.segCount=h=i.parseUShort()>>1,i.skip("uShort",3),t.glyphIndexMap={};for(var m=new Re.Parser(n,o+l+14),b=new Re.Parser(n,o+l+16+h*2),y=new Re.Parser(n,o+l+16+h*4),z=new Re.Parser(n,o+l+16+h*6),V=o+l+16+h*8,K=0;K<h-1;K+=1)for(var X=void 0,D=m.parseUShort(),le=b.parseUShort(),ie=y.parseShort(),fe=z.parseUShort(),ne=le;ne<=D;ne+=1)fe!==0?(V=z.offset+z.relativeOffset-2,V+=fe,V+=(ne-le)*2,X=Re.getUShort(n,V),X!==0&&(X=X+ie&65535)):X=ne+ie&65535,t.glyphIndexMap[ne]=X}function Eu(t,i){var n={};n.version=Re.getUShort(t,i),Ge.argument(n.version===0,"cmap table version should be 0."),n.numTables=Re.getUShort(t,i+2);for(var o=-1,l=n.numTables-1;l>=0;l-=1){var h=Re.getUShort(t,i+4+l*8),m=Re.getUShort(t,i+4+l*8+2);if(h===3&&(m===0||m===1||m===10)||h===0&&(m===0||m===1||m===2||m===3||m===4)){o=Re.getULong(t,i+4+l*8+4);break}}if(o===-1)throw new Error("No valid cmap sub-tables found.");var b=new Re.Parser(t,i+o);if(n.format=b.parseUShort(),n.format===12)ku(n,b);else if(n.format===4)Tu(n,b,t,i,o);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function Iu(t,i,n){t.segments.push({end:i,start:i,delta:-(i-n),offset:0,glyphIndex:n})}function Pu(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function Au(t){var i=!0,n;for(n=t.length-1;n>0;n-=1){var o=t.get(n);if(o.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),i=!1;break}}var l=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:i?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:i?12:20}];i||(l=l.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),l=l.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var h=new Ae.Table("cmap",l);for(h.segments=[],n=0;n<t.length;n+=1){for(var m=t.get(n),b=0;b<m.unicodes.length;b+=1)Iu(h,m.unicodes[b],n);h.segments=h.segments.sort(function(Oe,pe){return Oe.start-pe.start})}Pu(h);var y=h.segments.length,z=0,V=[],K=[],X=[],D=[],le=[],ie=[];for(n=0;n<y;n+=1){var fe=h.segments[n];fe.end<=65535&&fe.start<=65535?(V=V.concat({name:"end_"+n,type:"USHORT",value:fe.end}),K=K.concat({name:"start_"+n,type:"USHORT",value:fe.start}),X=X.concat({name:"idDelta_"+n,type:"SHORT",value:fe.delta}),D=D.concat({name:"idRangeOffset_"+n,type:"USHORT",value:fe.offset}),fe.glyphId!==void 0&&(le=le.concat({name:"glyph_"+n,type:"USHORT",value:fe.glyphId}))):z+=1,!i&&fe.glyphIndex!==void 0&&(ie=ie.concat({name:"cmap12Start_"+n,type:"ULONG",value:fe.start}),ie=ie.concat({name:"cmap12End_"+n,type:"ULONG",value:fe.end}),ie=ie.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:fe.glyphIndex}))}if(h.segCountX2=(y-z)*2,h.searchRange=Math.pow(2,Math.floor(Math.log(y-z)/Math.log(2)))*2,h.entrySelector=Math.log(h.searchRange/2)/Math.log(2),h.rangeShift=h.segCountX2-h.searchRange,h.fields=h.fields.concat(V),h.fields.push({name:"reservedPad",type:"USHORT",value:0}),h.fields=h.fields.concat(K),h.fields=h.fields.concat(X),h.fields=h.fields.concat(D),h.fields=h.fields.concat(le),h.cmap4Length=14+V.length*2+2+K.length*2+X.length*2+D.length*2+le.length*2,!i){var ne=16+ie.length*4;h.cmap12Offset=12+2*2+4+h.cmap4Length,h.fields=h.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ne},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:ie.length/3}]),h.fields=h.fields.concat(ie)}return h}var Ts={parse:Eu,make:Au},Ji=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ou=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Lu=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Kr=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Es(t){this.font=t}Es.prototype.charToGlyphIndex=function(t){var i=t.codePointAt(0),n=this.font.glyphs;if(n){for(var o=0;o<n.length;o+=1)for(var l=n.get(o),h=0;h<l.unicodes.length;h+=1)if(l.unicodes[h]===i)return o}return null};function Is(t){this.cmap=t}Is.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0};function sn(t,i){this.encoding=t,this.charset=i}sn.prototype.charToGlyphIndex=function(t){var i=t.codePointAt(0),n=this.encoding[i];return this.charset.indexOf(n)};function Yn(t){switch(t.version){case 1:this.names=Kr.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var i=0;i<t.numberOfGlyphs;i++)t.glyphNameIndex[i]<Kr.length?this.names[i]=Kr[t.glyphNameIndex[i]]:this.names[i]=t.names[t.glyphNameIndex[i]-Kr.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)this.names[n]=Kr[n+t.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}Yn.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};Yn.prototype.glyphIndexToName=function(t){return this.names[t]};function Fu(t){for(var i,n=t.tables.cmap.glyphIndexMap,o=Object.keys(n),l=0;l<o.length;l+=1){var h=o[l],m=n[h];i=t.glyphs.get(m),i.addUnicode(parseInt(h))}for(var b=0;b<t.glyphs.length;b+=1)i=t.glyphs.get(b),t.cffEncoding?t.isCIDFont?i.name="gid"+b:i.name=t.cffEncoding.charset[b]:t.glyphNames.names&&(i.name=t.glyphNames.glyphIndexToName(b))}function Ru(t){t._IndexToUnicodeMap={};for(var i=t.tables.cmap.glyphIndexMap,n=Object.keys(i),o=0;o<n.length;o+=1){var l=n[o],h=i[l];t._IndexToUnicodeMap[h]===void 0?t._IndexToUnicodeMap[h]={unicodes:[parseInt(l)]}:t._IndexToUnicodeMap[h].unicodes.push(parseInt(l))}}function Mu(t,i){i.lowMemory?Ru(t):Fu(t)}function Nu(t,i,n,o,l){t.beginPath(),t.moveTo(i,n),t.lineTo(o,l),t.stroke()}var jr={line:Nu};function Uu(t,i){var n=i||new Ot;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(o){n=o}}}function Kt(t){this.bindConstructorValues(t)}Kt.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",Uu(this,t.path))};Kt.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Kt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Kt.prototype.getPath=function(t,i,n,o,l){t=t!==void 0?t:0,i=i!==void 0?i:0,n=n!==void 0?n:72;var h,m;o||(o={});var b=o.xScale,y=o.yScale;if(o.hinting&&l&&l.hinting&&(m=this.path&&l.hinting.exec(this,n)),m)h=l.hinting.getCommands(m),t=Math.round(t),i=Math.round(i),b=y=1;else{h=this.path.commands;var z=1/(this.path.unitsPerEm||1e3)*n;b===void 0&&(b=z),y===void 0&&(y=z)}for(var V=new Ot,K=0;K<h.length;K+=1){var X=h[K];X.type==="M"?V.moveTo(t+X.x*b,i+-X.y*y):X.type==="L"?V.lineTo(t+X.x*b,i+-X.y*y):X.type==="Q"?V.quadraticCurveTo(t+X.x1*b,i+-X.y1*y,t+X.x*b,i+-X.y*y):X.type==="C"?V.curveTo(t+X.x1*b,i+-X.y1*y,t+X.x2*b,i+-X.y2*y,t+X.x*b,i+-X.y*y):X.type==="Z"&&V.closePath()}return V};Kt.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],i=[],n=0;n<this.points.length;n+=1){var o=this.points[n];i.push(o),o.lastPointOfContour&&(t.push(i),i=[])}return Ge.argument(i.length===0,"There are still points left in the current contour."),t};Kt.prototype.getMetrics=function(){for(var t=this.path.commands,i=[],n=[],o=0;o<t.length;o+=1){var l=t[o];l.type!=="Z"&&(i.push(l.x),n.push(l.y)),(l.type==="Q"||l.type==="C")&&(i.push(l.x1),n.push(l.y1)),l.type==="C"&&(i.push(l.x2),n.push(l.y2))}var h={xMin:Math.min.apply(null,i),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(h.xMin)||(h.xMin=0),isFinite(h.xMax)||(h.xMax=this.advanceWidth),isFinite(h.yMin)||(h.yMin=0),isFinite(h.yMax)||(h.yMax=0),h.rightSideBearing=this.advanceWidth-h.leftSideBearing-(h.xMax-h.xMin),h};Kt.prototype.draw=function(t,i,n,o,l){this.getPath(i,n,o,l).draw(t)};Kt.prototype.drawPoints=function(t,i,n,o){function l(K,X,D,le){t.beginPath();for(var ie=0;ie<K.length;ie+=1)t.moveTo(X+K[ie].x*le,D+K[ie].y*le),t.arc(X+K[ie].x*le,D+K[ie].y*le,2,0,Math.PI*2,!1);t.closePath(),t.fill()}i=i!==void 0?i:0,n=n!==void 0?n:0,o=o!==void 0?o:24;for(var h=1/this.path.unitsPerEm*o,m=[],b=[],y=this.path,z=0;z<y.commands.length;z+=1){var V=y.commands[z];V.x!==void 0&&m.push({x:V.x,y:-V.y}),V.x1!==void 0&&b.push({x:V.x1,y:-V.y1}),V.x2!==void 0&&b.push({x:V.x2,y:-V.y2})}t.fillStyle="blue",l(m,i,n,h),t.fillStyle="red",l(b,i,n,h)};Kt.prototype.drawMetrics=function(t,i,n,o){var l;i=i!==void 0?i:0,n=n!==void 0?n:0,o=o!==void 0?o:24,l=1/this.path.unitsPerEm*o,t.lineWidth=1,t.strokeStyle="black",jr.line(t,i,-1e4,i,1e4),jr.line(t,-1e4,n,1e4,n);var h=this.xMin||0,m=this.yMin||0,b=this.xMax||0,y=this.yMax||0,z=this.advanceWidth||0;t.strokeStyle="blue",jr.line(t,i+h*l,-1e4,i+h*l,1e4),jr.line(t,i+b*l,-1e4,i+b*l,1e4),jr.line(t,-1e4,n+-m*l,1e4,n+-m*l),jr.line(t,-1e4,n+-y*l,1e4,n+-y*l),t.strokeStyle="green",jr.line(t,i+z*l,-1e4,i+z*l,1e4)};function ji(t,i,n){Object.defineProperty(t,i,{get:function(){return t.path,t[n]},set:function(o){t[n]=o},enumerable:!0,configurable:!0})}function jn(t,i){if(this.font=t,this.glyphs={},Array.isArray(i))for(var n=0;n<i.length;n++){var o=i[n];o.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=o}this.length=i&&i.length||0}jn.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var i=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var o=0;o<n.unicodes.length;o++)i.addUnicode(n.unicodes[o]);this.font.cffEncoding?this.font.isCIDFont?i.name="gid"+t:i.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(i.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};jn.prototype.push=function(t,i){this.glyphs[t]=i,this.length++};function Du(t,i){return new Kt({index:i,font:t})}function Bu(t,i,n,o,l,h){return function(){var m=new Kt({index:i,font:t});return m.path=function(){n(m,o,l);var b=h(t.glyphs,m);return b.unitsPerEm=t.unitsPerEm,b},ji(m,"xMin","_xMin"),ji(m,"xMax","_xMax"),ji(m,"yMin","_yMin"),ji(m,"yMax","_yMax"),m}}function Vu(t,i,n,o){return function(){var l=new Kt({index:i,font:t});return l.path=function(){var h=n(t,l,o);return h.unitsPerEm=t.unitsPerEm,h},l}}var vr={GlyphSet:jn,glyphLoader:Du,ttfGlyphLoader:Bu,cffGlyphLoader:Vu};function Ps(t,i){if(t===i)return!0;if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(var n=0;n<t.length;n+=1)if(!Ps(t[n],i[n]))return!1;return!0}else return!1}function Bn(t){var i;return t.length<1240?i=107:t.length<33900?i=1131:i=32768,i}function Or(t,i,n){var o=[],l=[],h=Re.getCard16(t,i),m,b;if(h!==0){var y=Re.getByte(t,i+2);m=i+(h+1)*y+2;for(var z=i+3,V=0;V<h+1;V+=1)o.push(Re.getOffset(t,z,y)),z+=y;b=m+o[h]}else b=i+2;for(var K=0;K<o.length-1;K+=1){var X=Re.getBytes(t,m+o[K],m+o[K+1]);n&&(X=n(X)),l.push(X)}return{objects:l,startOffset:i,endOffset:b}}function zu(t,i){var n=[],o=Re.getCard16(t,i),l,h;if(o!==0){var m=Re.getByte(t,i+2);l=i+(o+1)*m+2;for(var b=i+3,y=0;y<o+1;y+=1)n.push(Re.getOffset(t,b,m)),b+=m;h=l+n[o]}else h=i+2;return{offsets:n,startOffset:i,endOffset:h}}function Gu(t,i,n,o,l){var h=Re.getCard16(n,o),m=0;if(h!==0){var b=Re.getByte(n,o+2);m=o+(h+1)*b+2}var y=Re.getBytes(n,m+i[t],m+i[t+1]);return l&&(y=l(y)),y}function Hu(t){for(var i="",n=15,o=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var l=t.parseByte(),h=l>>4,m=l&15;if(h===n||(i+=o[h],m===n))break;i+=o[m]}return parseFloat(i)}function qu(t,i){var n,o,l,h;if(i===28)return n=t.parseByte(),o=t.parseByte(),n<<8|o;if(i===29)return n=t.parseByte(),o=t.parseByte(),l=t.parseByte(),h=t.parseByte(),n<<24|o<<16|l<<8|h;if(i===30)return Hu(t);if(i>=32&&i<=246)return i-139;if(i>=247&&i<=250)return n=t.parseByte(),(i-247)*256+n+108;if(i>=251&&i<=254)return n=t.parseByte(),-(i-251)*256-n-108;throw new Error("Invalid b0 "+i)}function Wu(t){for(var i={},n=0;n<t.length;n+=1){var o=t[n][0],l=t[n][1],h=void 0;if(l.length===1?h=l[0]:h=l,i.hasOwnProperty(o)&&!isNaN(i[o]))throw new Error("Object "+i+" already has key "+o);i[o]=h}return i}function As(t,i,n){i=i!==void 0?i:0;var o=new Re.Parser(t,i),l=[],h=[];for(n=n!==void 0?n:t.length;o.relativeOffset<n;){var m=o.parseByte();m<=21?(m===12&&(m=1200+o.parseByte()),l.push([m,h]),h=[]):h.push(qu(o,m))}return Wu(l)}function ki(t,i){return i<=390?i=Ji[i]:i=t[i-391],i}function Os(t,i,n){for(var o={},l,h=0;h<i.length;h+=1){var m=i[h];if(Array.isArray(m.type)){var b=[];b.length=m.type.length;for(var y=0;y<m.type.length;y++)l=t[m.op]!==void 0?t[m.op][y]:void 0,l===void 0&&(l=m.value!==void 0&&m.value[y]!==void 0?m.value[y]:null),m.type[y]==="SID"&&(l=ki(n,l)),b[y]=l;o[m.name]=b}else l=t[m.op],l===void 0&&(l=m.value!==void 0?m.value:null),m.type==="SID"&&(l=ki(n,l)),o[m.name]=l}return o}function Xu(t,i){var n={};return n.formatMajor=Re.getCard8(t,i),n.formatMinor=Re.getCard8(t,i+1),n.size=Re.getCard8(t,i+2),n.offsetSize=Re.getCard8(t,i+3),n.startOffset=i,n.endOffset=i+4,n}var Ls=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Fs=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Zu(t,i){var n=As(t,0,t.byteLength);return Os(n,Ls,i)}function Rs(t,i,n,o){var l=As(t,i,n);return Os(l,Fs,o)}function La(t,i,n,o){for(var l=[],h=0;h<n.length;h+=1){var m=new DataView(new Uint8Array(n[h]).buffer),b=Zu(m,o);b._subrs=[],b._subrsBias=0,b._defaultWidthX=0,b._nominalWidthX=0;var y=b.private[0],z=b.private[1];if(y!==0&&z!==0){var V=Rs(t,z+i,y,o);if(b._defaultWidthX=V.defaultWidthX,b._nominalWidthX=V.nominalWidthX,V.subrs!==0){var K=z+V.subrs,X=Or(t,K+i);b._subrs=X.objects,b._subrsBias=Bn(b._subrs)}b._privateDict=V}l.push(b)}return l}function Yu(t,i,n,o){var l,h,m=new Re.Parser(t,i);n-=1;var b=[".notdef"],y=m.parseCard8();if(y===0)for(var z=0;z<n;z+=1)l=m.parseSID(),b.push(ki(o,l));else if(y===1)for(;b.length<=n;){l=m.parseSID(),h=m.parseCard8();for(var V=0;V<=h;V+=1)b.push(ki(o,l)),l+=1}else if(y===2)for(;b.length<=n;){l=m.parseSID(),h=m.parseCard16();for(var K=0;K<=h;K+=1)b.push(ki(o,l)),l+=1}else throw new Error("Unknown charset format "+y);return b}function ju(t,i,n){var o,l={},h=new Re.Parser(t,i),m=h.parseCard8();if(m===0)for(var b=h.parseCard8(),y=0;y<b;y+=1)o=h.parseCard8(),l[o]=y;else if(m===1){var z=h.parseCard8();o=1;for(var V=0;V<z;V+=1)for(var K=h.parseCard8(),X=h.parseCard8(),D=K;D<=K+X;D+=1)l[D]=o,o+=1}else throw new Error("Unknown encoding format "+m);return new sn(l,n)}function Fa(t,i,n){var o,l,h,m,b=new Ot,y=[],z=0,V=!1,K=!1,X=0,D=0,le,ie,fe,ne;if(t.isCIDFont){var Oe=t.tables.cff.topDict._fdSelect[i.index],pe=t.tables.cff.topDict._fdArray[Oe];le=pe._subrs,ie=pe._subrsBias,fe=pe._defaultWidthX,ne=pe._nominalWidthX}else le=t.tables.cff.topDict._subrs,ie=t.tables.cff.topDict._subrsBias,fe=t.tables.cff.topDict._defaultWidthX,ne=t.tables.cff.topDict._nominalWidthX;var Ne=fe;function me(ve,Ue){K&&b.closePath(),b.moveTo(ve,Ue),K=!0}function M(){var ve;ve=y.length%2!==0,ve&&!V&&(Ne=y.shift()+ne),z+=y.length>>1,y.length=0,V=!0}function be(ve){for(var Ue,Le,it,tt,ot,ke,ct,ge,et,pt,Me,rt,ut=0;ut<ve.length;){var vt=ve[ut];switch(ut+=1,vt){case 1:M();break;case 3:M();break;case 4:y.length>1&&!V&&(Ne=y.shift()+ne,V=!0),D+=y.pop(),me(X,D);break;case 5:for(;y.length>0;)X+=y.shift(),D+=y.shift(),b.lineTo(X,D);break;case 6:for(;y.length>0&&(X+=y.shift(),b.lineTo(X,D),y.length!==0);)D+=y.shift(),b.lineTo(X,D);break;case 7:for(;y.length>0&&(D+=y.shift(),b.lineTo(X,D),y.length!==0);)X+=y.shift(),b.lineTo(X,D);break;case 8:for(;y.length>0;)o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m+y.shift(),b.curveTo(o,l,h,m,X,D);break;case 10:ot=y.pop()+ie,ke=le[ot],ke&&be(ke);break;case 11:return;case 12:switch(vt=ve[ut],ut+=1,vt){case 35:o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),ct=h+y.shift(),ge=m+y.shift(),et=ct+y.shift(),pt=ge+y.shift(),Me=et+y.shift(),rt=pt+y.shift(),X=Me+y.shift(),D=rt+y.shift(),y.shift(),b.curveTo(o,l,h,m,ct,ge),b.curveTo(et,pt,Me,rt,X,D);break;case 34:o=X+y.shift(),l=D,h=o+y.shift(),m=l+y.shift(),ct=h+y.shift(),ge=m,et=ct+y.shift(),pt=m,Me=et+y.shift(),rt=D,X=Me+y.shift(),b.curveTo(o,l,h,m,ct,ge),b.curveTo(et,pt,Me,rt,X,D);break;case 36:o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),ct=h+y.shift(),ge=m,et=ct+y.shift(),pt=m,Me=et+y.shift(),rt=pt+y.shift(),X=Me+y.shift(),b.curveTo(o,l,h,m,ct,ge),b.curveTo(et,pt,Me,rt,X,D);break;case 37:o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),ct=h+y.shift(),ge=m+y.shift(),et=ct+y.shift(),pt=ge+y.shift(),Me=et+y.shift(),rt=pt+y.shift(),Math.abs(Me-X)>Math.abs(rt-D)?X=Me+y.shift():D=rt+y.shift(),b.curveTo(o,l,h,m,ct,ge),b.curveTo(et,pt,Me,rt,X,D);break;default:console.log("Glyph "+i.index+": unknown operator 1200"+vt),y.length=0}break;case 14:y.length>0&&!V&&(Ne=y.shift()+ne,V=!0),K&&(b.closePath(),K=!1);break;case 18:M();break;case 19:case 20:M(),ut+=z+7>>3;break;case 21:y.length>2&&!V&&(Ne=y.shift()+ne,V=!0),D+=y.pop(),X+=y.pop(),me(X,D);break;case 22:y.length>1&&!V&&(Ne=y.shift()+ne,V=!0),X+=y.pop(),me(X,D);break;case 23:M();break;case 24:for(;y.length>2;)o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m+y.shift(),b.curveTo(o,l,h,m,X,D);X+=y.shift(),D+=y.shift(),b.lineTo(X,D);break;case 25:for(;y.length>6;)X+=y.shift(),D+=y.shift(),b.lineTo(X,D);o=X+y.shift(),l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m+y.shift(),b.curveTo(o,l,h,m,X,D);break;case 26:for(y.length%2&&(X+=y.shift());y.length>0;)o=X,l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h,D=m+y.shift(),b.curveTo(o,l,h,m,X,D);break;case 27:for(y.length%2&&(D+=y.shift());y.length>0;)o=X+y.shift(),l=D,h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m,b.curveTo(o,l,h,m,X,D);break;case 28:Ue=ve[ut],Le=ve[ut+1],y.push((Ue<<24|Le<<16)>>16),ut+=2;break;case 29:ot=y.pop()+t.gsubrsBias,ke=t.gsubrs[ot],ke&&be(ke);break;case 30:for(;y.length>0&&(o=X,l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m+(y.length===1?y.shift():0),b.curveTo(o,l,h,m,X,D),y.length!==0);)o=X+y.shift(),l=D,h=o+y.shift(),m=l+y.shift(),D=m+y.shift(),X=h+(y.length===1?y.shift():0),b.curveTo(o,l,h,m,X,D);break;case 31:for(;y.length>0&&(o=X+y.shift(),l=D,h=o+y.shift(),m=l+y.shift(),D=m+y.shift(),X=h+(y.length===1?y.shift():0),b.curveTo(o,l,h,m,X,D),y.length!==0);)o=X,l=D+y.shift(),h=o+y.shift(),m=l+y.shift(),X=h+y.shift(),D=m+(y.length===1?y.shift():0),b.curveTo(o,l,h,m,X,D);break;default:vt<32?console.log("Glyph "+i.index+": unknown operator "+vt):vt<247?y.push(vt-139):vt<251?(Ue=ve[ut],ut+=1,y.push((vt-247)*256+Ue+108)):vt<255?(Ue=ve[ut],ut+=1,y.push(-(vt-251)*256-Ue-108)):(Ue=ve[ut],Le=ve[ut+1],it=ve[ut+2],tt=ve[ut+3],ut+=4,y.push((Ue<<24|Le<<16|it<<8|tt)/65536))}}}return be(n),i.advanceWidth=Ne,b}function Ku(t,i,n,o){var l=[],h,m=new Re.Parser(t,i),b=m.parseCard8();if(b===0)for(var y=0;y<n;y++){if(h=m.parseCard8(),h>=o)throw new Error("CFF table CID Font FDSelect has bad FD index value "+h+" (FD count "+o+")");l.push(h)}else if(b===3){var z=m.parseCard16(),V=m.parseCard16();if(V!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+V);for(var K,X=0;X<z;X++){if(h=m.parseCard8(),K=m.parseCard16(),h>=o)throw new Error("CFF table CID Font FDSelect has bad FD index value "+h+" (FD count "+o+")");if(K>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+K);for(;V<K;V++)l.push(h);V=K}if(K!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+K)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+b);return l}function Qu(t,i,n,o){n.tables.cff={};var l=Xu(t,i),h=Or(t,l.endOffset,Re.bytesToString),m=Or(t,h.endOffset),b=Or(t,m.endOffset,Re.bytesToString),y=Or(t,b.endOffset);n.gsubrs=y.objects,n.gsubrsBias=Bn(n.gsubrs);var z=La(t,i,m.objects,b.objects);if(z.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+z.length);var V=z[0];if(n.tables.cff.topDict=V,V._privateDict&&(n.defaultWidthX=V._privateDict.defaultWidthX,n.nominalWidthX=V._privateDict.nominalWidthX),V.ros[0]!==void 0&&V.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var K=V.fdArray,X=V.fdSelect;if(K===0||X===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");K+=i;var D=Or(t,K),le=La(t,i,D.objects,b.objects);V._fdArray=le,X+=i,V._fdSelect=Ku(t,X,n.numGlyphs,le.length)}var ie=i+V.private[1],fe=Rs(t,ie,V.private[0],b.objects);if(n.defaultWidthX=fe.defaultWidthX,n.nominalWidthX=fe.nominalWidthX,fe.subrs!==0){var ne=ie+fe.subrs,Oe=Or(t,ne);n.subrs=Oe.objects,n.subrsBias=Bn(n.subrs)}else n.subrs=[],n.subrsBias=0;var pe;o.lowMemory?(pe=zu(t,i+V.charStrings),n.nGlyphs=pe.offsets.length):(pe=Or(t,i+V.charStrings),n.nGlyphs=pe.objects.length);var Ne=Yu(t,i+V.charset,n.nGlyphs,b.objects);if(V.encoding===0?n.cffEncoding=new sn(Ou,Ne):V.encoding===1?n.cffEncoding=new sn(Lu,Ne):n.cffEncoding=ju(t,i+V.encoding,Ne),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new vr.GlyphSet(n),o.lowMemory)n._push=function(be){var ve=Gu(be,pe.offsets,t,i+V.charStrings);n.glyphs.push(be,vr.cffGlyphLoader(n,be,Fa,ve))};else for(var me=0;me<n.nGlyphs;me+=1){var M=pe.objects[me];n.glyphs.push(me,vr.cffGlyphLoader(n,me,Fa,M))}}function Ms(t,i){var n,o=Ji.indexOf(t);return o>=0&&(n=o),o=i.indexOf(t),o>=0?n=o+Ji.length:(n=Ji.length+i.length,i.push(t)),n}function Ju(){return new Ae.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function $u(t){var i=new Ae.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);i.names=[];for(var n=0;n<t.length;n+=1)i.names.push({name:"name_"+n,type:"NAME",value:t[n]});return i}function Ns(t,i,n){for(var o={},l=0;l<t.length;l+=1){var h=t[l],m=i[h.name];m!==void 0&&!Ps(m,h.value)&&(h.type==="SID"&&(m=Ms(m,n)),o[h.op]={name:h.name,type:h.type,value:m})}return o}function Ra(t,i){var n=new Ae.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ns(Ls,t,i),n}function Ma(t){var i=new Ae.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return i.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],i}function eh(t){var i=new Ae.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);i.strings=[];for(var n=0;n<t.length;n+=1)i.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return i}function th(){return new Ae.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function rh(t,i){for(var n=new Ae.Record("Charsets",[{name:"format",type:"Card8",value:0}]),o=0;o<t.length;o+=1){var l=t[o],h=Ms(l,i);n.fields.push({name:"glyph_"+o,type:"SID",value:h})}return n}function ih(t){var i=[],n=t.path;i.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var o=0,l=0,h=0;h<n.commands.length;h+=1){var m=void 0,b=void 0,y=n.commands[h];if(y.type==="Q"){var z=.3333333333333333,V=2/3;y={type:"C",x:y.x,y:y.y,x1:Math.round(z*o+V*y.x1),y1:Math.round(z*l+V*y.y1),x2:Math.round(z*y.x+V*y.x1),y2:Math.round(z*y.y+V*y.y1)}}if(y.type==="M")m=Math.round(y.x-o),b=Math.round(y.y-l),i.push({name:"dx",type:"NUMBER",value:m}),i.push({name:"dy",type:"NUMBER",value:b}),i.push({name:"rmoveto",type:"OP",value:21}),o=Math.round(y.x),l=Math.round(y.y);else if(y.type==="L")m=Math.round(y.x-o),b=Math.round(y.y-l),i.push({name:"dx",type:"NUMBER",value:m}),i.push({name:"dy",type:"NUMBER",value:b}),i.push({name:"rlineto",type:"OP",value:5}),o=Math.round(y.x),l=Math.round(y.y);else if(y.type==="C"){var K=Math.round(y.x1-o),X=Math.round(y.y1-l),D=Math.round(y.x2-y.x1),le=Math.round(y.y2-y.y1);m=Math.round(y.x-y.x2),b=Math.round(y.y-y.y2),i.push({name:"dx1",type:"NUMBER",value:K}),i.push({name:"dy1",type:"NUMBER",value:X}),i.push({name:"dx2",type:"NUMBER",value:D}),i.push({name:"dy2",type:"NUMBER",value:le}),i.push({name:"dx",type:"NUMBER",value:m}),i.push({name:"dy",type:"NUMBER",value:b}),i.push({name:"rrcurveto",type:"OP",value:8}),o=Math.round(y.x),l=Math.round(y.y)}}return i.push({name:"endchar",type:"OP",value:14}),i}function nh(t){for(var i=new Ae.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var o=t.get(n),l=ih(o);i.charStrings.push({name:o.name,type:"CHARSTRING",value:l})}return i}function ah(t,i){var n=new Ae.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ns(Fs,t,i),n}function sh(t,i){for(var n=new Ae.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),o=1/i.unitsPerEm,l={version:i.version,fullName:i.fullName,familyName:i.familyName,weight:i.weightName,fontBBox:i.fontBBox||[0,0,0,0],fontMatrix:[o,0,0,o,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},h={},m=[],b,y=1;y<t.length;y+=1)b=t.get(y),m.push(b.name);var z=[];n.header=Ju(),n.nameIndex=$u([i.postScriptName]);var V=Ra(l,z);n.topDictIndex=Ma(V),n.globalSubrIndex=th(),n.charsets=rh(m,z),n.charStringsIndex=nh(t),n.privateDict=ah(h,z),n.stringIndex=eh(z);var K=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return l.charset=K,l.encoding=0,l.charStrings=l.charset+n.charsets.sizeOf(),l.private[1]=l.charStrings+n.charStringsIndex.sizeOf(),V=Ra(l,z),n.topDictIndex=Ma(V),n}var Us={parse:Qu,make:sh};function oh(t,i){var n={},o=new Re.Parser(t,i);return n.version=o.parseVersion(),n.fontRevision=Math.round(o.parseFixed()*1e3)/1e3,n.checkSumAdjustment=o.parseULong(),n.magicNumber=o.parseULong(),Ge.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=o.parseUShort(),n.unitsPerEm=o.parseUShort(),n.created=o.parseLongDateTime(),n.modified=o.parseLongDateTime(),n.xMin=o.parseShort(),n.yMin=o.parseShort(),n.xMax=o.parseShort(),n.yMax=o.parseShort(),n.macStyle=o.parseUShort(),n.lowestRecPPEM=o.parseUShort(),n.fontDirectionHint=o.parseShort(),n.indexToLocFormat=o.parseShort(),n.glyphDataFormat=o.parseShort(),n}function uh(t){var i=Math.round(new Date().getTime()/1e3)+2082844800,n=i;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new Ae.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:i},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var Ds={parse:oh,make:uh};function hh(t,i){var n={},o=new Re.Parser(t,i);return n.version=o.parseVersion(),n.ascender=o.parseShort(),n.descender=o.parseShort(),n.lineGap=o.parseShort(),n.advanceWidthMax=o.parseUShort(),n.minLeftSideBearing=o.parseShort(),n.minRightSideBearing=o.parseShort(),n.xMaxExtent=o.parseShort(),n.caretSlopeRise=o.parseShort(),n.caretSlopeRun=o.parseShort(),n.caretOffset=o.parseShort(),o.relativeOffset+=8,n.metricDataFormat=o.parseShort(),n.numberOfHMetrics=o.parseUShort(),n}function lh(t){return new Ae.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Bs={parse:hh,make:lh};function fh(t,i,n,o,l){for(var h,m,b=new Re.Parser(t,i),y=0;y<o;y+=1){y<n&&(h=b.parseUShort(),m=b.parseShort());var z=l.get(y);z.advanceWidth=h,z.leftSideBearing=m}}function ch(t,i,n,o,l){t._hmtxTableData={};for(var h,m,b=new Re.Parser(i,n),y=0;y<l;y+=1)y<o&&(h=b.parseUShort(),m=b.parseShort()),t._hmtxTableData[y]={advanceWidth:h,leftSideBearing:m}}function ph(t,i,n,o,l,h,m){m.lowMemory?ch(t,i,n,o,l):fh(i,n,o,l,h)}function dh(t){for(var i=new Ae.Table("hmtx",[]),n=0;n<t.length;n+=1){var o=t.get(n),l=o.advanceWidth||0,h=o.leftSideBearing||0;i.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:l}),i.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:h})}return i}var Vs={parse:ph,make:dh};function vh(t){for(var i=new Ae.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",o=12+t.length*4,l=0;l<t.length;++l){var h=n.indexOf(t[l]);h<0&&(h=n.length,n+=t[l]),i.fields.push({name:"offset "+l,type:"USHORT",value:o+h}),i.fields.push({name:"length "+l,type:"USHORT",value:t[l].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}function gh(t,i){var n=new Re.Parser(t,i),o=n.parseULong();Ge.argument(o===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var l=n.parseULong(),h=[],m=0;m<l;m++){for(var b="",y=i+n.parseUShort(),z=n.parseUShort(),V=y;V<y+z;++V)b+=String.fromCharCode(t.getInt8(V));h.push(b)}return h}var zs={make:vh,parse:gh};function mh(t,i){var n={},o=new Re.Parser(t,i);return n.version=o.parseVersion(),n.numGlyphs=o.parseUShort(),n.version===1&&(n.maxPoints=o.parseUShort(),n.maxContours=o.parseUShort(),n.maxCompositePoints=o.parseUShort(),n.maxCompositeContours=o.parseUShort(),n.maxZones=o.parseUShort(),n.maxTwilightPoints=o.parseUShort(),n.maxStorage=o.parseUShort(),n.maxFunctionDefs=o.parseUShort(),n.maxInstructionDefs=o.parseUShort(),n.maxStackElements=o.parseUShort(),n.maxSizeOfInstructions=o.parseUShort(),n.maxComponentElements=o.parseUShort(),n.maxComponentDepth=o.parseUShort()),n}function _h(t){return new Ae.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var Gs={parse:mh,make:_h},Hs=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qs={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},xh={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ws={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function yh(t,i,n){switch(t){case 0:if(i===65535)return"und";if(n)return n[i];break;case 1:return qs[i];case 3:return Ws[i]}}var Vn="utf-16",bh={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Sh={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Xs(t,i,n){switch(t){case 0:return Vn;case 1:return Sh[n]||bh[i];case 3:if(i===1||i===10)return Vn;break}}function wh(t,i,n){for(var o={},l=new Re.Parser(t,i),h=l.parseUShort(),m=l.parseUShort(),b=l.offset+l.parseUShort(),y=0;y<m;y++){var z=l.parseUShort(),V=l.parseUShort(),K=l.parseUShort(),X=l.parseUShort(),D=Hs[X]||X,le=l.parseUShort(),ie=l.parseUShort(),fe=yh(z,K,n),ne=Xs(z,V,K);if(ne!==void 0&&fe!==void 0){var Oe=void 0;if(ne===Vn?Oe=ui.UTF16(t,b+ie,le):Oe=ui.MACSTRING(t,b+ie,le,ne),Oe){var pe=o[D];pe===void 0&&(pe=o[D]={}),pe[fe]=Oe}}}return h===1&&l.parseUShort(),o}function Sn(t){var i={};for(var n in t)i[t[n]]=parseInt(n);return i}function Na(t,i,n,o,l,h){return new Ae.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:i},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:o},{name:"length",type:"USHORT",value:l},{name:"offset",type:"USHORT",value:h}])}function Ch(t,i){var n=t.length,o=i.length-n+1;e:for(var l=0;l<o;l++)for(;l<o;l++){for(var h=0;h<n;h++)if(i[l+h]!==t[h])continue e;return l}return-1}function Ua(t,i){var n=Ch(t,i);if(n<0){n=i.length;for(var o=0,l=t.length;o<l;++o)i.push(t[o])}return n}function kh(t,i){var n,o=[],l={},h=Sn(Hs);for(var m in t){var b=h[m];if(b===void 0&&(b=m),n=parseInt(b),isNaN(n))throw new Error('Name table entry "'+m+'" does not exist, see nameTableNames for complete list.');l[n]=t[m],o.push(n)}for(var y=Sn(qs),z=Sn(Ws),V=[],K=[],X=0;X<o.length;X++){n=o[X];var D=l[n];for(var le in D){var ie=D[le],fe=1,ne=y[le],Oe=xh[ne],pe=Xs(fe,Oe,ne),Ne=Ee.MACSTRING(ie,pe);Ne===void 0&&(fe=0,ne=i.indexOf(le),ne<0&&(ne=i.length,i.push(le)),Oe=4,Ne=Ee.UTF16(ie));var me=Ua(Ne,K);V.push(Na(fe,Oe,ne,n,Ne.length,me));var M=z[le];if(M!==void 0){var be=Ee.UTF16(ie),ve=Ua(be,K);V.push(Na(3,1,M,n,be.length,ve))}}}V.sort(function(it,tt){return it.platformID-tt.platformID||it.encodingID-tt.encodingID||it.languageID-tt.languageID||it.nameID-tt.nameID});for(var Ue=new Ae.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:V.length},{name:"stringOffset",type:"USHORT",value:6+V.length*12}]),Le=0;Le<V.length;Le++)Ue.fields.push({name:"record_"+Le,type:"RECORD",value:V[Le]});return Ue.fields.push({name:"strings",type:"LITERAL",value:K}),Ue}var Zs={parse:wh,make:kh},zn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Th(t){for(var i=0;i<zn.length;i+=1){var n=zn[i];if(t>=n.begin&&t<n.end)return i}return-1}function Eh(t,i){var n={},o=new Re.Parser(t,i);n.version=o.parseUShort(),n.xAvgCharWidth=o.parseShort(),n.usWeightClass=o.parseUShort(),n.usWidthClass=o.parseUShort(),n.fsType=o.parseUShort(),n.ySubscriptXSize=o.parseShort(),n.ySubscriptYSize=o.parseShort(),n.ySubscriptXOffset=o.parseShort(),n.ySubscriptYOffset=o.parseShort(),n.ySuperscriptXSize=o.parseShort(),n.ySuperscriptYSize=o.parseShort(),n.ySuperscriptXOffset=o.parseShort(),n.ySuperscriptYOffset=o.parseShort(),n.yStrikeoutSize=o.parseShort(),n.yStrikeoutPosition=o.parseShort(),n.sFamilyClass=o.parseShort(),n.panose=[];for(var l=0;l<10;l++)n.panose[l]=o.parseByte();return n.ulUnicodeRange1=o.parseULong(),n.ulUnicodeRange2=o.parseULong(),n.ulUnicodeRange3=o.parseULong(),n.ulUnicodeRange4=o.parseULong(),n.achVendID=String.fromCharCode(o.parseByte(),o.parseByte(),o.parseByte(),o.parseByte()),n.fsSelection=o.parseUShort(),n.usFirstCharIndex=o.parseUShort(),n.usLastCharIndex=o.parseUShort(),n.sTypoAscender=o.parseShort(),n.sTypoDescender=o.parseShort(),n.sTypoLineGap=o.parseShort(),n.usWinAscent=o.parseUShort(),n.usWinDescent=o.parseUShort(),n.version>=1&&(n.ulCodePageRange1=o.parseULong(),n.ulCodePageRange2=o.parseULong()),n.version>=2&&(n.sxHeight=o.parseShort(),n.sCapHeight=o.parseShort(),n.usDefaultChar=o.parseUShort(),n.usBreakChar=o.parseUShort(),n.usMaxContent=o.parseUShort()),n}function Ih(t){return new Ae.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var Gn={parse:Eh,make:Ih,unicodeRanges:zn,getUnicodeRange:Th};function Ph(t,i){var n={},o=new Re.Parser(t,i);switch(n.version=o.parseVersion(),n.italicAngle=o.parseFixed(),n.underlinePosition=o.parseShort(),n.underlineThickness=o.parseShort(),n.isFixedPitch=o.parseULong(),n.minMemType42=o.parseULong(),n.maxMemType42=o.parseULong(),n.minMemType1=o.parseULong(),n.maxMemType1=o.parseULong(),n.version){case 1:n.names=Kr.slice();break;case 2:n.numberOfGlyphs=o.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var l=0;l<n.numberOfGlyphs;l++)n.glyphNameIndex[l]=o.parseUShort();n.names=[];for(var h=0;h<n.numberOfGlyphs;h++)if(n.glyphNameIndex[h]>=Kr.length){var m=o.parseChar();n.names.push(o.parseString(m))}break;case 2.5:n.numberOfGlyphs=o.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var b=0;b<n.numberOfGlyphs;b++)n.offset[b]=o.parseChar();break}return n}function Ah(){return new Ae.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Ys={parse:Ph,make:Ah},nr=new Array(9);nr[1]=function(){var i=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(se.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(se.coverage),substitute:this.parseOffset16List()};Ge.assert(!1,"0x"+i.toString(16)+": lookup type 1 format must be 1 or 2.")};nr[2]=function(){var i=this.parseUShort();return Ge.argument(i===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:i,coverage:this.parsePointer(se.coverage),sequences:this.parseListOfLists()}};nr[3]=function(){var i=this.parseUShort();return Ge.argument(i===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:i,coverage:this.parsePointer(se.coverage),alternateSets:this.parseListOfLists()}};nr[4]=function(){var i=this.parseUShort();return Ge.argument(i===1,"GSUB ligature table identifier-format must be 1"),{substFormat:i,coverage:this.parsePointer(se.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var oi={sequenceIndex:se.uShort,lookupListIndex:se.uShort};nr[5]=function(){var i=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(se.coverage),ruleSets:this.parseListOfLists(function(){var h=this.parseUShort(),m=this.parseUShort();return{input:this.parseUShortList(h-1),lookupRecords:this.parseRecordList(m,oi)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(se.coverage),classDef:this.parsePointer(se.classDef),classSets:this.parseListOfLists(function(){var h=this.parseUShort(),m=this.parseUShort();return{classes:this.parseUShortList(h-1),lookupRecords:this.parseRecordList(m,oi)}})};if(n===3){var o=this.parseUShort(),l=this.parseUShort();return{substFormat:n,coverages:this.parseList(o,se.pointer(se.coverage)),lookupRecords:this.parseRecordList(l,oi)}}Ge.assert(!1,"0x"+i.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};nr[6]=function(){var i=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(se.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(oi)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(se.coverage),backtrackClassDef:this.parsePointer(se.classDef),inputClassDef:this.parsePointer(se.classDef),lookaheadClassDef:this.parsePointer(se.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(oi)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(se.pointer(se.coverage)),inputCoverage:this.parseList(se.pointer(se.coverage)),lookaheadCoverage:this.parseList(se.pointer(se.coverage)),lookupRecords:this.parseRecordList(oi)};Ge.assert(!1,"0x"+i.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};nr[7]=function(){var i=this.parseUShort();Ge.argument(i===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),o=new se(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:nr[n].call(o)}};nr[8]=function(){var i=this.parseUShort();return Ge.argument(i===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:i,coverage:this.parsePointer(se.coverage),backtrackCoverage:this.parseList(se.pointer(se.coverage)),lookaheadCoverage:this.parseList(se.pointer(se.coverage)),substitutes:this.parseUShortList()}};function Oh(t,i){i=i||0;var n=new se(t,i),o=n.parseVersion(1);return Ge.argument(o===1||o===1.1,"Unsupported GSUB table version."),o===1?{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(nr)}:{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(nr),variations:n.parseFeatureVariationsList()}}var hi=new Array(9);hi[1]=function(i){return i.substFormat===1?new Ae.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)},{name:"deltaGlyphID",type:"USHORT",value:i.deltaGlyphId}]):new Ae.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)}].concat(Ae.ushortList("substitute",i.substitute)))};hi[2]=function(i){return Ge.assert(i.substFormat===1,"Lookup type 2 substFormat must be 1."),new Ae.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)}].concat(Ae.tableList("seqSet",i.sequences,function(n){return new Ae.Table("sequenceSetTable",Ae.ushortList("sequence",n))})))};hi[3]=function(i){return Ge.assert(i.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ae.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)}].concat(Ae.tableList("altSet",i.alternateSets,function(n){return new Ae.Table("alternateSetTable",Ae.ushortList("alternate",n))})))};hi[4]=function(i){return Ge.assert(i.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ae.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)}].concat(Ae.tableList("ligSet",i.ligatureSets,function(n){return new Ae.Table("ligatureSetTable",Ae.tableList("ligature",n,function(o){return new Ae.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:o.ligGlyph}].concat(Ae.ushortList("component",o.components,o.components.length+1)))}))})))};hi[6]=function(i){if(i.substFormat===1){var n=new Ae.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:i.substFormat},{name:"coverage",type:"TABLE",value:new Ae.Coverage(i.coverage)}].concat(Ae.tableList("chainRuleSet",i.chainRuleSets,function(h){return new Ae.Table("chainRuleSetTable",Ae.tableList("chainRule",h,function(m){var b=Ae.ushortList("backtrackGlyph",m.backtrack,m.backtrack.length).concat(Ae.ushortList("inputGlyph",m.input,m.input.length+1)).concat(Ae.ushortList("lookaheadGlyph",m.lookahead,m.lookahead.length)).concat(Ae.ushortList("substitution",[],m.lookupRecords.length));return m.lookupRecords.forEach(function(y,z){b=b.concat({name:"sequenceIndex"+z,type:"USHORT",value:y.sequenceIndex}).concat({name:"lookupListIndex"+z,type:"USHORT",value:y.lookupListIndex})}),new Ae.Table("chainRuleTable",b)}))})));return n}else if(i.substFormat===2)Ge.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(i.substFormat===3){var o=[{name:"substFormat",type:"USHORT",value:i.substFormat}];o.push({name:"backtrackGlyphCount",type:"USHORT",value:i.backtrackCoverage.length}),i.backtrackCoverage.forEach(function(h,m){o.push({name:"backtrackCoverage"+m,type:"TABLE",value:new Ae.Coverage(h)})}),o.push({name:"inputGlyphCount",type:"USHORT",value:i.inputCoverage.length}),i.inputCoverage.forEach(function(h,m){o.push({name:"inputCoverage"+m,type:"TABLE",value:new Ae.Coverage(h)})}),o.push({name:"lookaheadGlyphCount",type:"USHORT",value:i.lookaheadCoverage.length}),i.lookaheadCoverage.forEach(function(h,m){o.push({name:"lookaheadCoverage"+m,type:"TABLE",value:new Ae.Coverage(h)})}),o.push({name:"substitutionCount",type:"USHORT",value:i.lookupRecords.length}),i.lookupRecords.forEach(function(h,m){o=o.concat({name:"sequenceIndex"+m,type:"USHORT",value:h.sequenceIndex}).concat({name:"lookupListIndex"+m,type:"USHORT",value:h.lookupListIndex})});var l=new Ae.Table("chainContextTable",o);return l}Ge.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Lh(t){return new Ae.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ae.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Ae.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Ae.LookupList(t.lookups,hi)}])}var js={parse:Oh,make:Lh};function Fh(t,i){var n=new Re.Parser(t,i),o=n.parseULong();Ge.argument(o===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var l=n.parseULong(),h={},m=0;m<l;m++){var b=n.parseTag(),y=n.parseULong(),z=n.parseULong(),V=ui.UTF8(t,i+y,z);h[b]=V}return h}function Rh(t){var i=Object.keys(t).length,n="",o=16+i*12,l=new Ae.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:o},{name:"numTags",type:"ULONG",value:i}]);for(var h in t){var m=n.length;n+=t[h],l.fields.push({name:"tag "+h,type:"TAG",value:h}),l.fields.push({name:"offset "+h,type:"ULONG",value:o+m}),l.fields.push({name:"length "+h,type:"ULONG",value:t[h].length})}return l.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),l}var Ks={parse:Fh,make:Rh};function Da(t){return Math.log(t)/Math.log(2)|0}function Kn(t){for(;t.length%4!==0;)t.push(0);for(var i=0,n=0;n<t.length;n+=4)i+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return i%=Math.pow(2,32),i}function Ba(t,i,n,o){return new Ae.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:i!==void 0?i:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:o!==void 0?o:0}])}function Qs(t){var i=new Ae.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);i.tables=t,i.numTables=t.length;var n=Math.pow(2,Da(i.numTables));i.searchRange=16*n,i.entrySelector=Da(n),i.rangeShift=i.numTables*16-i.searchRange;for(var o=[],l=[],h=i.sizeOf()+Ba().sizeOf()*i.numTables;h%4!==0;)h+=1,l.push({name:"padding",type:"BYTE",value:0});for(var m=0;m<t.length;m+=1){var b=t[m];Ge.argument(b.tableName.length===4,"Table name"+b.tableName+" is invalid.");var y=b.sizeOf(),z=Ba(b.tableName,Kn(b.encode()),h,y);for(o.push({name:z.tag+" Table Record",type:"RECORD",value:z}),l.push({name:b.tableName+" table",type:"RECORD",value:b}),h+=y,Ge.argument(!isNaN(h),"Something went wrong calculating the offset.");h%4!==0;)h+=1,l.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(V,K){return V.value.tag>K.value.tag?1:-1}),i.fields=i.fields.concat(o),i.fields=i.fields.concat(l),i}function Va(t,i,n){for(var o=0;o<i.length;o+=1){var l=t.charToGlyphIndex(i[o]);if(l>0){var h=t.glyphs.get(l);return h.getMetrics()}}return n}function Mh(t){for(var i=0,n=0;n<t.length;n+=1)i+=t[n];return i/t.length}function Nh(t){for(var i=[],n=[],o=[],l=[],h=[],m=[],b=[],y,z=0,V=0,K=0,X=0,D=0,le=0;le<t.glyphs.length;le+=1){var ie=t.glyphs.get(le),fe=ie.unicode|0;if(isNaN(ie.advanceWidth))throw new Error("Glyph "+ie.name+" ("+le+"): advanceWidth is not a number.");(y>fe||y===void 0)&&fe>0&&(y=fe),z<fe&&(z=fe);var ne=Gn.getUnicodeRange(fe);if(ne<32)V|=1<<ne;else if(ne<64)K|=1<<ne-32;else if(ne<96)X|=1<<ne-64;else if(ne<123)D|=1<<ne-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(ie.name!==".notdef"){var Oe=ie.getMetrics();i.push(Oe.xMin),n.push(Oe.yMin),o.push(Oe.xMax),l.push(Oe.yMax),m.push(Oe.leftSideBearing),b.push(Oe.rightSideBearing),h.push(ie.advanceWidth)}}var pe={xMin:Math.min.apply(null,i),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,o),yMax:Math.max.apply(null,l),advanceWidthMax:Math.max.apply(null,h),advanceWidthAvg:Mh(h),minLeftSideBearing:Math.min.apply(null,m),maxLeftSideBearing:Math.max.apply(null,m),minRightSideBearing:Math.min.apply(null,b)};pe.ascender=t.ascender,pe.descender=t.descender;var Ne=Ds.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:pe.xMin,yMin:pe.yMin,xMax:pe.xMax,yMax:pe.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),me=Bs.make({ascender:pe.ascender,descender:pe.descender,advanceWidthMax:pe.advanceWidthMax,minLeftSideBearing:pe.minLeftSideBearing,minRightSideBearing:pe.minRightSideBearing,xMaxExtent:pe.maxLeftSideBearing+(pe.xMax-pe.xMin),numberOfHMetrics:t.glyphs.length}),M=Gs.make(t.glyphs.length),be=Gn.make(Object.assign({xAvgCharWidth:Math.round(pe.advanceWidthAvg),usFirstCharIndex:y,usLastCharIndex:z,ulUnicodeRange1:V,ulUnicodeRange2:K,ulUnicodeRange3:X,ulUnicodeRange4:D,sTypoAscender:pe.ascender,sTypoDescender:pe.descender,sTypoLineGap:0,usWinAscent:pe.yMax,usWinDescent:Math.abs(pe.yMin),ulCodePageRange1:1,sxHeight:Va(t,"xyvw",{yMax:Math.round(pe.ascender/2)}).yMax,sCapHeight:Va(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",pe).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),ve=Vs.make(t.glyphs),Ue=Ts.make(t.glyphs),Le=t.getEnglishName("fontFamily"),it=t.getEnglishName("fontSubfamily"),tt=Le+" "+it,ot=t.getEnglishName("postScriptName");ot||(ot=Le.replace(/\s/g,"")+"-"+it);var ke={};for(var ct in t.names)ke[ct]=t.names[ct];ke.uniqueID||(ke.uniqueID={en:t.getEnglishName("manufacturer")+":"+tt}),ke.postScriptName||(ke.postScriptName={en:ot}),ke.preferredFamily||(ke.preferredFamily=t.names.fontFamily),ke.preferredSubfamily||(ke.preferredSubfamily=t.names.fontSubfamily);var ge=[],et=Zs.make(ke,ge),pt=ge.length>0?zs.make(ge):void 0,Me=Ys.make(),rt=Us.make(t.glyphs,{version:t.getEnglishName("version"),fullName:tt,familyName:Le,weightName:it,postScriptName:ot,unitsPerEm:t.unitsPerEm,fontBBox:[0,pe.yMin,pe.ascender,pe.advanceWidthMax]}),ut=t.metas&&Object.keys(t.metas).length>0?Ks.make(t.metas):void 0,vt=[Ne,me,M,be,et,Ue,Me,rt,ve];pt&&vt.push(pt),t.tables.gsub&&vt.push(js.make(t.tables.gsub)),ut&&vt.push(ut);for(var Wt=Qs(vt),Nr=Wt.encode(),gt=Kn(Nr),tr=Wt.fields,wr=!1,hr=0;hr<tr.length;hr+=1)if(tr[hr].name==="head table"){tr[hr].value.checkSumAdjustment=2981146554-gt,wr=!0;break}if(!wr)throw new Error("Could not find head table with checkSum to adjust.");return Wt}var Uh={make:Qs,fontToTable:Nh,computeCheckSum:Kn};function wn(t,i){for(var n=0,o=t.length-1;n<=o;){var l=n+o>>>1,h=t[l].tag;if(h===i)return l;h<i?n=l+1:o=l-1}return-n-1}function za(t,i){for(var n=0,o=t.length-1;n<=o;){var l=n+o>>>1,h=t[l];if(h===i)return l;h<i?n=l+1:o=l-1}return-n-1}function Ga(t,i){for(var n,o=0,l=t.length-1;o<=l;){var h=o+l>>>1;n=t[h];var m=n.start;if(m===i)return n;m<i?o=h+1:l=h-1}if(o>0)return n=t[o-1],i>n.end?0:n}function Ai(t,i){this.font=t,this.tableName=i}Ai.prototype={searchTag:wn,binSearch:za,getTable:function(t){var i=this.font.tables[this.tableName];return!i&&t&&(i=this.font.tables[this.tableName]=this.createDefaultTable()),i},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(i){return i.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var i=!1,n=0;n<t.scripts.length;n++){var o=t.scripts[n].tag;if(o==="DFLT")return o;o==="latn"&&(i=!0)}if(i)return"latn"}},getScriptTable:function(t,i){var n=this.getTable(i);if(n){t=t||"DFLT";var o=n.scripts,l=wn(n.scripts,t);if(l>=0)return o[l].script;if(i){var h={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return o.splice(-1-l,0,h),h.script}}},getLangSysTable:function(t,i,n){var o=this.getScriptTable(t,n);if(o){if(!i||i==="dflt"||i==="DFLT")return o.defaultLangSys;var l=wn(o.langSysRecords,i);if(l>=0)return o.langSysRecords[l].langSys;if(n){var h={tag:i,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return o.langSysRecords.splice(-1-l,0,h),h.langSys}}},getFeatureTable:function(t,i,n,o){var l=this.getLangSysTable(t,i,o);if(l){for(var h,m=l.featureIndexes,b=this.font.tables[this.tableName].features,y=0;y<m.length;y++)if(h=b[m[y]],h.tag===n)return h.feature;if(o){var z=b.length;return Ge.assert(z===0||n>=b[z-1].tag,"Features must be added in alphabetical order."),h={tag:n,feature:{params:0,lookupListIndexes:[]}},b.push(h),m.push(z),h.feature}}},getLookupTables:function(t,i,n,o,l){var h=this.getFeatureTable(t,i,n,l),m=[];if(h){for(var b,y=h.lookupListIndexes,z=this.font.tables[this.tableName].lookups,V=0;V<y.length;V++)b=z[y[V]],b.lookupType===o&&m.push(b);if(m.length===0&&l){b={lookupType:o,lookupFlag:0,subtables:[],markFilteringSet:void 0};var K=z.length;return z.push(b),y.push(K),[b]}}return m},getGlyphClass:function(t,i){switch(t.format){case 1:return t.startGlyph<=i&&i<t.startGlyph+t.classes.length?t.classes[i-t.startGlyph]:0;case 2:var n=Ga(t.ranges,i);return n?n.classId:0}},getCoverageIndex:function(t,i){switch(t.format){case 1:var n=za(t.glyphs,i);return n>=0?n:-1;case 2:var o=Ga(t.ranges,i);return o?o.index+i-o.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var i=[],n=t.ranges,o=0;o<n.length;o++)for(var l=n[o],h=l.start,m=l.end,b=h;b<=m;b++)i.push(b);return i}};function Oi(t){Ai.call(this,t,"gpos")}Oi.prototype=Ai.prototype;Oi.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};Oi.prototype.getKerningValue=function(t,i,n){for(var o=0;o<t.length;o++)for(var l=t[o].subtables,h=0;h<l.length;h++){var m=l[h],b=this.getCoverageIndex(m.coverage,i);if(!(b<0))switch(m.posFormat){case 1:for(var y=m.pairSets[b],z=0;z<y.length;z++){var V=y[z];if(V.secondGlyph===n)return V.value1&&V.value1.xAdvance||0}break;case 2:var K=this.getGlyphClass(m.classDef1,i),X=this.getGlyphClass(m.classDef2,n),D=m.classRecords[K][X];return D.value1&&D.value1.xAdvance||0}}return 0};Oi.prototype.getKerningTables=function(t,i){if(this.font.tables.gpos)return this.getLookupTables(t,i,"kern",2)};function Qt(t){Ai.call(this,t,"gsub")}function Dh(t,i){var n=t.length;if(n!==i.length)return!1;for(var o=0;o<n;o++)if(t[o]!==i[o])return!1;return!0}function Qn(t,i,n){for(var o=t.subtables,l=0;l<o.length;l++){var h=o[l];if(h.substFormat===i)return h}if(n)return o.push(n),n}Qt.prototype=Ai.prototype;Qt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Qt.prototype.getSingle=function(t,i,n){for(var o=[],l=this.getLookupTables(i,n,t,1),h=0;h<l.length;h++)for(var m=l[h].subtables,b=0;b<m.length;b++){var y=m[b],z=this.expandCoverage(y.coverage),V=void 0;if(y.substFormat===1){var K=y.deltaGlyphId;for(V=0;V<z.length;V++){var X=z[V];o.push({sub:X,by:X+K})}}else{var D=y.substitute;for(V=0;V<z.length;V++)o.push({sub:z[V],by:D[V]})}}return o};Qt.prototype.getMultiple=function(t,i,n){for(var o=[],l=this.getLookupTables(i,n,t,2),h=0;h<l.length;h++)for(var m=l[h].subtables,b=0;b<m.length;b++){var y=m[b],z=this.expandCoverage(y.coverage),V=void 0;for(V=0;V<z.length;V++){var K=z[V],X=y.sequences[V];o.push({sub:K,by:X})}}return o};Qt.prototype.getAlternates=function(t,i,n){for(var o=[],l=this.getLookupTables(i,n,t,3),h=0;h<l.length;h++)for(var m=l[h].subtables,b=0;b<m.length;b++)for(var y=m[b],z=this.expandCoverage(y.coverage),V=y.alternateSets,K=0;K<z.length;K++)o.push({sub:z[K],by:V[K]});return o};Qt.prototype.getLigatures=function(t,i,n){for(var o=[],l=this.getLookupTables(i,n,t,4),h=0;h<l.length;h++)for(var m=l[h].subtables,b=0;b<m.length;b++)for(var y=m[b],z=this.expandCoverage(y.coverage),V=y.ligatureSets,K=0;K<z.length;K++)for(var X=z[K],D=V[K],le=0;le<D.length;le++){var ie=D[le];o.push({sub:[X].concat(ie.components),by:ie.ligGlyph})}return o};Qt.prototype.addSingle=function(t,i,n,o){var l=this.getLookupTables(n,o,t,1,!0)[0],h=Qn(l,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ge.assert(h.coverage.format===1,"Single: unable to modify coverage table format "+h.coverage.format);var m=i.sub,b=this.binSearch(h.coverage.glyphs,m);b<0&&(b=-1-b,h.coverage.glyphs.splice(b,0,m),h.substitute.splice(b,0,0)),h.substitute[b]=i.by};Qt.prototype.addMultiple=function(t,i,n,o){Ge.assert(i.by instanceof Array&&i.by.length>1,'Multiple: "by" must be an array of two or more ids');var l=this.getLookupTables(n,o,t,2,!0)[0],h=Qn(l,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ge.assert(h.coverage.format===1,"Multiple: unable to modify coverage table format "+h.coverage.format);var m=i.sub,b=this.binSearch(h.coverage.glyphs,m);b<0&&(b=-1-b,h.coverage.glyphs.splice(b,0,m),h.sequences.splice(b,0,0)),h.sequences[b]=i.by};Qt.prototype.addAlternate=function(t,i,n,o){var l=this.getLookupTables(n,o,t,3,!0)[0],h=Qn(l,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ge.assert(h.coverage.format===1,"Alternate: unable to modify coverage table format "+h.coverage.format);var m=i.sub,b=this.binSearch(h.coverage.glyphs,m);b<0&&(b=-1-b,h.coverage.glyphs.splice(b,0,m),h.alternateSets.splice(b,0,0)),h.alternateSets[b]=i.by};Qt.prototype.addLigature=function(t,i,n,o){var l=this.getLookupTables(n,o,t,4,!0)[0],h=l.subtables[0];h||(h={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},l.subtables[0]=h),Ge.assert(h.coverage.format===1,"Ligature: unable to modify coverage table format "+h.coverage.format);var m=i.sub[0],b=i.sub.slice(1),y={ligGlyph:i.by,components:b},z=this.binSearch(h.coverage.glyphs,m);if(z>=0){for(var V=h.ligatureSets[z],K=0;K<V.length;K++)if(Dh(V[K].components,b))return;V.push(y)}else z=-1-z,h.coverage.glyphs.splice(z,0,m),h.ligatureSets.splice(z,0,[y])};Qt.prototype.getFeature=function(t,i,n){if(/ss\d\d/.test(t))return this.getSingle(t,i,n);switch(t){case"aalt":case"salt":return this.getSingle(t,i,n).concat(this.getAlternates(t,i,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,i,n);case"ccmp":return this.getMultiple(t,i,n).concat(this.getLigatures(t,i,n));case"stch":return this.getMultiple(t,i,n)}};Qt.prototype.add=function(t,i,n,o){if(/ss\d\d/.test(t))return this.addSingle(t,i,n,o);switch(t){case"aalt":case"salt":return typeof i.by=="number"?this.addSingle(t,i,n,o):this.addAlternate(t,i,n,o);case"dlig":case"liga":case"rlig":return this.addLigature(t,i,n,o);case"ccmp":return i.by instanceof Array?this.addMultiple(t,i,n,o):this.addLigature(t,i,n,o)}};function Bh(){return typeof window<"u"}function Js(t){for(var i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;++o)n[o]=t[o];return i}function Vh(t){for(var i=new Buffer(t.byteLength),n=new Uint8Array(t),o=0;o<i.length;++o)i[o]=n[o];return i}function Ci(t,i){if(!t)throw i}function Ha(t,i,n,o,l){var h;return(i&o)>0?(h=t.parseByte(),i&l||(h=-h),h=n+h):(i&l)>0?h=n:h=n+t.parseShort(),h}function $s(t,i,n){var o=new Re.Parser(i,n);t.numberOfContours=o.parseShort(),t._xMin=o.parseShort(),t._yMin=o.parseShort(),t._xMax=o.parseShort(),t._yMax=o.parseShort();var l,h;if(t.numberOfContours>0){for(var m=t.endPointIndices=[],b=0;b<t.numberOfContours;b+=1)m.push(o.parseUShort());t.instructionLength=o.parseUShort(),t.instructions=[];for(var y=0;y<t.instructionLength;y+=1)t.instructions.push(o.parseByte());var z=m[m.length-1]+1;l=[];for(var V=0;V<z;V+=1)if(h=o.parseByte(),l.push(h),(h&8)>0)for(var K=o.parseByte(),X=0;X<K;X+=1)l.push(h),V+=1;if(Ge.argument(l.length===z,"Bad flags."),m.length>0){var D=[],le;if(z>0){for(var ie=0;ie<z;ie+=1)h=l[ie],le={},le.onCurve=!!(h&1),le.lastPointOfContour=m.indexOf(ie)>=0,D.push(le);for(var fe=0,ne=0;ne<z;ne+=1)h=l[ne],le=D[ne],le.x=Ha(o,h,fe,2,16),fe=le.x;for(var Oe=0,pe=0;pe<z;pe+=1)h=l[pe],le=D[pe],le.y=Ha(o,h,Oe,4,32),Oe=le.y}t.points=D}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var Ne=!0;Ne;){l=o.parseUShort();var me={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(l&1)>0?(l&2)>0?(me.dx=o.parseShort(),me.dy=o.parseShort()):me.matchedPoints=[o.parseUShort(),o.parseUShort()]:(l&2)>0?(me.dx=o.parseChar(),me.dy=o.parseChar()):me.matchedPoints=[o.parseByte(),o.parseByte()],(l&8)>0?me.xScale=me.yScale=o.parseF2Dot14():(l&64)>0?(me.xScale=o.parseF2Dot14(),me.yScale=o.parseF2Dot14()):(l&128)>0&&(me.xScale=o.parseF2Dot14(),me.scale01=o.parseF2Dot14(),me.scale10=o.parseF2Dot14(),me.yScale=o.parseF2Dot14()),t.components.push(me),Ne=!!(l&32)}if(l&256){t.instructionLength=o.parseUShort(),t.instructions=[];for(var M=0;M<t.instructionLength;M+=1)t.instructions.push(o.parseByte())}}}function Cn(t,i){for(var n=[],o=0;o<t.length;o+=1){var l=t[o],h={x:i.xScale*l.x+i.scale01*l.y+i.dx,y:i.scale10*l.x+i.yScale*l.y+i.dy,onCurve:l.onCurve,lastPointOfContour:l.lastPointOfContour};n.push(h)}return n}function zh(t){for(var i=[],n=[],o=0;o<t.length;o+=1){var l=t[o];n.push(l),l.lastPointOfContour&&(i.push(n),n=[])}return Ge.argument(n.length===0,"There are still points left in the current contour."),i}function eo(t){var i=new Ot;if(!t)return i;for(var n=zh(t),o=0;o<n.length;++o){var l=n[o],h=null,m=l[l.length-1],b=l[0];if(m.onCurve)i.moveTo(m.x,m.y);else if(b.onCurve)i.moveTo(b.x,b.y);else{var y={x:(m.x+b.x)*.5,y:(m.y+b.y)*.5};i.moveTo(y.x,y.y)}for(var z=0;z<l.length;++z)if(h=m,m=b,b=l[(z+1)%l.length],m.onCurve)i.lineTo(m.x,m.y);else{var V=b;h.onCurve||((m.x+h.x)*.5,(m.y+h.y)*.5),b.onCurve||(V={x:(m.x+b.x)*.5,y:(m.y+b.y)*.5}),i.quadraticCurveTo(m.x,m.y,V.x,V.y)}i.closePath()}return i}function to(t,i){if(i.isComposite)for(var n=0;n<i.components.length;n+=1){var o=i.components[n],l=t.get(o.glyphIndex);if(l.getPath(),l.points){var h=void 0;if(o.matchedPoints===void 0)h=Cn(l.points,o);else{if(o.matchedPoints[0]>i.points.length-1||o.matchedPoints[1]>l.points.length-1)throw Error("Matched points out of range in "+i.name);var m=i.points[o.matchedPoints[0]],b=l.points[o.matchedPoints[1]],y={xScale:o.xScale,scale01:o.scale01,scale10:o.scale10,yScale:o.yScale,dx:0,dy:0};b=Cn([b],y)[0],y.dx=m.x-b.x,y.dy=m.y-b.y,h=Cn(l.points,y)}i.points=i.points.concat(h)}}return eo(i.points)}function Gh(t,i,n,o){for(var l=new vr.GlyphSet(o),h=0;h<n.length-1;h+=1){var m=n[h],b=n[h+1];m!==b?l.push(h,vr.ttfGlyphLoader(o,h,$s,t,i+m,to)):l.push(h,vr.glyphLoader(o,h))}return l}function Hh(t,i,n,o){var l=new vr.GlyphSet(o);return o._push=function(h){var m=n[h],b=n[h+1];m!==b?l.push(h,vr.ttfGlyphLoader(o,h,$s,t,i+m,to)):l.push(h,vr.glyphLoader(o,h))},l}function qh(t,i,n,o,l){return l.lowMemory?Hh(t,i,n,o):Gh(t,i,n,o)}var ro={getPath:eo,parse:qh},io,Jr,no,Hn;function ao(t){this.font=t,this.getCommands=function(i){return ro.getPath(i).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Wh(t){return t}function so(t){return Math.sign(t)*Math.round(Math.abs(t))}function Xh(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function Zh(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Yh(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function jh(t){return Math.sign(t)*Math.floor(Math.abs(t))}var oo=function(t){var i=this.srPeriod,n=this.srPhase,o=this.srThreshold,l=1;return t<0&&(t=-t,l=-1),t+=o-n,t=Math.trunc(t/i)*i,t+=n,t<0?n*l:t*l},dr={x:1,y:0,axis:"x",distance:function(t,i,n,o){return(n?t.xo:t.x)-(o?i.xo:i.x)},interpolate:function(t,i,n,o){var l,h,m,b,y,z,V;if(!o||o===this){if(l=t.xo-i.xo,h=t.xo-n.xo,y=i.x-i.xo,z=n.x-n.xo,m=Math.abs(l),b=Math.abs(h),V=m+b,V===0){t.x=t.xo+(y+z)/2;return}t.x=t.xo+(y*b+z*m)/V;return}if(l=o.distance(t,i,!0,!0),h=o.distance(t,n,!0,!0),y=o.distance(i,i,!1,!0),z=o.distance(n,n,!1,!0),m=Math.abs(l),b=Math.abs(h),V=m+b,V===0){dr.setRelative(t,t,(y+z)/2,o,!0);return}dr.setRelative(t,t,(y*b+z*m)/V,o,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,i,n,o,l){if(!o||o===this){t.x=(l?i.xo:i.x)+n;return}var h=l?i.xo:i.x,m=l?i.yo:i.y,b=h+n*o.x,y=m+n*o.y;t.x=b+(t.y-y)/o.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},yr={x:0,y:1,axis:"y",distance:function(t,i,n,o){return(n?t.yo:t.y)-(o?i.yo:i.y)},interpolate:function(t,i,n,o){var l,h,m,b,y,z,V;if(!o||o===this){if(l=t.yo-i.yo,h=t.yo-n.yo,y=i.y-i.yo,z=n.y-n.yo,m=Math.abs(l),b=Math.abs(h),V=m+b,V===0){t.y=t.yo+(y+z)/2;return}t.y=t.yo+(y*b+z*m)/V;return}if(l=o.distance(t,i,!0,!0),h=o.distance(t,n,!0,!0),y=o.distance(i,i,!1,!0),z=o.distance(n,n,!1,!0),m=Math.abs(l),b=Math.abs(h),V=m+b,V===0){yr.setRelative(t,t,(y+z)/2,o,!0);return}yr.setRelative(t,t,(y*b+z*m)/V,o,!0)},normalSlope:0,setRelative:function(t,i,n,o,l){if(!o||o===this){t.y=(l?i.yo:i.y)+n;return}var h=l?i.xo:i.x,m=l?i.yo:i.y,b=h+n*o.x,y=m+n*o.y;t.y=y+o.normalSlope*(t.x-b)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(dr);Object.freeze(yr);function Li(t,i){this.x=t,this.y=i,this.axis=void 0,this.slope=i/t,this.normalSlope=-t/i,Object.freeze(this)}Li.prototype.distance=function(t,i,n,o){return this.x*dr.distance(t,i,n,o)+this.y*yr.distance(t,i,n,o)};Li.prototype.interpolate=function(t,i,n,o){var l,h,m,b,y,z,V;if(m=o.distance(t,i,!0,!0),b=o.distance(t,n,!0,!0),l=o.distance(i,i,!1,!0),h=o.distance(n,n,!1,!0),y=Math.abs(m),z=Math.abs(b),V=y+z,V===0){this.setRelative(t,t,(l+h)/2,o,!0);return}this.setRelative(t,t,(l*z+h*y)/V,o,!0)};Li.prototype.setRelative=function(t,i,n,o,l){o=o||this;var h=l?i.xo:i.x,m=l?i.yo:i.y,b=h+n*o.x,y=m+n*o.y,z=o.normalSlope,V=this.slope,K=t.x,X=t.y;t.x=(V*K-z*b+y-X)/(V-z),t.y=V*(t.x-K)+X};Li.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function Fi(t,i){var n=Math.sqrt(t*t+i*i);return t/=n,i/=n,t===1&&i===0?dr:t===0&&i===1?yr:new Li(t,i)}function br(t,i,n,o){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(i*64)/64,this.lastPointOfContour=n,this.onCurve=o,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}br.prototype.nextTouched=function(t){for(var i=this.nextPointOnContour;!t.touched(i)&&i!==this;)i=i.nextPointOnContour;return i};br.prototype.prevTouched=function(t){for(var i=this.prevPointOnContour;!t.touched(i)&&i!==this;)i=i.prevPointOnContour;return i};var Pi=Object.freeze(new br(0,0)),Kh={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Fr(t,i){switch(this.env=t,this.stack=[],this.prog=i,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=dr,this.round=so}}ao.prototype.exec=function(t,i){if(typeof i!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,o=this._prepState;if(!o||o.ppem!==i){var l=this._fpgmState;if(!l){Fr.prototype=Kh,l=this._fpgmState=new Fr("fpgm",n.tables.fpgm),l.funcs=[],l.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),l.step=-1);try{Jr(l)}catch(z){console.log("Hinting error in FPGM:"+z),this._errorState=3;return}}Fr.prototype=l,o=this._prepState=new Fr("prep",n.tables.prep),o.ppem=i;var h=n.tables.cvt;if(h)for(var m=o.cvt=new Array(h.length),b=i/n.unitsPerEm,y=0;y<h.length;y++)m[y]=h[y]*b;else o.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),o.step=-1);try{Jr(o)}catch(z){this._errorState<2&&console.log("Hinting error in PREP:"+z),this._errorState=2}}if(!(this._errorState>1))try{return no(t,o)}catch(z){this._errorState<1&&(console.log("Hinting error:"+z),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};no=function(t,i){var n=i.ppem/i.font.unitsPerEm,o=n,l=t.components,h,m,b;if(Fr.prototype=i,!l)b=new Fr("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),b.step=-1),Hn(t,b,n,o),m=b.gZone;else{var y=i.font;m=[],h=[];for(var z=0;z<l.length;z++){var V=l[z],K=y.glyphs.get(V.glyphIndex);b=new Fr("glyf",K.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+z+"---"),b.step=-1),Hn(K,b,n,o);for(var X=Math.round(V.dx*n),D=Math.round(V.dy*o),le=b.gZone,ie=b.contours,fe=0;fe<le.length;fe++){var ne=le[fe];ne.xTouched=ne.yTouched=!1,ne.xo=ne.x=ne.x+X,ne.yo=ne.y=ne.y+D}var Oe=m.length;m.push.apply(m,le);for(var pe=0;pe<ie.length;pe++)h.push(ie[pe]+Oe)}t.instructions&&!b.inhibitGridFit&&(b=new Fr("glyf",t.instructions),b.gZone=b.z0=b.z1=b.z2=m,b.contours=h,m.push(new br(0,0),new br(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),b.step=-1),Jr(b),m.length-=2)}return m};Hn=function(t,i,n,o){for(var l=t.points||[],h=l.length,m=i.gZone=i.z0=i.z1=i.z2=[],b=i.contours=[],y,z=0;z<h;z++)y=l[z],m[z]=new br(y.x*n,y.y*o,y.lastPointOfContour,y.onCurve);for(var V,K,X=0;X<h;X++)y=m[X],V||(V=y,b.push(X)),y.lastPointOfContour?(y.nextPointOnContour=V,V.prevPointOnContour=y,V=void 0):(K=m[X+1],y.nextPointOnContour=K,K.prevPointOnContour=y);if(!i.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",i.stack);for(var D=0;D<h;D++)console.log(D,m[D].x,m[D].y)}if(m.push(new br(0,0),new br(Math.round(t.advanceWidth*n),0)),Jr(i),m.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",i.stack);for(var le=0;le<h;le++)console.log(le,m[le].x,m[le].y)}}};Jr=function(t){var i=t.prog;if(i){var n=i.length,o;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,o=io[i[t.ip]],!o)throw new Error("unknown instruction: 0x"+Number(i[t.ip]).toString(16));o(t)}}};function on(t){for(var i=t.tZone=new Array(t.gZone.length),n=0;n<i.length;n++)i[n]=new br(0,0)}function uo(t,i){var n=t.prog,o=t.ip,l=1,h;do if(h=n[++o],h===88)l++;else if(h===89)l--;else if(h===64)o+=n[o+1]+1;else if(h===65)o+=2*n[o+1]+1;else if(h>=176&&h<=183)o+=h-176+1;else if(h>=184&&h<=191)o+=(h-184+1)*2;else if(i&&l===1&&h===27)break;while(l>0);t.ip=o}function qa(t,i){exports.DEBUG&&console.log(i.step,"SVTCA["+t.axis+"]"),i.fv=i.pv=i.dpv=t}function Wa(t,i){exports.DEBUG&&console.log(i.step,"SPVTCA["+t.axis+"]"),i.pv=i.dpv=t}function Xa(t,i){exports.DEBUG&&console.log(i.step,"SFVTCA["+t.axis+"]"),i.fv=t}function Za(t,i){var n=i.stack,o=n.pop(),l=n.pop(),h=i.z2[o],m=i.z1[l];exports.DEBUG&&console.log("SPVTL["+t+"]",o,l);var b,y;t?(b=h.y-m.y,y=m.x-h.x):(b=m.x-h.x,y=m.y-h.y),i.pv=i.dpv=Fi(b,y)}function Ya(t,i){var n=i.stack,o=n.pop(),l=n.pop(),h=i.z2[o],m=i.z1[l];exports.DEBUG&&console.log("SFVTL["+t+"]",o,l);var b,y;t?(b=h.y-m.y,y=m.x-h.x):(b=m.x-h.x,y=m.y-h.y),i.fv=Fi(b,y)}function Qh(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,o),t.pv=t.dpv=Fi(o,n)}function Jh(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,o),t.fv=Fi(o,n)}function $h(t){var i=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),i.push(n.x*16384),i.push(n.y*16384)}function el(t){var i=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),i.push(n.x*16384),i.push(n.y*16384)}function tl(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function rl(t){var i=t.stack,n=i.pop(),o=i.pop(),l=i.pop(),h=i.pop(),m=i.pop(),b=t.z0,y=t.z1,z=b[n],V=b[o],K=y[l],X=y[h],D=t.z2[m];exports.DEBUG&&console.log("ISECT[], ",n,o,l,h,m);var le=z.x,ie=z.y,fe=V.x,ne=V.y,Oe=K.x,pe=K.y,Ne=X.x,me=X.y,M=(le-fe)*(pe-me)-(ie-ne)*(Oe-Ne),be=le*ne-ie*fe,ve=Oe*me-pe*Ne;D.x=(be*(Oe-Ne)-ve*(le-fe))/M,D.y=(be*(pe-me)-ve*(ie-ne))/M}function il(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function nl(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function al(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function sl(t){var i=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",i),t.zp0=i,i){case 0:t.tZone||on(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ol(t){var i=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",i),t.zp1=i,i){case 0:t.tZone||on(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ul(t){var i=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",i),t.zp2=i,i){case 0:t.tZone||on(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function hl(t){var i=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",i),t.zp0=t.zp1=t.zp2=i,i){case 0:t.tZone||on(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function ll(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function fl(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=so}function cl(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Zh}function pl(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",i),t.minDis=i/64}function dl(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),uo(t,!1)}function vl(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",i),t.ip+=i-1}function gl(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",i),t.cvCutIn=i/64}function ml(t){var i=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),i.push(i[i.length-1])}function kn(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function _l(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function xl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),i.push(n),i.push(o)}function yl(t){var i=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),i.push(i.length)}function bl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,o);var l=t.ip,h=t.prog;t.prog=t.funcs[n];for(var m=0;m<o;m++)Jr(t),exports.DEBUG&&console.log(++t.step,m+1<o?"next loopcall":"done loopcall",m);t.ip=l,t.prog=h}function Sl(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",i);var n=t.ip,o=t.prog;t.prog=t.funcs[i],Jr(t),t.ip=n,t.prog=o,exports.DEBUG&&console.log(++t.step,"returning from",i)}function wl(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),i.push(i[i.length-n])}function Cl(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),i.push(i.splice(i.length-n,1)[0])}function kl(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var i=t.stack,n=t.prog,o=t.ip,l=i.pop(),h=o;for(exports.DEBUG&&console.log(t.step,"FDEF[]",l);n[++o]!==45;);t.ip=o,t.funcs[l]=n.slice(h+1,o)}function ja(t,i){var n=i.stack.pop(),o=i.z0[n],l=i.fv,h=i.pv;exports.DEBUG&&console.log(i.step,"MDAP["+t+"]",n);var m=h.distance(o,Pi);t&&(m=i.round(m)),l.setRelative(o,Pi,m,h),l.touch(o),i.rp0=i.rp1=n}function Ka(t,i){var n=i.z2,o=n.length-2,l,h,m;exports.DEBUG&&console.log(i.step,"IUP["+t.axis+"]");for(var b=0;b<o;b++)l=n[b],!t.touched(l)&&(h=l.prevTouched(t),h!==l&&(m=l.nextTouched(t),h===m&&t.setRelative(l,l,t.distance(h,h,!1,!0),t,!0),t.interpolate(l,h,m,t)))}function Qa(t,i){for(var n=i.stack,o=t?i.rp1:i.rp2,l=(t?i.z0:i.z1)[o],h=i.fv,m=i.pv,b=i.loop,y=i.z2;b--;){var z=n.pop(),V=y[z],K=m.distance(l,l,!1,!0);h.setRelative(V,V,K,m),h.touch(V),exports.DEBUG&&console.log(i.step,(i.loop>1?"loop "+(i.loop-b)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",z)}i.loop=1}function Ja(t,i){var n=i.stack,o=t?i.rp1:i.rp2,l=(t?i.z0:i.z1)[o],h=i.fv,m=i.pv,b=n.pop(),y=i.z2[i.contours[b]],z=y;exports.DEBUG&&console.log(i.step,"SHC["+t+"]",b);var V=m.distance(l,l,!1,!0);do z!==l&&h.setRelative(z,z,V,m),z=z.nextPointOnContour;while(z!==y)}function $a(t,i){var n=i.stack,o=t?i.rp1:i.rp2,l=(t?i.z0:i.z1)[o],h=i.fv,m=i.pv,b=n.pop();exports.DEBUG&&console.log(i.step,"SHZ["+t+"]",b);var y;switch(b){case 0:y=i.tZone;break;case 1:y=i.gZone;break;default:throw new Error("Invalid zone")}for(var z,V=m.distance(l,l,!1,!0),K=y.length-2,X=0;X<K;X++)z=y[X],h.setRelative(z,z,V,m)}function Tl(t){for(var i=t.stack,n=t.loop,o=t.fv,l=i.pop()/64,h=t.z2;n--;){var m=i.pop(),b=h[m];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",m,l),o.setRelative(b,b,l),o.touch(b)}t.loop=1}function El(t){for(var i=t.stack,n=t.rp1,o=t.rp2,l=t.loop,h=t.z0[n],m=t.z1[o],b=t.fv,y=t.dpv,z=t.z2;l--;){var V=i.pop(),K=z[V];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"IP[]",V,n,"<->",o),b.interpolate(K,h,m,y),b.touch(K)}t.loop=1}function es(t,i){var n=i.stack,o=n.pop()/64,l=n.pop(),h=i.z1[l],m=i.z0[i.rp0],b=i.fv,y=i.pv;b.setRelative(h,m,o,y),b.touch(h),exports.DEBUG&&console.log(i.step,"MSIRP["+t+"]",o,l),i.rp1=i.rp0,i.rp2=l,t&&(i.rp0=l)}function Il(t){for(var i=t.stack,n=t.rp0,o=t.z0[n],l=t.loop,h=t.fv,m=t.pv,b=t.z1;l--;){var y=i.pop(),z=b[y];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"ALIGNRP[]",y),h.setRelative(z,o,0,m),h.touch(z)}t.loop=1}function Pl(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Xh}function ts(t,i){var n=i.stack,o=n.pop(),l=n.pop(),h=i.z0[l],m=i.fv,b=i.pv,y=i.cvt[o];exports.DEBUG&&console.log(i.step,"MIAP["+t+"]",o,"(",y,")",l);var z=b.distance(h,Pi);t&&(Math.abs(z-y)<i.cvCutIn&&(z=y),z=i.round(z)),m.setRelative(h,Pi,z,b),i.zp0===0&&(h.xo=h.x,h.yo=h.y),m.touch(h),i.rp0=i.rp1=l}function Al(t){var i=t.prog,n=t.ip,o=t.stack,l=i[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",l);for(var h=0;h<l;h++)o.push(i[++n]);t.ip=n}function Ol(t){var i=t.ip,n=t.prog,o=t.stack,l=n[++i];exports.DEBUG&&console.log(t.step,"NPUSHW[]",l);for(var h=0;h<l;h++){var m=n[++i]<<8|n[++i];m&32768&&(m=-((m^65535)+1)),o.push(m)}t.ip=i}function Ll(t){var i=t.stack,n=t.store;n||(n=t.store=[]);var o=i.pop(),l=i.pop();exports.DEBUG&&console.log(t.step,"WS",o,l),n[l]=o}function Fl(t){var i=t.stack,n=t.store,o=i.pop();exports.DEBUG&&console.log(t.step,"RS",o);var l=n&&n[o]||0;i.push(l)}function Rl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,o),t.cvt[o]=n/64}function Ml(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),i.push(t.cvt[n]*64)}function rs(t,i){var n=i.stack,o=n.pop(),l=i.z2[o];exports.DEBUG&&console.log(i.step,"GC["+t+"]",o),n.push(i.dpv.distance(l,Pi,t,!1)*64)}function is(t,i){var n=i.stack,o=n.pop(),l=n.pop(),h=i.z1[o],m=i.z0[l],b=i.dpv.distance(m,h,t,t);exports.DEBUG&&console.log(i.step,"MD["+t+"]",o,l,"->",b),i.stack.push(Math.round(b*64))}function Nl(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function Ul(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function Dl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,o),i.push(o<n?1:0)}function Bl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,o),i.push(o<=n?1:0)}function Vl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,o),i.push(o>n?1:0)}function zl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,o),i.push(o>=n?1:0)}function Gl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,o),i.push(n===o?1:0)}function Hl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,o),i.push(n!==o?1:0)}function ql(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),i.push(Math.trunc(n)%2?1:0)}function Wl(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),i.push(Math.trunc(n)%2?0:1)}function Xl(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",i),i||(uo(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function Zl(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function Yl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,o),i.push(n&&o?1:0)}function jl(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,o),i.push(n||o?1:0)}function Kl(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),i.push(n?0:1)}function Tn(t,i){var n=i.stack,o=n.pop(),l=i.fv,h=i.pv,m=i.ppem,b=i.deltaBase+(t-1)*16,y=i.deltaShift,z=i.z0;exports.DEBUG&&console.log(i.step,"DELTAP["+t+"]",o,n);for(var V=0;V<o;V++){var K=n.pop(),X=n.pop(),D=b+((X&240)>>4);if(D===m){var le=(X&15)-8;le>=0&&le++,exports.DEBUG&&console.log(i.step,"DELTAPFIX",K,"by",le*y);var ie=z[K];l.setRelative(ie,ie,le*y,h)}}}function Ql(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function Jl(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function $l(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,o),i.push(o+n)}function ef(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,o),i.push(o-n)}function tf(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,o),i.push(o*64/n)}function rf(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,o),i.push(o*n/64)}function nf(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),i.push(Math.abs(n))}function af(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),i.push(-n)}function sf(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),i.push(Math.floor(n/64)*64)}function of(t){var i=t.stack,n=i.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),i.push(Math.ceil(n/64)*64)}function Ki(t,i){var n=i.stack,o=n.pop();exports.DEBUG&&console.log(i.step,"ROUND[]"),n.push(i.round(o/64)*64)}function uf(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,o),t.cvt[o]=n*t.ppem/t.font.unitsPerEm}function En(t,i){var n=i.stack,o=n.pop(),l=i.ppem,h=i.deltaBase+(t-1)*16,m=i.deltaShift;exports.DEBUG&&console.log(i.step,"DELTAC["+t+"]",o,n);for(var b=0;b<o;b++){var y=n.pop(),z=n.pop(),V=h+((z&240)>>4);if(V===l){var K=(z&15)-8;K>=0&&K++;var X=K*m;exports.DEBUG&&console.log(i.step,"DELTACFIX",y,"by",X),i.cvt[y]+=X}}}function hf(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",i),t.round=oo;var n;switch(i&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,i&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}i&=15,i===0?t.srThreshold=0:t.srThreshold=(i/8-.5)*n}function lf(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",i),t.round=oo;var n;switch(i&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,i&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}i&=15,i===0?t.srThreshold=0:t.srThreshold=(i/8-.5)*n}function ff(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Wh}function cf(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Yh}function pf(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=jh}function df(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",i)}function ns(t,i){var n=i.stack,o=n.pop(),l=n.pop(),h=i.z2[o],m=i.z1[l];exports.DEBUG&&console.log(i.step,"SDPVTL["+t+"]",o,l);var b,y;t?(b=h.y-m.y,y=m.x-h.x):(b=m.x-h.x,y=m.y-h.y),i.dpv=Fi(b,y)}function vf(t){var i=t.stack,n=i.pop(),o=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(o=35),n&32&&(o|=4096),i.push(o)}function gf(t){var i=t.stack,n=i.pop(),o=i.pop(),l=i.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),i.push(o),i.push(n),i.push(l)}function mf(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,o),i.push(Math.max(o,n))}function _f(t){var i=t.stack,n=i.pop(),o=i.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,o),i.push(Math.min(o,n))}function xf(t){var i=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",i)}function yf(t){var i=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",i,n),i){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Pr(t,i){var n=i.stack,o=i.prog,l=i.ip;exports.DEBUG&&console.log(i.step,"PUSHB["+t+"]");for(var h=0;h<t;h++)n.push(o[++l]);i.ip=l}function Ar(t,i){var n=i.ip,o=i.prog,l=i.stack;exports.DEBUG&&console.log(i.ip,"PUSHW["+t+"]");for(var h=0;h<t;h++){var m=o[++n]<<8|o[++n];m&32768&&(m=-((m^65535)+1)),l.push(m)}i.ip=n}function Fe(t,i,n,o,l,h){var m=h.stack,b=t&&m.pop(),y=m.pop(),z=h.rp0,V=h.z0[z],K=h.z1[y],X=h.minDis,D=h.fv,le=h.dpv,ie,fe,ne,Oe;fe=ie=le.distance(K,V,!0,!0),ne=fe>=0?1:-1,fe=Math.abs(fe),t&&(Oe=h.cvt[b],o&&Math.abs(fe-Oe)<h.cvCutIn&&(fe=Oe)),n&&fe<X&&(fe=X),o&&(fe=h.round(fe)),D.setRelative(K,V,ne*fe,le),D.touch(K),exports.DEBUG&&console.log(h.step,(t?"MIRP[":"MDRP[")+(i?"M":"m")+(n?">":"_")+(o?"R":"_")+(l===0?"Gr":l===1?"Bl":l===2?"Wh":"")+"]",t?b+"("+h.cvt[b]+","+Oe+")":"",y,"(d =",ie,"->",ne*fe,")"),h.rp1=h.rp0,h.rp2=y,i&&(h.rp0=y)}io=[qa.bind(void 0,yr),qa.bind(void 0,dr),Wa.bind(void 0,yr),Wa.bind(void 0,dr),Xa.bind(void 0,yr),Xa.bind(void 0,dr),Za.bind(void 0,0),Za.bind(void 0,1),Ya.bind(void 0,0),Ya.bind(void 0,1),Qh,Jh,$h,el,tl,rl,il,nl,al,sl,ol,ul,hl,ll,fl,cl,pl,dl,vl,gl,void 0,void 0,ml,kn,_l,xl,yl,wl,Cl,void 0,void 0,void 0,bl,Sl,kl,void 0,ja.bind(void 0,0),ja.bind(void 0,1),Ka.bind(void 0,yr),Ka.bind(void 0,dr),Qa.bind(void 0,0),Qa.bind(void 0,1),Ja.bind(void 0,0),Ja.bind(void 0,1),$a.bind(void 0,0),$a.bind(void 0,1),Tl,El,es.bind(void 0,0),es.bind(void 0,1),Il,Pl,ts.bind(void 0,0),ts.bind(void 0,1),Al,Ol,Ll,Fl,Rl,Ml,rs.bind(void 0,0),rs.bind(void 0,1),void 0,is.bind(void 0,0),is.bind(void 0,1),Nl,void 0,Ul,void 0,void 0,Dl,Bl,Vl,zl,Gl,Hl,ql,Wl,Xl,Zl,Yl,jl,Kl,Tn.bind(void 0,1),Ql,Jl,$l,ef,tf,rf,nf,af,sf,of,Ki.bind(void 0,0),Ki.bind(void 0,1),Ki.bind(void 0,2),Ki.bind(void 0,3),void 0,void 0,void 0,void 0,uf,Tn.bind(void 0,2),Tn.bind(void 0,3),En.bind(void 0,1),En.bind(void 0,2),En.bind(void 0,3),hf,lf,void 0,void 0,ff,void 0,cf,pf,kn,kn,void 0,void 0,void 0,void 0,void 0,df,ns.bind(void 0,0),ns.bind(void 0,1),vf,void 0,gf,mf,_f,xf,yf,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Pr.bind(void 0,1),Pr.bind(void 0,2),Pr.bind(void 0,3),Pr.bind(void 0,4),Pr.bind(void 0,5),Pr.bind(void 0,6),Pr.bind(void 0,7),Pr.bind(void 0,8),Ar.bind(void 0,1),Ar.bind(void 0,2),Ar.bind(void 0,3),Ar.bind(void 0,4),Ar.bind(void 0,5),Ar.bind(void 0,6),Ar.bind(void 0,7),Ar.bind(void 0,8),Fe.bind(void 0,0,0,0,0,0),Fe.bind(void 0,0,0,0,0,1),Fe.bind(void 0,0,0,0,0,2),Fe.bind(void 0,0,0,0,0,3),Fe.bind(void 0,0,0,0,1,0),Fe.bind(void 0,0,0,0,1,1),Fe.bind(void 0,0,0,0,1,2),Fe.bind(void 0,0,0,0,1,3),Fe.bind(void 0,0,0,1,0,0),Fe.bind(void 0,0,0,1,0,1),Fe.bind(void 0,0,0,1,0,2),Fe.bind(void 0,0,0,1,0,3),Fe.bind(void 0,0,0,1,1,0),Fe.bind(void 0,0,0,1,1,1),Fe.bind(void 0,0,0,1,1,2),Fe.bind(void 0,0,0,1,1,3),Fe.bind(void 0,0,1,0,0,0),Fe.bind(void 0,0,1,0,0,1),Fe.bind(void 0,0,1,0,0,2),Fe.bind(void 0,0,1,0,0,3),Fe.bind(void 0,0,1,0,1,0),Fe.bind(void 0,0,1,0,1,1),Fe.bind(void 0,0,1,0,1,2),Fe.bind(void 0,0,1,0,1,3),Fe.bind(void 0,0,1,1,0,0),Fe.bind(void 0,0,1,1,0,1),Fe.bind(void 0,0,1,1,0,2),Fe.bind(void 0,0,1,1,0,3),Fe.bind(void 0,0,1,1,1,0),Fe.bind(void 0,0,1,1,1,1),Fe.bind(void 0,0,1,1,1,2),Fe.bind(void 0,0,1,1,1,3),Fe.bind(void 0,1,0,0,0,0),Fe.bind(void 0,1,0,0,0,1),Fe.bind(void 0,1,0,0,0,2),Fe.bind(void 0,1,0,0,0,3),Fe.bind(void 0,1,0,0,1,0),Fe.bind(void 0,1,0,0,1,1),Fe.bind(void 0,1,0,0,1,2),Fe.bind(void 0,1,0,0,1,3),Fe.bind(void 0,1,0,1,0,0),Fe.bind(void 0,1,0,1,0,1),Fe.bind(void 0,1,0,1,0,2),Fe.bind(void 0,1,0,1,0,3),Fe.bind(void 0,1,0,1,1,0),Fe.bind(void 0,1,0,1,1,1),Fe.bind(void 0,1,0,1,1,2),Fe.bind(void 0,1,0,1,1,3),Fe.bind(void 0,1,1,0,0,0),Fe.bind(void 0,1,1,0,0,1),Fe.bind(void 0,1,1,0,0,2),Fe.bind(void 0,1,1,0,0,3),Fe.bind(void 0,1,1,0,1,0),Fe.bind(void 0,1,1,0,1,1),Fe.bind(void 0,1,1,0,1,2),Fe.bind(void 0,1,1,0,1,3),Fe.bind(void 0,1,1,1,0,0),Fe.bind(void 0,1,1,1,0,1),Fe.bind(void 0,1,1,1,0,2),Fe.bind(void 0,1,1,1,0,3),Fe.bind(void 0,1,1,1,1,0),Fe.bind(void 0,1,1,1,1,1),Fe.bind(void 0,1,1,1,1,2),Fe.bind(void 0,1,1,1,1,3)];function li(t){this.char=t,this.state={},this.activeState=null}function Jn(t,i,n){this.contextName=n,this.startIndex=t,this.endOffset=i}function bf(t,i,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=i,this.checkEnd=n}function ar(t,i){this.context=t,this.index=i,this.length=t.length,this.current=t[i],this.backtrack=t.slice(0,i),this.lookahead=t.slice(i+1)}function un(t){this.eventId=t,this.subscribers=[]}function Sf(t){var i=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(l){Object.defineProperty(i.events,l,{value:new un(l)})}),t&&n.forEach(function(l){var h=t[l];typeof h=="function"&&i.events[l].subscribe(h)});var o=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];o.forEach(function(l){i.events[l].subscribe(i.updateContextsRanges)})}function Tt(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Sf.call(this,t)}li.prototype.setState=function(t,i){return this.state[t]=i,this.activeState={key:t,value:this.state[t]},this.activeState};li.prototype.getState=function(t){return this.state[t]||null};Tt.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Tt.prototype.composeRUD=function(t){var i=this,n=!0,o=t.map(function(h){return i[h[0]].apply(i,h.slice(1).concat(n))}),l=function(h){return typeof h=="object"&&h.hasOwnProperty("FAIL")};if(o.every(l))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:o.filter(l)};this.dispatch("composeRUD",[o.filter(function(h){return!l(h)})])};Tt.prototype.replaceRange=function(t,i,n,o){i=i!==null?i:this.tokens.length;var l=n.every(function(m){return m instanceof li});if(!isNaN(t)&&this.inboundIndex(t)&&l){var h=this.tokens.splice.apply(this.tokens,[t,i].concat(n));return o||this.dispatch("replaceToken",[t,i,n]),[h,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Tt.prototype.replaceToken=function(t,i,n){if(!isNaN(t)&&this.inboundIndex(t)&&i instanceof li){var o=this.tokens.splice(t,1,i);return n||this.dispatch("replaceToken",[t,i]),[o[0],i]}else return{FAIL:"replaceToken: invalid token or index."}};Tt.prototype.removeRange=function(t,i,n){i=isNaN(i)?this.tokens.length:i;var o=this.tokens.splice(t,i);return n||this.dispatch("removeRange",[o,t,i]),o};Tt.prototype.removeToken=function(t,i){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return i||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Tt.prototype.insertToken=function(t,i,n){var o=t.every(function(l){return l instanceof li});return o?(this.tokens.splice.apply(this.tokens,[i,0].concat(t)),n||this.dispatch("insertToken",[t,i]),t):{FAIL:"insertToken: invalid token(s)."}};Tt.prototype.registerModifier=function(t,i,n){this.events.newToken.subscribe(function(o,l){var h=[o,l],m=i===null||i.apply(this,h)===!0,b=[o,l];if(m){var y=n.apply(this,b);o.setState(t,y)}}),this.registeredModifiers.push(t)};un.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};un.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};ar.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};ar.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Tt.prototype.rangeToText=function(t){if(t instanceof Jn)return this.getRangeTokens(t).map(function(i){return i.char}).join("")};Tt.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Tt.prototype.getContext=function(t){var i=this.registeredContexts[t];return i||null};Tt.prototype.on=function(t,i){var n=this.events[t];return n?n.subscribe(i):null};Tt.prototype.dispatch=function(t,i){var n=this,o=this.events[t];o instanceof un&&o.subscribers.forEach(function(l){l.apply(n,i||[])})};Tt.prototype.registerContextChecker=function(t,i,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof i!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var o=new bf(t,i,n);return this.registeredContexts[t]=o,this.contextCheckers.push(o),o};Tt.prototype.getRangeTokens=function(t){var i=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,i))};Tt.prototype.getContextRanges=function(t){var i=this.getContext(t);return i?i.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Tt.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.ranges=[]}};Tt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(o){return o.char}),i=0;i<t.length;i++){var n=new ar(t,i);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Tt.prototype.setEndOffset=function(t,i){var n=this.getContext(i).openRange.startIndex,o=new Jn(n,t,i),l=this.getContext(i).ranges;return o.rangeId=i+"."+l.length,l.push(o),this.getContext(i).openRange=null,o};Tt.prototype.runContextCheck=function(t){var i=this,n=t.index;this.contextCheckers.forEach(function(o){var l=o.contextName,h=i.getContext(l).openRange;if(!h&&o.checkStart(t)&&(h=new Jn(n,null,l),i.getContext(l).openRange=h,i.dispatch("contextStart",[l,n])),h&&o.checkEnd(t)){var m=n-h.startIndex+1,b=i.setEndOffset(m,l);i.dispatch("contextEnd",[l,b])}})};Tt.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var i=Array.from(t);this.dispatch("start");for(var n=0;n<i.length;n++){var o=i[n],l=new ar(i,n);this.dispatch("next",[l]),this.runContextCheck(l);var h=new li(o);this.tokens.push(h),this.dispatch("newToken",[h,l])}return this.dispatch("end",[this.tokens]),this.tokens};function Rr(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function ho(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Mr(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function $i(t){return/[A-z]/.test(t)}function wf(t){return/\s/.test(t)}function Jt(t){this.font=t,this.features={}}function Qr(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function Ri(t,i){if(!t)return-1;switch(i.format){case 1:return i.glyphs.indexOf(t);case 2:for(var n=i.ranges,o=0;o<n.length;o++){var l=n[o];if(t>=l.start&&t<=l.end){var h=t-l.start;return l.index+h}}break;default:return-1}return-1}function Cf(t,i){var n=Ri(t,i.coverage);return n===-1?null:t+i.deltaGlyphId}function kf(t,i){var n=Ri(t,i.coverage);return n===-1?null:i.substitute[n]}function In(t,i){for(var n=[],o=0;o<t.length;o++){var l=t[o],h=i.current;h=Array.isArray(h)?h[0]:h;var m=Ri(h,l);m!==-1&&n.push(m)}return n.length!==t.length?-1:n}function Tf(t,i){var n=i.inputCoverage.length+i.lookaheadCoverage.length+i.backtrackCoverage.length;if(t.context.length<n)return[];var o=In(i.inputCoverage,t);if(o===-1)return[];var l=i.inputCoverage.length-1;if(t.lookahead.length<i.lookaheadCoverage.length)return[];for(var h=t.lookahead.slice(l);h.length&&Mr(h[0].char);)h.shift();var m=new ar(h,0),b=In(i.lookaheadCoverage,m),y=[].concat(t.backtrack);for(y.reverse();y.length&&Mr(y[0].char);)y.shift();if(y.length<i.backtrackCoverage.length)return[];var z=new ar(y,0),V=In(i.backtrackCoverage,z),K=o.length===i.inputCoverage.length&&b.length===i.lookaheadCoverage.length&&V.length===i.backtrackCoverage.length,X=[];if(K)for(var D=0;D<i.lookupRecords.length;D++)for(var le=i.lookupRecords[D],ie=le.lookupListIndex,fe=this.getLookupByIndex(ie),ne=0;ne<fe.subtables.length;ne++){var Oe=fe.subtables[ne],pe=this.getLookupMethod(fe,Oe),Ne=this.getSubstitutionType(fe,Oe);if(Ne==="12")for(var me=0;me<o.length;me++){var M=t.get(me),be=pe(M);be&&X.push(be)}}return X}function Ef(t,i){var n=t.current,o=Ri(n,i.coverage);if(o===-1)return null;for(var l,h=i.ligatureSets[o],m=0;m<h.length;m++){l=h[m];for(var b=0;b<l.components.length;b++){var y=t.lookahead[b],z=l.components[b];if(y!==z)break;if(b===l.components.length-1)return l}}return null}function If(t,i){var n=Ri(t,i.coverage);return n===-1?null:i.sequences[n]}Jt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,i=0;i<t.length;i++){var n=t[i];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Jt.prototype.getScriptFeaturesIndexes=function(t){var i=this.font.tables;if(!i.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,o=0;o<n.length;o++){var l=n[o];if(l.tag===t&&l.script.defaultLangSys)return l.script.defaultLangSys.featureIndexes;var h=l.langSysRecords;if(h)for(var m=0;m<h.length;m++){var b=h[m];if(b.tag===t){var y=b.langSys;return y.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Jt.prototype.mapTagsToFeatures=function(t,i){for(var n={},o=0;o<t.length;o++){var l=t[o].tag,h=t[o].feature;n[l]=h}this.features[i].tags=n};Jt.prototype.getScriptFeatures=function(t){var i=this.features[t];if(this.features.hasOwnProperty(t))return i;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var o=this.font.tables.gsub;return i=n.map(function(l){return o.features[l]}),this.features[t]=i,this.mapTagsToFeatures(i,t),i};Jt.prototype.getSubstitutionType=function(t,i){var n=t.lookupType.toString(),o=i.substFormat.toString();return n+o};Jt.prototype.getLookupMethod=function(t,i){var n=this,o=this.getSubstitutionType(t,i);switch(o){case"11":return function(l){return Cf.apply(n,[l,i])};case"12":return function(l){return kf.apply(n,[l,i])};case"63":return function(l){return Tf.apply(n,[l,i])};case"41":return function(l){return Ef.apply(n,[l,i])};case"21":return function(l){return If.apply(n,[l,i])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+i.substFormat+" is not yet supported")}};Jt.prototype.lookupFeature=function(t){var i=t.contextParams,n=i.index,o=this.getFeature({tag:t.tag,script:t.script});if(!o)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var l=this.getFeatureLookups(o),h=[].concat(i.context),m=0;m<l.length;m++)for(var b=l[m],y=this.getLookupSubtables(b),z=0;z<y.length;z++){var V=y[z],K=this.getSubstitutionType(b,V),X=this.getLookupMethod(b,V),D=void 0;switch(K){case"11":D=X(i.current),D&&h.splice(n,1,new Qr({id:11,tag:t.tag,substitution:D}));break;case"12":D=X(i.current),D&&h.splice(n,1,new Qr({id:12,tag:t.tag,substitution:D}));break;case"63":D=X(i),Array.isArray(D)&&D.length&&h.splice(n,1,new Qr({id:63,tag:t.tag,substitution:D}));break;case"41":D=X(i),D&&h.splice(n,1,new Qr({id:41,tag:t.tag,substitution:D}));break;case"21":D=X(i.current),D&&h.splice(n,1,new Qr({id:21,tag:t.tag,substitution:D}));break}i=new ar(h,n),!(Array.isArray(D)&&!D.length)&&(D=null)}return h.length?h:null};Jt.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var i=this.features.hasOwnProperty(t.script);if(!t.tag)return i;var n=this.features[t.script].some(function(o){return o.tag===t.tag});return i&&n};Jt.prototype.getLookupSubtables=function(t){return t.subtables||null};Jt.prototype.getLookupByIndex=function(t){var i=this.font.tables.gsub.lookups;return i[t]||null};Jt.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Jt.prototype.getFeature=function(i){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(i.script)||this.getScriptFeatures(i.script);var n=this.features[i.script];return n?n.tags[i.tag]?this.features[i.script].tags[i.tag]:null:{FAIL:"No feature for script "+i.script}};function Pf(t){var i=t.current,n=t.get(-1);return n===null&&Rr(i)||!Rr(n)&&Rr(i)}function Af(t){var i=t.get(1);return i===null||!Rr(i)}var Of={startCheck:Pf,endCheck:Af};function Lf(t){var i=t.current,n=t.get(-1);return(Rr(i)||Mr(i))&&!Rr(n)}function Ff(t){var i=t.get(1);switch(!0){case i===null:return!0;case(!Rr(i)&&!Mr(i)):var n=wf(i);if(!n)return!0;if(n){var o=!1;if(o=t.lookahead.some(function(l){return Rr(l)||Mr(l)}),!o)return!0}break;default:return!1}}var Rf={startCheck:Lf,endCheck:Ff};function Mf(t,i,n){i[n].setState(t.tag,t.substitution)}function Nf(t,i,n){i[n].setState(t.tag,t.substitution)}function Uf(t,i,n){t.substitution.forEach(function(o,l){var h=i[n+l];h.setState(t.tag,o)})}function Df(t,i,n){var o=i[n];o.setState(t.tag,t.substitution.ligGlyph);for(var l=t.substitution.components.length,h=0;h<l;h++)o=i[n+h+1],o.setState("deleted",!0)}var as={11:Mf,12:Nf,63:Uf,41:Df};function $n(t,i,n){t instanceof Qr&&as[t.id]&&as[t.id](t,i,n)}function Bf(t){for(var i=[].concat(t.backtrack),n=i.length-1;n>=0;n--){var o=i[n],l=ho(o),h=Mr(o);if(!l&&!h)return!0;if(l)return!1}return!1}function Vf(t){if(ho(t.current))return!1;for(var i=0;i<t.lookahead.length;i++){var n=t.lookahead[i],o=Mr(n);if(!o)return!0}return!1}function zf(t){var i=this,n="arab",o=this.featuresTags[n],l=this.tokenizer.getRangeTokens(t);if(l.length!==1){var h=new ar(l.map(function(b){return b.getState("glyphIndex")}),0),m=new ar(l.map(function(b){return b.char}),0);l.forEach(function(b,y){if(!Mr(b.char)){h.setCurrentIndex(y),m.setCurrentIndex(y);var z=0;Bf(m)&&(z|=1),Vf(m)&&(z|=2);var V;switch(z){case 1:V="fina";break;case 2:V="init";break;case 3:V="medi";break}if(o.indexOf(V)!==-1){var K=i.query.lookupFeature({tag:V,script:n,contextParams:h});if(K instanceof Error)return console.info(K.message);K.forEach(function(X,D){X instanceof Qr&&($n(X,l,D),h.context[D]=X.substitution)})}}})}}function ss(t,i){var n=t.map(function(o){return o.activeState.value});return new ar(n,i||0)}function Gf(t){var i=this,n="arab",o=this.tokenizer.getRangeTokens(t),l=ss(o);l.context.forEach(function(h,m){l.setCurrentIndex(m);var b=i.query.lookupFeature({tag:"rlig",script:n,contextParams:l});b.length&&(b.forEach(function(y){return $n(y,o,m)}),l=ss(o))})}function Hf(t){var i=t.current,n=t.get(-1);return n===null&&$i(i)||!$i(n)&&$i(i)}function qf(t){var i=t.get(1);return i===null||!$i(i)}var Wf={startCheck:Hf,endCheck:qf};function os(t,i){var n=t.map(function(o){return o.activeState.value});return new ar(n,i||0)}function Xf(t){var i=this,n="latn",o=this.tokenizer.getRangeTokens(t),l=os(o);l.context.forEach(function(h,m){l.setCurrentIndex(m);var b=i.query.lookupFeature({tag:"liga",script:n,contextParams:l});b.length&&(b.forEach(function(y){return $n(y,o,m)}),l=os(o))})}function ur(t){this.baseDir=t||"ltr",this.tokenizer=new Tt,this.featuresTags={}}ur.prototype.setText=function(t){this.text=t};ur.prototype.contextChecks={latinWordCheck:Wf,arabicWordCheck:Of,arabicSentenceCheck:Rf};function Pn(t){var i=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,i.startCheck,i.endCheck)}function Zf(){return Pn.call(this,"latinWord"),Pn.call(this,"arabicWord"),Pn.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Yf(){var t=this,i=this.tokenizer.getContextRanges("arabicSentence");i.forEach(function(n){var o=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,o.reverse())})}ur.prototype.registerFeatures=function(t,i){var n=this,o=i.filter(function(l){return n.query.supports({script:t,tag:l})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(o):this.featuresTags[t]=o};ur.prototype.applyFeatures=function(t,i){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Jt(t));for(var n=0;n<i.length;n++){var o=i[n];this.query.supports({script:o.script})&&this.registerFeatures(o.script,o.tags)}};ur.prototype.registerModifier=function(t,i,n){this.tokenizer.registerModifier(t,i,n)};function ea(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function jf(){var t=this,i="arab";if(this.featuresTags.hasOwnProperty(i)){ea.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(o){zf.call(t,o)})}}function Kf(){var t=this,i="arab";if(this.featuresTags.hasOwnProperty(i)){var n=this.featuresTags[i];if(n.indexOf("rlig")!==-1){ea.call(this);var o=this.tokenizer.getContextRanges("arabicWord");o.forEach(function(l){Gf.call(t,l)})}}}function Qf(){var t=this,i="latn";if(this.featuresTags.hasOwnProperty(i)){var n=this.featuresTags[i];if(n.indexOf("liga")!==-1){ea.call(this);var o=this.tokenizer.getContextRanges("latinWord");o.forEach(function(l){Xf.call(t,l)})}}}ur.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};ur.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(jf.call(this),Kf.call(this)),this.checkContextReady("latinWord")&&Qf.call(this),this.checkContextReady("arabicSentence")&&Yf.call(this)};ur.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Zf.call(this),this.applyFeaturesToContexts())};ur.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};ur.prototype.getTextGlyphs=function(t){this.processText(t);for(var i=[],n=0;n<this.tokenizer.tokens.length;n++){var o=this.tokenizer.tokens[n];if(!o.state.deleted){var l=o.activeState.value;i.push(Array.isArray(l)?l[0]:l)}}return i};function ft(t){t=t||{},t.tables=t.tables||{},t.empty||(Ci(t.familyName,"When creating a new Font object, familyName is required."),Ci(t.styleName,"When creating a new Font object, styleName is required."),Ci(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ci(t.ascender,"When creating a new Font object, ascender is required."),Ci(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new vr.GlyphSet(this,t.glyphs||[]),this.encoding=new Es(this),this.position=new Oi(this),this.substitution=new Qt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new ao(this)}})}ft.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};ft.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};ft.prototype.charToGlyph=function(t){var i=this.charToGlyphIndex(t),n=this.glyphs.get(i);return n||(n=this.glyphs.get(0)),n};ft.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(i){return i.script==="latn"?{script:"latn",tags:i.tags.filter(function(n){return t[n]})}:i})};ft.prototype.stringToGlyphs=function(t,i){var n=this,o=new ur,l=function(K){return n.charToGlyphIndex(K.char)};o.registerModifier("glyphIndex",null,l);var h=i?this.updateFeatures(i.features):this.defaultRenderOptions.features;o.applyFeatures(this,h);for(var m=o.getTextGlyphs(t),b=m.length,y=new Array(b),z=this.glyphs.get(0),V=0;V<b;V+=1)y[V]=this.glyphs.get(m[V])||z;return y};ft.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};ft.prototype.nameToGlyph=function(t){var i=this.nameToGlyphIndex(t),n=this.glyphs.get(i);return n||(n=this.glyphs.get(0)),n};ft.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};ft.prototype.getKerningValue=function(t,i){t=t.index||t,i=i.index||i;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,i):this.kerningPairs[t+","+i]||0};ft.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};ft.prototype.forEachGlyph=function(t,i,n,o,l,h){i=i!==void 0?i:0,n=n!==void 0?n:0,o=o!==void 0?o:72,l=Object.assign({},this.defaultRenderOptions,l);var m=1/this.unitsPerEm*o,b=this.stringToGlyphs(t,l),y;if(l.kerning){var z=l.script||this.position.getDefaultScriptName();y=this.position.getKerningTables(z,l.language)}for(var V=0;V<b.length;V+=1){var K=b[V];if(h.call(this,K,i,n,o,l),K.advanceWidth&&(i+=K.advanceWidth*m),l.kerning&&V<b.length-1){var X=y?this.position.getKerningValue(y,K.index,b[V+1].index):this.getKerningValue(K,b[V+1]);i+=X*m}l.letterSpacing?i+=l.letterSpacing*o:l.tracking&&(i+=l.tracking/1e3*o)}return i};ft.prototype.getPath=function(t,i,n,o,l){var h=new Ot;return this.forEachGlyph(t,i,n,o,l,function(m,b,y,z){var V=m.getPath(b,y,z,l,this);h.extend(V)}),h};ft.prototype.getPaths=function(t,i,n,o,l){var h=[];return this.forEachGlyph(t,i,n,o,l,function(m,b,y,z){var V=m.getPath(b,y,z,l,this);h.push(V)}),h};ft.prototype.getAdvanceWidth=function(t,i,n){return this.forEachGlyph(t,0,0,i,n,function(){})};ft.prototype.draw=function(t,i,n,o,l,h){this.getPath(i,n,o,l,h).draw(t)};ft.prototype.drawPoints=function(t,i,n,o,l,h){this.forEachGlyph(i,n,o,l,h,function(m,b,y,z){m.drawPoints(t,b,y,z)})};ft.prototype.drawMetrics=function(t,i,n,o,l,h){this.forEachGlyph(i,n,o,l,h,function(m,b,y,z){m.drawMetrics(t,b,y,z)})};ft.prototype.getEnglishName=function(t){var i=this.names[t];if(i)return i.en};ft.prototype.validate=function(){var t=this;function i(o,l){}function n(o){var l=t.getEnglishName(o);l&&l.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};ft.prototype.toTables=function(){return Uh.fontToTable(this)};ft.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};ft.prototype.toArrayBuffer=function(){for(var t=this.toTables(),i=t.encode(),n=new ArrayBuffer(i.length),o=new Uint8Array(n),l=0;l<i.length;l++)o[l]=i[l];return n};ft.prototype.download=function(t){var i=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||i.replace(/\s/g,"")+"-"+n+".otf";var o=this.toArrayBuffer();if(Bh())if(window.URL=window.URL||window.webkitURL,window.URL){var l=new DataView(o),h=new Blob([l],{type:"font/opentype"}),m=document.createElement("a");m.href=window.URL.createObjectURL(h),m.download=t;var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!1),m.dispatchEvent(b)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var y=require("fs"),z=Vh(o);y.writeFileSync(t,z)}};ft.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};ft.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};ft.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function lo(t,i){var n=JSON.stringify(t),o=256;for(var l in i){var h=parseInt(l);if(!(!h||h<256)){if(JSON.stringify(i[l])===n)return h;o<=h&&(o=h+1)}}return i[o]=t,o}function Jf(t,i,n){var o=lo(i.name,n);return[{name:"tag_"+t,type:"TAG",value:i.tag},{name:"minValue_"+t,type:"FIXED",value:i.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:i.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:i.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:o}]}function $f(t,i,n){var o={},l=new Re.Parser(t,i);return o.tag=l.parseTag(),o.minValue=l.parseFixed(),o.defaultValue=l.parseFixed(),o.maxValue=l.parseFixed(),l.skip("uShort",1),o.name=n[l.parseUShort()]||{},o}function ec(t,i,n,o){for(var l=lo(i.name,o),h=[{name:"nameID_"+t,type:"USHORT",value:l},{name:"flags_"+t,type:"USHORT",value:0}],m=0;m<n.length;++m){var b=n[m].tag;h.push({name:"axis_"+t+" "+b,type:"FIXED",value:i.coordinates[b]<<16})}return h}function tc(t,i,n,o){var l={},h=new Re.Parser(t,i);l.name=o[h.parseUShort()]||{},h.skip("uShort",1),l.coordinates={};for(var m=0;m<n.length;++m)l.coordinates[n[m].tag]=h.parseFixed();return l}function rc(t,i){var n=new Ae.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);n.offsetToData=n.sizeOf();for(var o=0;o<t.axes.length;o++)n.fields=n.fields.concat(Jf(o,t.axes[o],i));for(var l=0;l<t.instances.length;l++)n.fields=n.fields.concat(ec(l,t.instances[l],t.axes,i));return n}function ic(t,i,n){var o=new Re.Parser(t,i),l=o.parseULong();Ge.argument(l===65536,"Unsupported fvar table version.");var h=o.parseOffset16();o.skip("uShort",1);for(var m=o.parseUShort(),b=o.parseUShort(),y=o.parseUShort(),z=o.parseUShort(),V=[],K=0;K<m;K++)V.push($f(t,i+h+K*b,n));for(var X=[],D=i+h+m*b,le=0;le<y;le++)X.push(tc(t,D+le*z,V,n));return{axes:V,instances:X}}var nc={make:rc,parse:ic},ac=function(){return{coverage:this.parsePointer(se.coverage),attachPoints:this.parseList(se.pointer(se.uShortList))}},sc=function(){var t=this.parseUShort();if(Ge.argument(t===1||t===2||t===3,"Unsupported CaretValue table version."),t===1)return{coordinate:this.parseShort()};if(t===2)return{pointindex:this.parseShort()};if(t===3)return{coordinate:this.parseShort()}},oc=function(){return this.parseList(se.pointer(sc))},uc=function(){return{coverage:this.parsePointer(se.coverage),ligGlyphs:this.parseList(se.pointer(oc))}},hc=function(){return this.parseUShort(),this.parseList(se.pointer(se.coverage))};function lc(t,i){i=i||0;var n=new se(t,i),o=n.parseVersion(1);Ge.argument(o===1||o===1.2||o===1.3,"Unsupported GDEF table version.");var l={version:o,classDef:n.parsePointer(se.classDef),attachList:n.parsePointer(ac),ligCaretList:n.parsePointer(uc),markAttachClassDef:n.parsePointer(se.classDef)};return o>=1.2&&(l.markGlyphSets=n.parsePointer(hc)),l}var fc={parse:lc},sr=new Array(10);sr[1]=function(){var i=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(se.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(se.coverage),values:this.parseValueRecordList()};Ge.assert(!1,"0x"+i.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};sr[2]=function(){var i=this.offset+this.relativeOffset,n=this.parseUShort();Ge.assert(n===1||n===2,"0x"+i.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var o=this.parsePointer(se.coverage),l=this.parseUShort(),h=this.parseUShort();if(n===1)return{posFormat:n,coverage:o,valueFormat1:l,valueFormat2:h,pairSets:this.parseList(se.pointer(se.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(l),value2:this.parseValueRecord(h)}})))};if(n===2){var m=this.parsePointer(se.classDef),b=this.parsePointer(se.classDef),y=this.parseUShort(),z=this.parseUShort();return{posFormat:n,coverage:o,valueFormat1:l,valueFormat2:h,classDef1:m,classDef2:b,class1Count:y,class2Count:z,classRecords:this.parseList(y,se.list(z,function(){return{value1:this.parseValueRecord(l),value2:this.parseValueRecord(h)}}))}}};sr[3]=function(){return{error:"GPOS Lookup 3 not supported"}};sr[4]=function(){return{error:"GPOS Lookup 4 not supported"}};sr[5]=function(){return{error:"GPOS Lookup 5 not supported"}};sr[6]=function(){return{error:"GPOS Lookup 6 not supported"}};sr[7]=function(){return{error:"GPOS Lookup 7 not supported"}};sr[8]=function(){return{error:"GPOS Lookup 8 not supported"}};sr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function cc(t,i){i=i||0;var n=new se(t,i),o=n.parseVersion(1);return Ge.argument(o===1||o===1.1,"Unsupported GPOS table version "+o),o===1?{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sr)}:{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sr),variations:n.parseFeatureVariationsList()}}var pc=new Array(10);function dc(t){return new Ae.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ae.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Ae.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Ae.LookupList(t.lookups,pc)}])}var vc={parse:cc,make:dc};function gc(t){var i={};t.skip("uShort");var n=t.parseUShort();Ge.argument(n===0,"Unsupported kern sub-table version."),t.skip("uShort",2);var o=t.parseUShort();t.skip("uShort",3);for(var l=0;l<o;l+=1){var h=t.parseUShort(),m=t.parseUShort(),b=t.parseShort();i[h+","+m]=b}return i}function mc(t){var i={};t.skip("uShort");var n=t.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var o=t.parseUShort(),l=o&255;if(t.skip("uShort"),l===0){var h=t.parseUShort();t.skip("uShort",3);for(var m=0;m<h;m+=1){var b=t.parseUShort(),y=t.parseUShort(),z=t.parseShort();i[b+","+y]=z}}return i}function _c(t,i){var n=new Re.Parser(t,i),o=n.parseUShort();if(o===0)return gc(n);if(o===1)return mc(n);throw new Error("Unsupported kern table version ("+o+").")}var xc={parse:_c};function yc(t,i,n,o){for(var l=new Re.Parser(t,i),h=o?l.parseUShort:l.parseULong,m=[],b=0;b<n+1;b+=1){var y=h.call(l);o&&(y*=2),m.push(y)}return m}var bc={parse:yc};function Sc(t,i){var n=require("fs");n.readFile(t,function(o,l){if(o)return i(o.message);i(null,Js(l))})}function wc(t,i){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?i(null,n.response):i("Font could not be loaded: "+n.statusText)},n.onerror=function(){i("Font could not be loaded")},n.send()}function us(t,i){for(var n=[],o=12,l=0;l<i;l+=1){var h=Re.getTag(t,o),m=Re.getULong(t,o+4),b=Re.getULong(t,o+8),y=Re.getULong(t,o+12);n.push({tag:h,checksum:m,offset:b,length:y,compression:!1}),o+=16}return n}function Cc(t,i){for(var n=[],o=44,l=0;l<i;l+=1){var h=Re.getTag(t,o),m=Re.getULong(t,o+4),b=Re.getULong(t,o+8),y=Re.getULong(t,o+12),z=void 0;b<y?z="WOFF":z=!1,n.push({tag:h,offset:m,compression:z,compressedLength:b,length:y}),o+=20}return n}function Pt(t,i){if(i.compression==="WOFF"){var n=new Uint8Array(t.buffer,i.offset+2,i.compressedLength-2),o=new Uint8Array(i.length);if(du(n,o),o.byteLength!==i.length)throw new Error("Decompression error: "+i.tag+" decompressed length doesn't match recorded length");var l=new DataView(o.buffer,0);return{data:l,offset:0}}else return{data:t,offset:i.offset}}function ta(t,i){i=i??{};var n,o,l=new ft({empty:!0}),h=new DataView(t,0),m,b=[],y=Re.getTag(h,0);if(y==="\0\0\0"||y==="true"||y==="typ1")l.outlinesFormat="truetype",m=Re.getUShort(h,4),b=us(h,m);else if(y==="OTTO")l.outlinesFormat="cff",m=Re.getUShort(h,4),b=us(h,m);else if(y==="wOFF"){var z=Re.getTag(h,4);if(z==="\0\0\0")l.outlinesFormat="truetype";else if(z==="OTTO")l.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+y);m=Re.getUShort(h,12),b=Cc(h,m)}else throw new Error("Unsupported OpenType signature "+y);for(var V,K,X,D,le,ie,fe,ne,Oe,pe,Ne,me,M=0;M<m;M+=1){var be=b[M],ve=void 0;switch(be.tag){case"cmap":ve=Pt(h,be),l.tables.cmap=Ts.parse(ve.data,ve.offset),l.encoding=new Is(l.tables.cmap);break;case"cvt ":ve=Pt(h,be),me=new Re.Parser(ve.data,ve.offset),l.tables.cvt=me.parseShortList(be.length/2);break;case"fvar":K=be;break;case"fpgm":ve=Pt(h,be),me=new Re.Parser(ve.data,ve.offset),l.tables.fpgm=me.parseByteList(be.length);break;case"head":ve=Pt(h,be),l.tables.head=Ds.parse(ve.data,ve.offset),l.unitsPerEm=l.tables.head.unitsPerEm,n=l.tables.head.indexToLocFormat;break;case"hhea":ve=Pt(h,be),l.tables.hhea=Bs.parse(ve.data,ve.offset),l.ascender=l.tables.hhea.ascender,l.descender=l.tables.hhea.descender,l.numberOfHMetrics=l.tables.hhea.numberOfHMetrics;break;case"hmtx":fe=be;break;case"ltag":ve=Pt(h,be),o=zs.parse(ve.data,ve.offset);break;case"maxp":ve=Pt(h,be),l.tables.maxp=Gs.parse(ve.data,ve.offset),l.numGlyphs=l.tables.maxp.numGlyphs;break;case"name":pe=be;break;case"OS/2":ve=Pt(h,be),l.tables.os2=Gn.parse(ve.data,ve.offset);break;case"post":ve=Pt(h,be),l.tables.post=Ys.parse(ve.data,ve.offset),l.glyphNames=new Yn(l.tables.post);break;case"prep":ve=Pt(h,be),me=new Re.Parser(ve.data,ve.offset),l.tables.prep=me.parseByteList(be.length);break;case"glyf":X=be;break;case"loca":Oe=be;break;case"CFF ":V=be;break;case"kern":ne=be;break;case"GDEF":D=be;break;case"GPOS":le=be;break;case"GSUB":ie=be;break;case"meta":Ne=be;break}}var Ue=Pt(h,pe);if(l.tables.name=Zs.parse(Ue.data,Ue.offset,o),l.names=l.tables.name,X&&Oe){var Le=n===0,it=Pt(h,Oe),tt=bc.parse(it.data,it.offset,l.numGlyphs,Le),ot=Pt(h,X);l.glyphs=ro.parse(ot.data,ot.offset,tt,l,i)}else if(V){var ke=Pt(h,V);Us.parse(ke.data,ke.offset,l,i)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var ct=Pt(h,fe);if(Vs.parse(l,ct.data,ct.offset,l.numberOfHMetrics,l.numGlyphs,l.glyphs,i),Mu(l,i),ne){var ge=Pt(h,ne);l.kerningPairs=xc.parse(ge.data,ge.offset)}else l.kerningPairs={};if(D){var et=Pt(h,D);l.tables.gdef=fc.parse(et.data,et.offset)}if(le){var pt=Pt(h,le);l.tables.gpos=vc.parse(pt.data,pt.offset),l.position.init()}if(ie){var Me=Pt(h,ie);l.tables.gsub=js.parse(Me.data,Me.offset)}if(K){var rt=Pt(h,K);l.tables.fvar=nc.parse(rt.data,rt.offset,l.names)}if(Ne){var ut=Pt(h,Ne);l.tables.meta=Ks.parse(ut.data,ut.offset),l.metas=l.tables.meta}return l}function kc(t,i,n){n=n??{};var o=typeof window>"u",l=o&&!n.isUrl?Sc:wc;return new Promise(function(h,m){l(t,function(b,y){if(b){if(i)return i(b);m(b)}var z;try{z=ta(y,n)}catch(V){if(i)return i(V,null);m(V)}if(i)return i(null,z);h(z)})})}function Tc(t,i){var n=require("fs"),o=n.readFileSync(t);return ta(Js(o),i)}var Ec=Object.freeze({__proto__:null,Font:ft,Glyph:Kt,Path:Ot,BoundingBox:Sr,_parse:Re,parse:ta,load:kc,loadSync:Tc});const An=[{quote:`Hold the vision
trust the process`,author:"?"},{quote:`Everything
you can imagine
is real`,author:"Pablo Picasso"},{quote:`Don’t let yesterday
take up too much
of today`,author:"Will Rogers"},{quote:`Success usually comes to those
who are too busy
to be looking for it`,author:"Henry David Thoreau"},{quote:`Believe you can
and you're
halfway there`,author:"Theodore Roosevelt"},{quote:`You are never too old
to set another goal
or to dream a new dream`,author:"C.S. Lewis"},{quote:`Don't sit down and wait
for the opportunities to come.
Get up and make them`,author:"Madam C.J. Walker"},{quote:`Champions keep playing
until they get it right`,author:"Billie Jean King"},{quote:`All our dreams can come true
if we have the courage to pursue them`,author:"Walt Disney"},{quote:`Everything sent out
returns to the source—you`,author:"Rhonda Byrne"},{quote:`The better you feel about money,
the more money you magnetize to yourself`,author:"Rhonda Byrne"},{quote:`Laughter attracts joy,
releases negativity,
and leads to 
miraculous cures`,author:"Rhonda Byrne"},{quote:`You create your own universe
as you go along`,author:"Rhonda Byrne"},{quote:`Whatsoever ye 
shall ask in prayer,
believing,
ye shall receive.`,author:"Mathew 21:22"},{quote:`Decide what you want
Believe you can have it
Believe you deserve it
Believe it’s possible for you`,author:"Rhonda Byrne"},{quote:`Start telling the story
of your amazing life,
and the law of attraction
must make sure you receive it!`,author:"Rhonda Byrne"},{quote:`Food cannot cause you
to put on weight,
unless you think it can`,author:"Rhonda Byrne"},{quote:`Whenever you think
you can or think you can’t
either way you are right`,author:"Henry Ford"},{quote:`You become 
what you think about most`,author:"John Assaraf"},{quote:`See the things
that you want
as already yours`,author:"Rhonda Byrne"},{quote:`Your thoughts
become things`,author:"Rhonda Byrne"},{quote:`Your power is
in your thoughts,
so stay awake`,author:"Rhonda Byrne"},{quote:`Close some doors today,
not because of pride,
incapacity or arrogance,
but simply because
they lead you nowhere`,author:"Paolo Coelho"},{quote:`Fight for your dreams
and your dreams
will fight for you`,author:"Paolo Coelho"},{quote:`Be brave. Take risks.
Nothing can substitute
experience`,author:"Paolo Coelho"},{quote:`your thoughts are
the primary cause
of everything`,author:"Rhonda Byrne"}];function hs(t,i,n){const o=t.slice();return o[12]=i[n],o}function ls(t,i,n){const o=t.slice();return o[12]=i[n],o}function fs(t,i,n){const o=t.slice();return o[17]=i[n],o}function cs(t){let i,n,o,l,h,m,b,y,z,V,K,X,D,le,ie,fe,ne,Oe,pe,Ne=si(t[5]),me=[];for(let ve=0;ve<Ne.length;ve+=1)me[ve]=ds(ls(t,Ne,ve));let M=si(t[5]),be=[];for(let ve=0;ve<M.length;ve+=1)be[ve]=vs(hs(t,M,ve));return{c(){i=On("a"),n=Xo("🔗"),o=_a(),l=Ht("svg"),h=Ht("defs"),m=Ht("linearGradient"),b=Ht("stop"),y=Ht("stop"),z=Ht("linearGradient"),V=Ht("stop"),K=Ht("stop"),X=Ht("mask"),D=Ht("use"),le=Ht("g");for(let ve=0;ve<me.length;ve+=1)me[ve].c();ie=Ht("g");for(let ve=0;ve<be.length;ve+=1)be[ve].c();fe=_a(),ne=On("textarea"),this.h()},l(ve){i=Ln(ve,"A",{href:!0,target:!0,class:!0});var Ue=Mt(i);n=Zo(Ue,"🔗"),Ue.forEach(lt),o=xa(ve),l=qt(ve,"svg",{viewBox:!0,xmlns:!0,class:!0});var Le=Mt(l);h=qt(Le,"defs",{});var it=Mt(h);m=qt(it,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var tt=Mt(m);b=qt(tt,"stop",{"stop-color":!0,"stop-opacity":!0}),Mt(b).forEach(lt),y=qt(tt,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),Mt(y).forEach(lt),tt.forEach(lt),z=qt(it,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var ot=Mt(z);V=qt(ot,"stop",{style:!0,offset:!0}),Mt(V).forEach(lt),K=qt(ot,"stop",{style:!0,offset:!0}),Mt(K).forEach(lt),ot.forEach(lt),X=qt(it,"mask",{id:!0});var ke=Mt(X);D=qt(ke,"use",{href:!0,transform:!0}),Mt(D).forEach(lt),ke.forEach(lt),it.forEach(lt),le=qt(Le,"g",{transform:!0,style:!0});var ct=Mt(le);for(let et=0;et<me.length;et+=1)me[et].l(ct);ct.forEach(lt),ie=qt(Le,"g",{transform:!0});var ge=Mt(ie);for(let et=0;et<be.length;et+=1)be[et].l(ge);ge.forEach(lt),Le.forEach(lt),fe=xa(ve),ne=Ln(ve,"TEXTAREA",{class:!0,spellcheck:!0,title:!0}),Mt(ne).forEach(lt),this.h()},h(){Ye(i,"href",t[4]),Ye(i,"target","_blank"),Ye(i,"class","svelte-1ckk1h6"),Ye(b,"stop-color","#7D36CF"),Ye(b,"stop-opacity","0.15"),Ye(y,"offset","1"),Ye(y,"stop-color","#4F36CF"),Ye(y,"stop-opacity","0"),Ye(m,"id","gradient"),Ye(m,"x1","-73083.9"),Ye(m,"y1","7005.99"),Ye(m,"x2","-96884"),Ye(m,"y2","92747"),Ye(m,"gradientUnits","userSpaceOnUse"),wi(V,"stop-color","#372C43"),wi(V,"stop-opacity","1"),Ye(V,"offset","0"),wi(K,"stop-color","#292929"),wi(K,"stop-opacity","1"),Ye(K,"offset","1"),Ye(z,"id","linearGradient"),Ye(z,"x1","-730"),Ye(z,"y1","700"),Ye(z,"x2","-968"),Ye(z,"y2","927"),Ye(z,"gradientUnits","userSpaceOnUse"),Ye(D,"href",eu+"#circles"),Ye(D,"transform"," rotate(-28)"),Ye(X,"id","test"),Ye(le,"transform","translate(0,44) rotate(18)"),wi(le,"fill","url(#linearGradient)"),Ye(ie,"transform","translate(0,44) rotate(18)"),Ye(l,"viewBox","0 0 1600 1000"),Ye(l,"xmlns","http://www.w3.org/2000/svg"),Ye(l,"class","svelte-1ckk1h6"),Ye(ne,"class","text svelte-1ckk1h6"),Ye(ne,"spellcheck","false"),ne.disabled=t[3],Ye(ne,"title",t[1])},m(ve,Ue){pr(ve,i,Ue),er(i,n),pr(ve,o,Ue),pr(ve,l,Ue),er(l,h),er(h,m),er(m,b),er(m,y),er(h,z),er(z,V),er(z,K),er(h,X),er(X,D),er(l,le);for(let Le=0;Le<me.length;Le+=1)me[Le]&&me[Le].m(le,null);er(l,ie);for(let Le=0;Le<be.length;Le+=1)be[Le]&&be[Le].m(ie,null);pr(ve,fe,Ue),pr(ve,ne,Ue),ya(ne,t[0]),Oe||(pe=[Fn(ne,"input",t[9]),Fn(ne,"change",t[7])],Oe=!0)},p(ve,Ue){if(Ue&16&&Ye(i,"href",ve[4]),Ue&32){Ne=si(ve[5]);let Le;for(Le=0;Le<Ne.length;Le+=1){const it=ls(ve,Ne,Le);me[Le]?me[Le].p(it,Ue):(me[Le]=ds(it),me[Le].c(),me[Le].m(le,null))}for(;Le<me.length;Le+=1)me[Le].d(1);me.length=Ne.length}if(Ue&32){M=si(ve[5]);let Le;for(Le=0;Le<M.length;Le+=1){const it=hs(ve,M,Le);be[Le]?be[Le].p(it,Ue):(be[Le]=vs(it),be[Le].c(),be[Le].m(ie,null))}for(;Le<be.length;Le+=1)be[Le].d(1);be.length=M.length}Ue&8&&(ne.disabled=ve[3]),Ue&2&&Ye(ne,"title",ve[1]),Ue&1&&ya(ne,ve[0])},d(ve){ve&&(lt(i),lt(o),lt(l),lt(fe),lt(ne)),Rn(me,ve),Rn(be,ve),Oe=!1,Ho(pe)}}}function ps(t){let i,n,o,l;return{c(){i=Ht("path"),o=Ht("path"),this.h()},l(h){i=qt(h,"path",{class:!0,d:!0}),Mt(i).forEach(lt),o=qt(h,"path",{class:!0,mask:!0,d:!0}),Mt(o).forEach(lt),this.h()},h(){Ye(i,"class","shadow svelte-1ckk1h6"),Ye(i,"d",n=t[17]),Ye(o,"class","gradient svelte-1ckk1h6"),Ye(o,"mask","url(#test)"),Ye(o,"d",l=t[17])},m(h,m){pr(h,i,m),pr(h,o,m)},p(h,m){m&32&&n!==(n=h[17])&&Ye(i,"d",n),m&32&&l!==(l=h[17])&&Ye(o,"d",l)},d(h){h&&(lt(i),lt(o))}}}function ds(t){let i,n=si(t[12].shadow),o=[];for(let l=0;l<n.length;l+=1)o[l]=ps(fs(t,n,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();i=ba()},l(l){for(let h=0;h<o.length;h+=1)o[h].l(l);i=ba()},m(l,h){for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(l,h);pr(l,i,h)},p(l,h){if(h&32){n=si(l[12].shadow);let m;for(m=0;m<n.length;m+=1){const b=fs(l,n,m);o[m]?o[m].p(b,h):(o[m]=ps(b),o[m].c(),o[m].m(i.parentNode,i))}for(;m<o.length;m+=1)o[m].d(1);o.length=n.length}},d(l){l&&lt(i),Rn(o,l)}}}function vs(t){let i,n;return{c(){i=Ht("path"),this.h()},l(o){i=qt(o,"path",{class:!0,d:!0}),Mt(i).forEach(lt),this.h()},h(){Ye(i,"class","text svelte-1ckk1h6"),Ye(i,"d",n=t[12].d)},m(o,l){pr(o,i,l)},p(o,l){l&32&&n!==(n=o[12].d)&&Ye(i,"d",n)},d(o){o&&lt(i)}}}function Ic(t){let i,n,o,l=!t[2]&&cs(t);return{c(){i=On("section"),l&&l.c(),this.h()},l(h){i=Ln(h,"SECTION",{class:!0});var m=Mt(i);l&&l.l(m),m.forEach(lt),this.h()},h(){Ye(i,"class","svelte-1ckk1h6")},m(h,m){pr(h,i,m),l&&l.m(i,null),n||(o=Fn(window,"dblclick",t[6]),n=!0)},p(h,[m]){h[2]?l&&(l.d(1),l=null):l?l.p(h,m):(l=cs(h),l.c(),l.m(i,null))},i:ma,o:ma,d(h){h&&lt(i),l&&l.d(),n=!1,o()}}}function Pc(t,i,n){let o,l,h;zo(t,Yo,ie=>n(10,h=ie));const m=Math.floor(Math.random()*An.length);let b=h.url.searchParams.get("quote")||An[m].quote,y=h.url.searchParams.get("quote")?"":An[m].author,z=null,V=!0,K=!1;function X(){n(3,K=!K);const ie=document.getElementsByTagName("textarea")[0];ie.setSelectionRange(ie.value.length,ie.value.length)}function D(){n(1,y="")}Go(()=>{Ec.load($o).then(ie=>{n(8,z=ie),n(2,V=!1)})});function le(){b=this.value,n(0,b)}return t.$$.update=()=>{t.$$.dirty&257&&n(5,o=z?su(b.toLocaleUpperCase().split(`
`),z):[]),t.$$.dirty&1&&n(4,l=`${jo}?quote=${encodeURIComponent(b)}`)},[b,y,V,K,l,o,X,D,z,le]}class Mc extends qo{constructor(i){super(),Wo(this,i,Pc,Ic,Vo,{})}}export{Mc as component,Rc as universal};
